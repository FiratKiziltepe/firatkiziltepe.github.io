<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8.3.1 EriÅŸilebilirlik - IÅŸÄ±k KÄ±rÄ±lmasÄ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/scorm-style.css">
    <style>
        /* Uygun olmayan Ã¶rnek - dÃ¼ÅŸÃ¼k kontrast */
        .bad-low-contrast {
            color: #999;
            background: #aaa;
        }
        .bad-btn {
            background: #f0f0f0;
            color: #e0e0e0;
            border: none;
            padding: 5px 10px;
        }
        /* Focus gÃ¶stergesi yok */
        .bad-no-focus:focus {
            outline: none;
        }
        
        /* Uygun Ã¶rnek - WCAG uyumlu */
        .good-high-contrast {
            color: #1f2937;
            background: #ffffff;
        }
        .focus-visible-ring:focus-visible {
            outline: 3px solid #3b82f6;
            outline-offset: 2px;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Skip Link - EriÅŸilebilirlik iÃ§in -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 bg-blue-600 text-white px-4 py-2 rounded z-50">
        Ä°Ã§eriÄŸe Atla
    </a>

    <!-- SCORM Header -->
    <header class="scorm-header">
        <div class="scorm-header-content">
            <div class="scorm-logo">
                <div class="scorm-logo-icon">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                </div>
                <div>
                    <h1 class="scorm-title">EriÅŸilebilirlik</h1>
                    <p class="scorm-subtitle">Kriter 8.3.1</p>
                </div>
            </div>
            <a href="index.html" class="btn-home" aria-label="Ana sayfaya dÃ¶n">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                </svg>
                Ana Sayfa
            </a>
        </div>
    </header>

    <!-- Kriter BandÄ± -->
    <div class="criterion-banner">
        <div class="criterion-banner-content">
            <span class="criterion-number">8.3.1</span>
            <span class="criterion-title">E-iÃ§erikler evrensel tasarÄ±m ve eriÅŸilebilirlik ilkelerine uygun hazÄ±rlanmalÄ±dÄ±r.</span>
        </div>
    </div>

    <!-- Tab Navigasyonu -->
    <div class="tab-container" role="tablist" aria-label="Ã–rnek seÃ§imi">
        <button id="tab-bad" class="tab-btn tab-btn-bad active" onclick="switchTab('bad')" 
            role="tab" aria-selected="true" aria-controls="content-bad">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Uygun Olmayan
        </button>
        <button id="tab-good" class="tab-btn tab-btn-good" onclick="switchTab('good')"
            role="tab" aria-selected="false" aria-controls="content-good">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Uygun Ã–rnek
        </button>
    </div>

    <!-- Ana Ä°Ã§erik -->
    <main id="main-content" class="flex-1 content-area">
        <!-- UYGUN OLMAYAN Ã–RNEK -->
        <div id="content-bad" class="fade-in" role="tabpanel" aria-labelledby="tab-bad">
            <div class="explanation-card explanation-card-bad">
                <span class="text-2xl" aria-hidden="true">âš ï¸</span>
                <div>
                    <h3>Bu Ã–rnek Neden Uygun DeÄŸil?</h3>
                    <ul>
                        <li>Kontrast biraz yetersiz (WCAG AA sÄ±nÄ±rÄ±nda)</li>
                        <li>Bilgi sadece renkle ayÄ±rt ediliyor (sembol/metin yok)</li>
                        <li>Alternatif metin var ama yetersiz</li>
                        <li>Focus gÃ¶stergesi Ã§ok zayÄ±f</li>
                        <li>Form alanÄ± etiketsiz (placeholder ile idare edilmiÅŸ)</li>
                    </ul>
                </div>
            </div>

            <div class="simulation-container">
                <div class="simulation-header bg-gradient-to-r from-indigo-500 to-purple-500 text-white">
                    <h2 class="text-lg font-bold">IÅŸÄ±ÄŸÄ±n KÄ±rÄ±lmasÄ± SimÃ¼lasyonu</h2>
                    <p class="text-indigo-200 text-sm">Prizmada Ä±ÅŸÄ±k davranÄ±ÅŸÄ±</p>
                </div>
                <div class="simulation-body">
                    <!-- GÃ¶rÃ¼nÃ¼ÅŸte iyi yÃ¶nerge ama kontrast sorunu -->
                    <div class="bg-blue-50 border border-blue-100 rounded-lg p-4 mb-6">
                        <h3 class="font-bold text-blue-400 mb-2 flex items-center gap-2">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                            </svg>
                            KullanÄ±m KÄ±lavuzu
                        </h3>
                        <p class="text-blue-300 text-sm">IÅŸÄ±k tÃ¼rÃ¼nÃ¼ renklerden seÃ§in ve simÃ¼lasyonu baÅŸlatÄ±n.</p>
                    </div>

                    <!-- IÅŸÄ±k seÃ§imi - SADECE RENKLE (sembol/metin yok) -->
                    <div class="mb-6">
                        <p class="font-medium text-gray-700 mb-3">IÅŸÄ±k TÃ¼rÃ¼ SeÃ§imi:</p>
                        <div class="flex flex-wrap gap-3">
                            <button onclick="selectBadLight('white')" class="bad-light-btn w-12 h-12 rounded-full bg-gradient-to-r from-red-400 via-yellow-400 to-blue-400 border-4 border-gray-200 hover:border-gray-400" style="outline-offset: 1px;"></button>
                            <button onclick="selectBadLight('red')" class="bad-light-btn w-12 h-12 rounded-full bg-red-500 border-4 border-gray-200 hover:border-gray-400" style="outline-offset: 1px;"></button>
                            <button onclick="selectBadLight('green')" class="bad-light-btn w-12 h-12 rounded-full bg-green-500 border-4 border-gray-200 hover:border-gray-400" style="outline-offset: 1px;"></button>
                            <span class="text-gray-400 text-sm self-center ml-2">(Bir renk seÃ§in)</span>
                        </div>
                    </div>

                    <!-- SimÃ¼lasyon AlanÄ± -->
                    <div class="mb-6">
                        <div class="canvas-container rounded-xl overflow-hidden">
                            <canvas id="bad-prism-canvas" width="600" height="280"></canvas>
                        </div>
                        <!-- Yetersiz alt metin Ã¶rneÄŸi -->
                        <p class="text-xs text-gray-400 mt-1">GÃ¶rsel: prizma_sim.png</p>
                    </div>

                    <!-- Kontroller - focus sorunu -->
                    <div class="bg-gray-50 rounded-xl p-4 mb-6">
                        <div class="mb-4">
                            <p class="text-gray-500 text-sm mb-2">AÃ§Ä±: <span id="bad-angle-val" class="text-gray-600">45Â°</span></p>
                            <input type="range" id="bad-angle" min="0" max="90" value="45" 
                                class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                                style="outline: none;"
                                onchange="updateBadAngle(this.value)">
                        </div>

                        <div class="flex flex-wrap gap-3">
                            <button onclick="startBadPrism()" class="bg-indigo-500 text-white px-6 py-2 rounded-lg font-medium hover:bg-indigo-600" style="outline: 1px solid transparent;">
                                BaÅŸlat
                            </button>
                            <button onclick="resetBadPrism()" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-medium hover:bg-gray-300" style="outline: 1px solid transparent;">
                                SÄ±fÄ±rla
                            </button>
                        </div>
                    </div>

                    <!-- Form - etiket sorunu -->
                    <div class="bg-white border border-gray-200 rounded-xl p-4">
                        <h3 class="font-bold text-gray-800 mb-4">Test Sorusu</h3>
                        
                        <div class="mb-4">
                            <!-- Etiket yok, sadece placeholder -->
                            <input type="text" id="bad-answer" 
                                placeholder="CevabÄ±nÄ±zÄ± buraya yazÄ±n..."
                                class="w-full md:w-64 px-4 py-3 border border-gray-300 rounded-lg text-base"
                                style="outline-color: #ddd;">
                            <span class="text-red-400 text-sm ml-1">*</span>
                        </div>

                        <button onclick="checkBadAnswer()" class="bg-green-500 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-600" style="outline: 1px solid transparent;">
                            Kontrol Et
                        </button>
                        
                        <div id="bad-answer-result" class="mt-3"></div>
                    </div>
                </div>
            </div>

            <!-- SorunlarÄ± aÃ§Ä±klayan kutu -->
            <div class="mt-4 p-4 bg-amber-50 border border-amber-200 rounded-xl">
                <h4 class="font-bold text-amber-800 mb-2">ğŸ” EriÅŸilebilirlik SorunlarÄ±:</h4>
                <ul class="text-amber-700 text-sm space-y-1">
                    <li>â€¢ <strong>Kontrast:</strong> "KullanÄ±m KÄ±lavuzu" baÅŸlÄ±ÄŸÄ± ve metin Ã§ok aÃ§Ä±k mavi (4.5:1 altÄ±nda)</li>
                    <li>â€¢ <strong>Renk baÄŸÄ±mlÄ±lÄ±ÄŸÄ±:</strong> IÅŸÄ±k tÃ¼rleri SADECE renkle gÃ¶steriliyor, renk kÃ¶rÃ¼ kullanÄ±cÄ± ayÄ±rt edemez</li>
                    <li>â€¢ <strong>Alt metin:</strong> "prizma_sim.png" dosya adÄ± - iÃ§eriÄŸi aÃ§Ä±klamÄ±yor</li>
                    <li>â€¢ <strong>Focus gÃ¶stergesi:</strong> Range input ve butonlarda focus Ã§erÃ§evesi yok/Ã§ok zayÄ±f</li>
                    <li>â€¢ <strong>Form etiketi:</strong> Input alanÄ±nÄ±n label'Ä± yok, sadece placeholder var (ekran okuyucu iÃ§in yetersiz)</li>
                    <li>â€¢ <strong>KÄ±rmÄ±zÄ±-yeÅŸil:</strong> IÅŸÄ±k seÃ§eneklerinde renk kÃ¶rleri iÃ§in sorunlu kombinasyon</li>
                </ul>
            </div>
        </div>

        <!-- UYGUN Ã–RNEK -->
        <div id="content-good" class="hidden fade-in" role="tabpanel" aria-labelledby="tab-good">
            <div class="explanation-card explanation-card-good">
                <span class="text-2xl" aria-hidden="true">âœ…</span>
                <div>
                    <h3>Bu Ã–rnek Neden Uygun?</h3>
                    <ul>
                        <li>WCAG 2.1 AA standartlarÄ±na uygun kontrast (min 4.5:1)</li>
                        <li>Bilgi sadece renk ile deÄŸil, sembol ve metin ile de verilmiÅŸ</li>
                        <li>Renk kÃ¶rlÃ¼ÄŸÃ¼ne uygun renk paleti</li>
                        <li>TÃ¼m gÃ¶rsellerde anlamlÄ± alternatif metin</li>
                        <li>Tam klavye eriÅŸimi ve mantÄ±klÄ± tab sÄ±rasÄ±</li>
                        <li>GÃ¶rÃ¼nÃ¼r focus gÃ¶stergesi</li>
                        <li>Ekran okuyucu uyumlu etiketler</li>
                    </ul>
                </div>
            </div>

            <div class="simulation-container">
                <div class="simulation-header bg-gradient-to-r from-indigo-700 to-purple-700 text-white">
                    <h2 class="text-lg font-bold">IÅŸÄ±ÄŸÄ±n KÄ±rÄ±lmasÄ± SimÃ¼lasyonu</h2>
                    <p class="text-indigo-100 text-sm">Prizmada beyaz Ä±ÅŸÄ±ÄŸÄ±n renklere ayrÄ±lmasÄ±</p>
                </div>
                <div class="simulation-body">
                    <!-- AnlaÅŸÄ±lÄ±r yÃ¶nerge -->
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6" role="region" aria-label="KullanÄ±m yÃ¶nergesi">
                        <h3 class="font-bold text-blue-900 mb-2 flex items-center gap-2">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                            </svg>
                            NasÄ±l KullanÄ±lÄ±r?
                        </h3>
                        <ol class="text-blue-800 text-sm space-y-1 list-decimal list-inside">
                            <li>IÅŸÄ±k kaynaÄŸÄ± tÃ¼rÃ¼nÃ¼ seÃ§in</li>
                            <li>KÄ±rÄ±lma aÃ§Ä±sÄ±nÄ± ayarlamak iÃ§in kaydÄ±rÄ±cÄ±yÄ± kullanÄ±n</li>
                            <li>"SimÃ¼lasyonu BaÅŸlat" butonuna tÄ±klayÄ±n veya Enter tuÅŸuna basÄ±n</li>
                        </ol>
                    </div>

                    <!-- Renk kÃ¶rlÃ¼ÄŸÃ¼ne uygun gÃ¶sterim - sembol + metin ile -->
                    <fieldset class="mb-6">
                        <legend class="font-bold text-gray-800 mb-3">IÅŸÄ±k TÃ¼rÃ¼nÃ¼ SeÃ§in:</legend>
                        <div class="flex flex-wrap gap-4" role="radiogroup">
                            <label class="flex items-center gap-3 p-3 bg-white border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-400 focus-within:ring-2 focus-within:ring-blue-400">
                                <input type="radio" name="light-type" value="white" checked class="w-5 h-5 text-blue-600 focus-visible-ring">
                                <span class="flex items-center gap-2">
                                    <span class="w-6 h-6 rounded-full bg-gradient-to-r from-red-500 via-yellow-500 to-blue-500 border-2 border-gray-300" aria-hidden="true"></span>
                                    <span class="w-4 h-4 flex items-center justify-center text-xs" aria-hidden="true">â—¯</span>
                                    <span class="font-medium">Beyaz IÅŸÄ±k</span>
                                </span>
                            </label>
                            <label class="flex items-center gap-3 p-3 bg-white border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-400 focus-within:ring-2 focus-within:ring-blue-400">
                                <input type="radio" name="light-type" value="red" class="w-5 h-5 text-blue-600 focus-visible-ring">
                                <span class="flex items-center gap-2">
                                    <span class="w-6 h-6 rounded-full bg-red-500 border-2 border-gray-300" aria-hidden="true"></span>
                                    <span class="w-4 h-4 flex items-center justify-center text-xs" aria-hidden="true">â– </span>
                                    <span class="font-medium">KÄ±rmÄ±zÄ± IÅŸÄ±k</span>
                                </span>
                            </label>
                            <label class="flex items-center gap-3 p-3 bg-white border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-400 focus-within:ring-2 focus-within:ring-blue-400">
                                <input type="radio" name="light-type" value="blue" class="w-5 h-5 text-blue-600 focus-visible-ring">
                                <span class="flex items-center gap-2">
                                    <span class="w-6 h-6 rounded-full bg-blue-500 border-2 border-gray-300" aria-hidden="true"></span>
                                    <span class="w-4 h-4 flex items-center justify-center text-xs" aria-hidden="true">â–²</span>
                                    <span class="font-medium">Mavi IÅŸÄ±k</span>
                                </span>
                            </label>
                        </div>
                    </fieldset>

                    <!-- EriÅŸilebilir simÃ¼lasyon alanÄ± -->
                    <div class="mb-6">
                        <figure>
                            <div class="canvas-container rounded-xl overflow-hidden" role="img" aria-label="IÅŸÄ±k kÄ±rÄ±lmasÄ± simÃ¼lasyonu: Beyaz Ä±ÅŸÄ±k prizmaya girerek kÄ±rmÄ±zÄ±, turuncu, sarÄ±, yeÅŸil, mavi, Ã§ivit ve mor renklere ayrÄ±lÄ±yor">
                                <canvas id="accessible-canvas" width="600" height="300" aria-hidden="true"></canvas>
                            </div>
                            <figcaption class="text-sm text-gray-600 mt-2 text-center">
                                Åekil 1: Prizmada beyaz Ä±ÅŸÄ±ÄŸÄ±n gÃ¶rÃ¼nÃ¼r Ä±ÅŸÄ±k spektrumuna ayrÄ±lmasÄ±
                            </figcaption>
                        </figure>
                    </div>

                    <!-- EriÅŸilebilir kontroller -->
                    <div class="bg-gray-50 rounded-xl p-4 mb-6">
                        <div class="mb-4">
                            <label for="angle-slider" class="block font-medium text-gray-800 mb-2">
                                KÄ±rÄ±lma AÃ§Ä±sÄ±: <span id="angle-value" class="text-blue-600">45Â°</span>
                            </label>
                            <input type="range" id="angle-slider" min="0" max="90" value="45" 
                                class="w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer focus-visible-ring"
                                aria-valuemin="0" aria-valuemax="90" aria-valuenow="45" aria-valuetext="45 derece"
                                onchange="updateAngle(this.value)">
                            <div class="flex justify-between text-xs text-gray-500 mt-1">
                                <span>0Â°</span>
                                <span>45Â°</span>
                                <span>90Â°</span>
                            </div>
                        </div>

                        <div class="flex flex-wrap gap-3">
                            <button onclick="startSimulation()" class="btn btn-primary focus-visible-ring">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                                SimÃ¼lasyonu BaÅŸlat
                            </button>
                            <button onclick="resetSimulation()" class="btn btn-secondary focus-visible-ring">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                </svg>
                                SÄ±fÄ±rla
                            </button>
                        </div>
                    </div>

                    <!-- EriÅŸilebilir form Ã¶rneÄŸi -->
                    <form class="bg-white border border-gray-200 rounded-xl p-4" onsubmit="event.preventDefault(); submitAnswer();">
                        <h3 class="font-bold text-gray-800 mb-4">Bilgini Test Et</h3>
                        
                        <div class="mb-4">
                            <label for="answer-input" class="block font-medium text-gray-700 mb-2">
                                Beyaz Ä±ÅŸÄ±k prizmada kaÃ§ renge ayrÄ±lÄ±r?
                                <span class="text-red-500" aria-label="zorunlu alan">*</span>
                            </label>
                            <input type="text" id="answer-input" required
                                class="w-full md:w-48 px-4 py-3 border-2 border-gray-300 rounded-lg text-lg focus-visible-ring"
                                aria-describedby="answer-hint"
                                placeholder="CevabÄ±nÄ±zÄ± yazÄ±n">
                            <p id="answer-hint" class="text-sm text-gray-500 mt-1">
                                Ä°pucu: GÃ¶kkuÅŸaÄŸÄ±ndaki renk sayÄ±sÄ±nÄ± dÃ¼ÅŸÃ¼nÃ¼n
                            </p>
                        </div>

                        <button type="submit" class="btn btn-success focus-visible-ring">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            CevabÄ± Kontrol Et
                        </button>

                        <div id="answer-result" class="mt-4 hidden" role="alert" aria-live="polite"></div>
                    </form>

                    <!-- EriÅŸilebilirlik notu -->
                    <div class="mt-6 p-4 bg-indigo-50 border border-indigo-200 rounded-xl" role="complementary">
                        <h3 class="font-bold text-indigo-900 mb-2 flex items-center gap-2">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                            EriÅŸilebilirlik Ã–zellikleri
                        </h3>
                        <ul class="text-indigo-800 text-sm space-y-1">
                            <li>âœ“ WCAG 2.1 AA uyumlu kontrast oranlarÄ±</li>
                            <li>âœ“ Klavye ile tam eriÅŸim (Tab, Enter, Space)</li>
                            <li>âœ“ Ekran okuyucu uyumlu etiketler</li>
                            <li>âœ“ Renk + sembol + metin ile bilgi aktarÄ±mÄ±</li>
                            <li>âœ“ AnlamlÄ± alternatif metinler</li>
                            <li>âœ“ MantÄ±klÄ± baÅŸlÄ±k hiyerarÅŸisi</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="scorm-footer" role="contentinfo">
        <p>E-Ä°Ã§erik Ä°nceleme Kriterleri EÄŸitim Platformu - Kriter 8.3.1</p>
    </footer>

    <script>
        function switchTab(tab) {
            const tabBad = document.getElementById('tab-bad');
            const tabGood = document.getElementById('tab-good');
            const contentBad = document.getElementById('content-bad');
            const contentGood = document.getElementById('content-good');

            if (tab === 'bad') {
                tabBad.classList.add('active');
                tabBad.setAttribute('aria-selected', 'true');
                tabGood.classList.remove('active');
                tabGood.setAttribute('aria-selected', 'false');
                contentBad.classList.remove('hidden');
                contentGood.classList.add('hidden');
            } else {
                tabGood.classList.add('active');
                tabGood.setAttribute('aria-selected', 'true');
                tabBad.classList.remove('active');
                tabBad.setAttribute('aria-selected', 'false');
                contentGood.classList.remove('hidden');
                contentBad.classList.add('hidden');
                initCanvas();
            }
        }

        // Klavye navigasyonu iÃ§in
        document.querySelectorAll('[role="tab"]').forEach(tab => {
            tab.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
                    const tabs = Array.from(document.querySelectorAll('[role="tab"]'));
                    const currentIndex = tabs.indexOf(e.target);
                    const nextIndex = e.key === 'ArrowRight' 
                        ? (currentIndex + 1) % tabs.length 
                        : (currentIndex - 1 + tabs.length) % tabs.length;
                    tabs[nextIndex].focus();
                    tabs[nextIndex].click();
                }
            });
        });

        // KÃ¶tÃ¼ Ã¶rnek iÃ§in canvas
        const badPrismCanvas = document.getElementById('bad-prism-canvas');
        const badPrismCtx = badPrismCanvas.getContext('2d');
        let badSelectedLight = 'white';

        function initBadPrismCanvas() {
            badPrismCanvas.width = badPrismCanvas.parentElement.offsetWidth;
            badPrismCanvas.height = 280;
            drawBadPrism();
        }

        function selectBadLight(type) {
            badSelectedLight = type;
            document.querySelectorAll('.bad-light-btn').forEach(btn => {
                btn.classList.remove('ring-4', 'ring-indigo-400');
            });
            event.target.classList.add('ring-4', 'ring-indigo-400');
            drawBadPrism();
        }

        function drawBadPrism() {
            const width = badPrismCanvas.width;
            const height = badPrismCanvas.height;
            const angle = parseInt(document.getElementById('bad-angle')?.value || 45);

            badPrismCtx.fillStyle = '#0f172a';
            badPrismCtx.fillRect(0, 0, width, height);

            // IÅŸÄ±k kaynaÄŸÄ±
            badPrismCtx.fillStyle = '#fff';
            badPrismCtx.beginPath();
            badPrismCtx.arc(50, height/2, 15, 0, Math.PI * 2);
            badPrismCtx.fill();

            // Gelen Ä±ÅŸÄ±n
            const lightColors = { white: '#fff', red: '#ef4444', green: '#22c55e' };
            badPrismCtx.strokeStyle = lightColors[badSelectedLight];
            badPrismCtx.lineWidth = 4;
            badPrismCtx.beginPath();
            badPrismCtx.moveTo(65, height/2);
            badPrismCtx.lineTo(width * 0.35, height/2);
            badPrismCtx.stroke();

            // Prizma
            const prismX = width * 0.4;
            const prismY = height / 2;
            const prismSize = 80;

            badPrismCtx.fillStyle = 'rgba(147, 197, 253, 0.3)';
            badPrismCtx.beginPath();
            badPrismCtx.moveTo(prismX, prismY - prismSize/2);
            badPrismCtx.lineTo(prismX - prismSize/2, prismY + prismSize/2);
            badPrismCtx.lineTo(prismX + prismSize/2, prismY + prismSize/2);
            badPrismCtx.closePath();
            badPrismCtx.fill();
            badPrismCtx.strokeStyle = '#60a5fa';
            badPrismCtx.lineWidth = 2;
            badPrismCtx.stroke();

            // KÄ±rÄ±lan Ä±ÅŸÄ±nlar
            if (badSelectedLight === 'white') {
                const colors = ['#ef4444', '#f97316', '#eab308', '#22c55e', '#3b82f6', '#8b5cf6'];
                colors.forEach((color, i) => {
                    const angleOffset = (i - 2.5) * (angle / 12);
                    badPrismCtx.strokeStyle = color;
                    badPrismCtx.lineWidth = 3;
                    badPrismCtx.beginPath();
                    badPrismCtx.moveTo(prismX + 25, prismY + 8);
                    const endX = width - 20;
                    const endY = prismY + 8 + Math.tan(angleOffset * Math.PI / 180) * (endX - prismX - 25);
                    badPrismCtx.lineTo(endX, endY);
                    badPrismCtx.stroke();
                });
            } else {
                badPrismCtx.strokeStyle = lightColors[badSelectedLight];
                badPrismCtx.lineWidth = 4;
                badPrismCtx.beginPath();
                badPrismCtx.moveTo(prismX + 25, prismY + 8);
                badPrismCtx.lineTo(width - 20, prismY + 8 + Math.tan(angle * 0.2 * Math.PI / 180) * (width - prismX - 45));
                badPrismCtx.stroke();
            }
        }

        function updateBadAngle(val) {
            document.getElementById('bad-angle-val').textContent = val + 'Â°';
            drawBadPrism();
        }

        function startBadPrism() {
            drawBadPrism();
        }

        function resetBadPrism() {
            document.getElementById('bad-angle').value = 45;
            updateBadAngle(45);
            badSelectedLight = 'white';
            drawBadPrism();
        }

        function checkBadAnswer() {
            const answer = document.getElementById('bad-answer').value.trim();
            const result = document.getElementById('bad-answer-result');
            if (answer === '7' || answer.toLowerCase() === 'yedi') {
                result.innerHTML = '<p class="text-green-600 font-medium">âœ“ DoÄŸru!</p>';
            } else {
                result.innerHTML = '<p class="text-red-600 font-medium">âœ— YanlÄ±ÅŸ, tekrar deneyin.</p>';
            }
        }

        // Uygun Ã¶rnek iÃ§in canvas
        const canvas = document.getElementById('accessible-canvas');
        const ctx = canvas.getContext('2d');

        function initCanvas() {
            canvas.width = canvas.parentElement.offsetWidth;
            drawSimulation();
            initBadPrismCanvas();
        }

        function drawSimulation() {
            const width = canvas.width;
            const height = canvas.height;
            const angle = parseInt(document.getElementById('angle-slider').value);

            // Arka plan
            ctx.fillStyle = '#0f172a';
            ctx.fillRect(0, 0, width, height);

            // IÅŸÄ±k kaynaÄŸÄ±
            ctx.fillStyle = '#fff';
            ctx.beginPath();
            ctx.arc(50, height/2, 20, 0, Math.PI * 2);
            ctx.fill();

            // IÅŸÄ±k Ä±ÅŸÄ±nÄ±
            const lightType = document.querySelector('input[name="light-type"]:checked').value;
            ctx.strokeStyle = lightType === 'red' ? '#ef4444' : lightType === 'blue' ? '#3b82f6' : '#fff';
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(70, height/2);
            ctx.lineTo(width * 0.35, height/2);
            ctx.stroke();

            // Prizma
            const prismX = width * 0.4;
            const prismY = height / 2;
            const prismSize = 100;

            ctx.fillStyle = 'rgba(147, 197, 253, 0.3)';
            ctx.beginPath();
            ctx.moveTo(prismX, prismY - prismSize/2);
            ctx.lineTo(prismX - prismSize/2, prismY + prismSize/2);
            ctx.lineTo(prismX + prismSize/2, prismY + prismSize/2);
            ctx.closePath();
            ctx.fill();
            ctx.strokeStyle = '#60a5fa';
            ctx.lineWidth = 2;
            ctx.stroke();

            // KÄ±rÄ±lan Ä±ÅŸÄ±nlar
            if (lightType === 'white') {
                const colors = ['#ef4444', '#f97316', '#eab308', '#22c55e', '#3b82f6', '#6366f1', '#a855f7'];
                colors.forEach((color, i) => {
                    const angleOffset = (i - 3) * (angle / 15);
                    ctx.strokeStyle = color;
                    ctx.lineWidth = 3;
                    ctx.beginPath();
                    ctx.moveTo(prismX + 30, prismY + 10);
                    const endX = width - 30;
                    const endY = prismY + 10 + Math.tan(angleOffset * Math.PI / 180) * (endX - prismX - 30);
                    ctx.lineTo(endX, endY);
                    ctx.stroke();
                });
            } else {
                ctx.strokeStyle = lightType === 'red' ? '#ef4444' : '#3b82f6';
                ctx.lineWidth = 4;
                ctx.beginPath();
                ctx.moveTo(prismX + 30, prismY + 10);
                ctx.lineTo(width - 30, prismY + 10 + Math.tan(angle * 0.3 * Math.PI / 180) * (width - prismX - 60));
                ctx.stroke();
            }

            // Etiketler
            ctx.fillStyle = '#fff';
            ctx.font = '14px Nunito';
            ctx.textAlign = 'center';
            ctx.fillText('IÅŸÄ±k KaynaÄŸÄ±', 50, height/2 + 45);
            ctx.fillText('Prizma', prismX, prismY + prismSize/2 + 25);
            if (lightType === 'white') {
                ctx.fillText('Spektrum', width - 60, height/2 + 60);
            }
        }

        function updateAngle(value) {
            document.getElementById('angle-value').textContent = value + 'Â°';
            document.getElementById('angle-slider').setAttribute('aria-valuenow', value);
            document.getElementById('angle-slider').setAttribute('aria-valuetext', value + ' derece');
            drawSimulation();
        }

        function startSimulation() {
            drawSimulation();
            // Ekran okuyucu iÃ§in duyuru
            announceToScreenReader('SimÃ¼lasyon baÅŸlatÄ±ldÄ±');
        }

        function resetSimulation() {
            document.getElementById('angle-slider').value = 45;
            updateAngle(45);
            document.querySelector('input[value="white"]').checked = true;
            drawSimulation();
            announceToScreenReader('SimÃ¼lasyon sÄ±fÄ±rlandÄ±');
        }

        function submitAnswer() {
            const answer = document.getElementById('answer-input').value.trim();
            const resultDiv = document.getElementById('answer-result');
            resultDiv.classList.remove('hidden');

            if (answer === '7' || answer.toLowerCase() === 'yedi') {
                resultDiv.innerHTML = `
                    <div class="success-message">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
                        </svg>
                        DoÄŸru! Beyaz Ä±ÅŸÄ±k prizmada 7 renge (kÄ±rmÄ±zÄ±, turuncu, sarÄ±, yeÅŸil, mavi, Ã§ivit, mor) ayrÄ±lÄ±r.
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="error-message">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
                        </svg>
                        YanlÄ±ÅŸ. Tekrar deneyin. Ä°pucu: GÃ¶kkuÅŸaÄŸÄ±ndaki renkleri sayÄ±n.
                    </div>
                `;
            }
        }

        function announceToScreenReader(message) {
            const announcement = document.createElement('div');
            announcement.setAttribute('role', 'status');
            announcement.setAttribute('aria-live', 'polite');
            announcement.className = 'sr-only';
            announcement.textContent = message;
            document.body.appendChild(announcement);
            setTimeout(() => announcement.remove(), 1000);
        }

        // Sayfa yÃ¼klendiÄŸinde
        window.addEventListener('load', initCanvas);
        window.addEventListener('resize', () => {
            if (!document.getElementById('content-good').classList.contains('hidden')) {
                initCanvas();
            }
        });

        // IÅŸÄ±k tÃ¼rÃ¼ deÄŸiÅŸtiÄŸinde simÃ¼lasyonu gÃ¼ncelle
        document.querySelectorAll('input[name="light-type"]').forEach(radio => {
            radio.addEventListener('change', drawSimulation);
        });
    </script>
</body>
</html>
