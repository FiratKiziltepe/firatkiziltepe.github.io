<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8.4.4 Video AkÄ±ÅŸÄ± - IÅŸÄ±k KÄ±rÄ±lmasÄ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/scorm-style.css">
</head>
<body class="min-h-screen flex flex-col">
    <header class="scorm-header">
        <div class="scorm-header-content">
            <div class="scorm-logo">
                <div class="scorm-logo-icon">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z"/>
                    </svg>
                </div>
                <div>
                    <h1 class="scorm-title">Video AkÄ±ÅŸÄ± ve GeÃ§iÅŸler</h1>
                    <p class="scorm-subtitle">Kriter 8.4.4</p>
                </div>
            </div>
            <a href="index.html" class="btn-home">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                </svg>
                Ana Sayfa
            </a>
        </div>
    </header>

    <div class="criterion-banner">
        <div class="criterion-banner-content">
            <span class="criterion-number">8.4.4</span>
            <span class="criterion-title">Video akÄ±ÅŸÄ± ve geÃ§iÅŸler sorunsuz olmalÄ±dÄ±r.</span>
        </div>
    </div>

    <div class="tab-container">
        <button id="tab-bad" class="tab-btn tab-btn-bad active" onclick="switchTab('bad')">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Uygun Olmayan
        </button>
        <button id="tab-good" class="tab-btn tab-btn-good" onclick="switchTab('good')">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Uygun Ã–rnek
        </button>
    </div>

    <main class="flex-1 content-area">
        <div id="content-bad" class="fade-in">
            <div class="explanation-card explanation-card-bad">
                <span class="text-2xl">âš ï¸</span>
                <div>
                    <h3>Bu Ã–rnek Neden Uygun DeÄŸil?</h3>
                    <ul>
                        <li>DÃ¼ÅŸÃ¼k kare hÄ±zÄ± ve takÄ±lmalar</li>
                        <li>Uygunsuz ve dikkat daÄŸÄ±tÄ±cÄ± geÃ§iÅŸ efektleri</li>
                        <li>Sahneler arasÄ± ani ve rahatsÄ±z edici geÃ§iÅŸler</li>
                        <li>Video akÄ±ÅŸÄ±nda kesintiler</li>
                    </ul>
                </div>
            </div>

            <div class="simulation-container">
                <div class="simulation-header">
                    <h2>IÅŸÄ±k KÄ±rÄ±lmasÄ± Animasyonu</h2>
                </div>
                <div class="simulation-body p-0">
                    <div class="relative bg-gray-900" style="aspect-ratio: 16/9;">
                        <canvas id="bad-flow-canvas" class="w-full h-full"></canvas>
                        <div class="absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded">
                            15 fps - TakÄ±lÄ±yor
                        </div>
                        <div id="bad-transition" class="absolute inset-0 flex items-center justify-center hidden">
                            <!-- KÃ¶tÃ¼ geÃ§iÅŸ efekti simÃ¼lasyonu -->
                        </div>
                    </div>
                    
                    <div class="p-4">
                        <div class="flex gap-3 mb-4">
                            <button onclick="playBadAnimation()" class="btn btn-danger">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                                KÃ¶tÃ¼ AkÄ±ÅŸÄ± GÃ¶ster
                            </button>
                            <button onclick="showBadTransition()" class="btn btn-secondary">
                                KÃ¶tÃ¼ GeÃ§iÅŸ Efekti
                            </button>
                        </div>

                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-red-50 border border-red-200 rounded-lg p-3">
                                <h4 class="font-bold text-red-800 text-sm mb-2">AkÄ±ÅŸ SorunlarÄ±</h4>
                                <ul class="text-red-700 text-xs space-y-1">
                                    <li>â€¢ 15 fps - DÃ¼ÅŸÃ¼k kare hÄ±zÄ±</li>
                                    <li>â€¢ Atlayan/takÄ±lan kareler</li>
                                    <li>â€¢ Buffer (Ã¶nbellek) sorunlarÄ±</li>
                                </ul>
                            </div>
                            <div class="bg-red-50 border border-red-200 rounded-lg p-3">
                                <h4 class="font-bold text-red-800 text-sm mb-2">GeÃ§iÅŸ SorunlarÄ±</h4>
                                <ul class="text-red-700 text-xs space-y-1">
                                    <li>â€¢ DÃ¶nen yÄ±ldÄ±z efekti (aÅŸÄ±rÄ±)</li>
                                    <li>â€¢ Parlak flash geÃ§iÅŸi</li>
                                    <li>â€¢ Rastgele wipe efektleri</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="content-good" class="hidden fade-in">
            <div class="explanation-card explanation-card-good">
                <span class="text-2xl">âœ…</span>
                <div>
                    <h3>Bu Ã–rnek Neden Uygun?</h3>
                    <ul>
                        <li>AkÄ±cÄ± 60 fps animasyon</li>
                        <li>Uygun ve sade geÃ§iÅŸ efektleri</li>
                        <li>Dikkat daÄŸÄ±tmayan yumuÅŸak geÃ§iÅŸler</li>
                        <li>Kesintisiz video akÄ±ÅŸÄ±</li>
                    </ul>
                </div>
            </div>

            <div class="simulation-container">
                <div class="simulation-header bg-gradient-to-r from-purple-600 to-indigo-600 text-white">
                    <h2 class="text-lg font-bold">IÅŸÄ±k KÄ±rÄ±lmasÄ± - AkÄ±cÄ± Animasyon</h2>
                    <p class="text-purple-100 text-sm">60fps, yumuÅŸak geÃ§iÅŸler</p>
                </div>
                <div class="simulation-body p-0">
                    <div class="relative" style="aspect-ratio: 16/9;">
                        <canvas id="good-flow-canvas" class="w-full h-full"></canvas>
                        <div class="absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded">
                            60 fps - AkÄ±cÄ±
                        </div>
                    </div>
                    
                    <div class="p-4">
                        <div class="flex flex-wrap gap-3 mb-4">
                            <button onclick="playGoodAnimation()" class="btn btn-success">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                                AkÄ±cÄ± Animasyonu BaÅŸlat
                            </button>
                            <button onclick="showFadeTransition()" class="btn btn-secondary">Fade GeÃ§iÅŸ</button>
                            <button onclick="showDissolveTransition()" class="btn btn-secondary">Dissolve GeÃ§iÅŸ</button>
                        </div>

                        <!-- AkÄ±ÅŸ gÃ¶stergeleri -->
                        <div class="grid md:grid-cols-4 gap-3 mb-4">
                            <div class="bg-green-50 border border-green-200 rounded-lg p-3 text-center">
                                <p class="text-2xl font-bold text-green-600">60</p>
                                <p class="text-xs text-green-700">Kare/Saniye</p>
                            </div>
                            <div class="bg-green-50 border border-green-200 rounded-lg p-3 text-center">
                                <p class="text-2xl font-bold text-green-600">0</p>
                                <p class="text-xs text-green-700">Atlanan Kare</p>
                            </div>
                            <div class="bg-green-50 border border-green-200 rounded-lg p-3 text-center">
                                <p class="text-2xl font-bold text-green-600">16ms</p>
                                <p class="text-xs text-green-700">Kare SÃ¼resi</p>
                            </div>
                            <div class="bg-green-50 border border-green-200 rounded-lg p-3 text-center">
                                <p class="text-2xl font-bold text-green-600">VBR</p>
                                <p class="text-xs text-green-700">Bit OranÄ±</p>
                            </div>
                        </div>

                        <div class="bg-gray-50 rounded-xl p-4">
                            <h3 class="font-bold text-gray-800 mb-3">GeÃ§iÅŸ Efektleri KarÅŸÄ±laÅŸtÄ±rmasÄ±</h3>
                            <div class="overflow-x-auto">
                                <table class="w-full text-sm">
                                    <thead>
                                        <tr class="text-left border-b">
                                            <th class="pb-2">Efekt</th>
                                            <th class="pb-2">Uygun mu?</th>
                                            <th class="pb-2">AÃ§Ä±klama</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-gray-600">
                                        <tr class="border-b">
                                            <td class="py-2">Cut (Kesme)</td>
                                            <td><span class="text-green-600">âœ“ Uygun</span></td>
                                            <td>HÄ±zlÄ± ve temiz</td>
                                        </tr>
                                        <tr class="border-b">
                                            <td class="py-2">Fade (Solma)</td>
                                            <td><span class="text-green-600">âœ“ Uygun</span></td>
                                            <td>YumuÅŸak ve profesyonel</td>
                                        </tr>
                                        <tr class="border-b">
                                            <td class="py-2">Dissolve</td>
                                            <td><span class="text-green-600">âœ“ Uygun</span></td>
                                            <td>Sahneler arasÄ± geÃ§iÅŸ</td>
                                        </tr>
                                        <tr class="border-b">
                                            <td class="py-2">Star Wipe</td>
                                            <td><span class="text-red-600">âœ— Uygun deÄŸil</span></td>
                                            <td>Dikkat daÄŸÄ±tÄ±cÄ±</td>
                                        </tr>
                                        <tr>
                                            <td class="py-2">Flash</td>
                                            <td><span class="text-red-600">âœ— Uygun deÄŸil</span></td>
                                            <td>GÃ¶z yorucu</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="scorm-footer">
        <p>E-Ä°Ã§erik Ä°nceleme Kriterleri EÄŸitim Platformu - Kriter 8.4.4</p>
    </footer>

    <script>
        let badAnimId, goodAnimId;
        let badFrame = 0, goodFrame = 0;

        function switchTab(tab) {
            document.getElementById('tab-bad').classList.toggle('active', tab === 'bad');
            document.getElementById('tab-good').classList.toggle('active', tab === 'good');
            document.getElementById('content-bad').classList.toggle('hidden', tab !== 'bad');
            document.getElementById('content-good').classList.toggle('hidden', tab !== 'good');
            cancelAnimationFrame(badAnimId);
            cancelAnimationFrame(goodAnimId);
            if (tab === 'bad') initBadCanvas();
            else initGoodCanvas();
        }

        function initBadCanvas() {
            const canvas = document.getElementById('bad-flow-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.parentElement.offsetWidth;
            canvas.height = canvas.parentElement.offsetHeight;
            drawBadFrame(ctx, canvas.width, canvas.height, 0);
        }

        function initGoodCanvas() {
            const canvas = document.getElementById('good-flow-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.parentElement.offsetWidth;
            canvas.height = canvas.parentElement.offsetHeight;
            drawGoodFrame(ctx, canvas.width, canvas.height, 0);
        }

        function drawBadFrame(ctx, w, h, frame) {
            ctx.fillStyle = '#0a0a1a';
            ctx.fillRect(0, 0, w, h);

            // IÅŸÄ±k kaynaÄŸÄ±
            ctx.fillStyle = '#fff';
            ctx.beginPath();
            ctx.arc(50, h/2, 15, 0, Math.PI * 2);
            ctx.fill();

            // TakÄ±lan animasyon (her 4 karede 1 gÃ¼ncelleme)
            const actualFrame = Math.floor(frame / 4);
            const progress = (actualFrame % 60) / 60;

            // IÅŸÄ±k Ä±ÅŸÄ±nÄ±
            if (progress < 0.4) {
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(65, h/2);
                ctx.lineTo(65 + progress * 2.5 * (w * 0.3), h/2);
                ctx.stroke();
            }

            // Prizma
            ctx.fillStyle = 'rgba(100, 200, 255, 0.3)';
            ctx.beginPath();
            ctx.moveTo(w * 0.4, h * 0.2);
            ctx.lineTo(w * 0.3, h * 0.8);
            ctx.lineTo(w * 0.5, h * 0.8);
            ctx.closePath();
            ctx.fill();
        }

        function drawGoodFrame(ctx, w, h, frame) {
            ctx.fillStyle = '#0f0c29';
            ctx.fillRect(0, 0, w, h);

            // YÄ±ldÄ±zlar
            for (let i = 0; i < 30; i++) {
                ctx.fillStyle = `rgba(255,255,255,${0.3 + Math.sin(frame * 0.02 + i) * 0.2})`;
                ctx.beginPath();
                ctx.arc((i * 47) % w, (i * 31) % h, 1, 0, Math.PI * 2);
                ctx.fill();
            }

            const progress = (frame % 180) / 180;

            // IÅŸÄ±k kaynaÄŸÄ± glow
            const glowSize = 40 + Math.sin(frame * 0.1) * 5;
            const glow = ctx.createRadialGradient(60, h/2, 0, 60, h/2, glowSize);
            glow.addColorStop(0, 'rgba(255,255,200,0.8)');
            glow.addColorStop(1, 'rgba(255,255,0,0)');
            ctx.fillStyle = glow;
            ctx.beginPath();
            ctx.arc(60, h/2, glowSize, 0, Math.PI * 2);
            ctx.fill();

            ctx.fillStyle = '#fff';
            ctx.beginPath();
            ctx.arc(60, h/2, 15, 0, Math.PI * 2);
            ctx.fill();

            // IÅŸÄ±k Ä±ÅŸÄ±nÄ± (smooth)
            if (progress < 0.35) {
                const beamProgress = progress / 0.35;
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 4;
                ctx.shadowColor = '#fff';
                ctx.shadowBlur = 10;
                ctx.beginPath();
                ctx.moveTo(75, h/2);
                ctx.lineTo(75 + beamProgress * (w * 0.25), h/2);
                ctx.stroke();
                ctx.shadowBlur = 0;
            }

            // Prizma
            const prismX = w * 0.4, prismY = h / 2, prismSize = Math.min(w, h) * 0.35;
            ctx.fillStyle = 'rgba(147, 197, 253, 0.3)';
            ctx.beginPath();
            ctx.moveTo(prismX, prismY - prismSize/2);
            ctx.lineTo(prismX - prismSize/2, prismY + prismSize/2);
            ctx.lineTo(prismX + prismSize/2, prismY + prismSize/2);
            ctx.closePath();
            ctx.fill();
            ctx.strokeStyle = '#60a5fa';
            ctx.lineWidth = 2;
            ctx.stroke();

            // KÄ±rÄ±lan Ä±ÅŸÄ±nlar (smooth animation)
            if (progress > 0.35) {
                const rayProgress = Math.min((progress - 0.35) / 0.5, 1);
                const colors = ['#ef4444', '#f97316', '#eab308', '#22c55e', '#3b82f6', '#6366f1', '#a855f7'];
                colors.forEach((color, i) => {
                    ctx.strokeStyle = color;
                    ctx.lineWidth = 3;
                    ctx.shadowColor = color;
                    ctx.shadowBlur = 8;
                    ctx.beginPath();
                    ctx.moveTo(prismX + 20, prismY);
                    const endX = prismX + 20 + rayProgress * (w * 0.5);
                    const endY = prismY + (i - 3) * 25 * rayProgress;
                    ctx.lineTo(endX, endY);
                    ctx.stroke();
                });
                ctx.shadowBlur = 0;
            }
        }

        function playBadAnimation() {
            badFrame = 0;
            const canvas = document.getElementById('bad-flow-canvas');
            const ctx = canvas.getContext('2d');
            
            function animate() {
                badFrame++;
                drawBadFrame(ctx, canvas.width, canvas.height, badFrame);
                
                // TakÄ±lma simÃ¼lasyonu
                if (Math.random() > 0.9) {
                    setTimeout(() => {
                        if (badFrame < 240) badAnimId = requestAnimationFrame(animate);
                    }, 100);
                } else {
                    if (badFrame < 240) badAnimId = requestAnimationFrame(animate);
                }
            }
            animate();
        }

        function playGoodAnimation() {
            goodFrame = 0;
            const canvas = document.getElementById('good-flow-canvas');
            const ctx = canvas.getContext('2d');
            
            function animate() {
                goodFrame++;
                drawGoodFrame(ctx, canvas.width, canvas.height, goodFrame);
                if (goodFrame < 180) goodAnimId = requestAnimationFrame(animate);
            }
            animate();
        }

        function showBadTransition() {
            alert('KÃ¶tÃ¼ GeÃ§iÅŸ Efekti Ã–rneÄŸi:\n\nâ­ DÃ¶nen yÄ±ldÄ±z efekti\nğŸ’¥ Parlak flash\nğŸŒ€ 3D dÃ¶ndÃ¼rme\n\nBu efektler dikkat daÄŸÄ±tÄ±cÄ± ve profesyonel olmayan bir izlenim yaratÄ±r.');
        }

        function showFadeTransition() {
            const canvas = document.getElementById('good-flow-canvas');
            const ctx = canvas.getContext('2d');
            let opacity = 1;
            
            function fade() {
                opacity -= 0.02;
                ctx.fillStyle = `rgba(15, 12, 41, ${1 - opacity})`;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                if (opacity > 0) requestAnimationFrame(fade);
                else {
                    setTimeout(() => {
                        goodFrame = 0;
                        playGoodAnimation();
                    }, 500);
                }
            }
            fade();
        }

        function showDissolveTransition() {
            const canvas = document.getElementById('good-flow-canvas');
            const ctx = canvas.getContext('2d');
            let progress = 0;
            
            function dissolve() {
                progress += 0.02;
                
                // Pixel dissolve efekti
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                for (let i = 0; i < imageData.data.length; i += 4) {
                    if (Math.random() < progress) {
                        imageData.data[i + 3] = 0;
                    }
                }
                ctx.putImageData(imageData, 0, 0);
                
                if (progress < 1) requestAnimationFrame(dissolve);
                else {
                    setTimeout(() => {
                        goodFrame = 0;
                        playGoodAnimation();
                    }, 500);
                }
            }
            dissolve();
        }

        window.addEventListener('load', initBadCanvas);
    </script>
</body>
</html>
