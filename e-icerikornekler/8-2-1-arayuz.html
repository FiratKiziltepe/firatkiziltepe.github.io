<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8.2.1 ArayÃ¼z TasarÄ±mÄ± - KaldÄ±rma Kuvveti</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/scorm-style.css">
</head>
<body class="min-h-screen flex flex-col">
    <!-- SCORM Header -->
    <header class="scorm-header">
        <div class="scorm-header-content">
            <div class="scorm-logo">
                <div class="scorm-logo-icon">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
                    </svg>
                </div>
                <div>
                    <h1 class="scorm-title">ArayÃ¼z TasarÄ±mÄ± ve KullanÄ±labilirlik</h1>
                    <p class="scorm-subtitle">Kriter 8.2.1</p>
                </div>
            </div>
            <a href="index.html" class="btn-home">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                </svg>
                Ana Sayfa
            </a>
        </div>
    </header>

    <!-- Kriter BandÄ± -->
    <div class="criterion-banner">
        <div class="criterion-banner-content">
            <span class="criterion-number">8.2.1</span>
            <span class="criterion-title">ArayÃ¼z basit, anlaÅŸÄ±lÄ±r ve kullanÄ±mÄ± kolay olmalÄ±dÄ±r.</span>
        </div>
    </div>

    <!-- Tab Navigasyonu -->
    <div class="tab-container">
        <button id="tab-bad" class="tab-btn tab-btn-bad active" onclick="switchTab('bad')">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Uygun Olmayan
        </button>
        <button id="tab-good" class="tab-btn tab-btn-good" onclick="switchTab('good')">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Uygun Ã–rnek
        </button>
    </div>

    <!-- Ana Ä°Ã§erik -->
    <main class="flex-1 content-area">
        <!-- UYGUN OLMAYAN Ã–RNEK -->
        <div id="content-bad" class="fade-in">
            <div class="explanation-card explanation-card-bad">
                <span class="text-2xl">âš ï¸</span>
                <div>
                    <h3>Bu Ã–rnek Neden Uygun DeÄŸil?</h3>
                    <ul>
                        <li>BazÄ± dÃ¼ÄŸmeler sadece simge iÃ§eriyor, iÅŸlevi belirsiz</li>
                        <li>SÄ±vÄ± seÃ§imi aÃ§Ä±lÄ±r menÃ¼sÃ¼ eksik</li>
                        <li>SonuÃ§ paneli yok - deÄŸerler nerede gÃ¶rÃ¼necek?</li>
                        <li>"?" butonu ne iÅŸe yarÄ±yor belli deÄŸil</li>
                        <li>Cisim boyutu ayarÄ± eksik</li>
                    </ul>
                </div>
            </div>

            <div class="simulation-container">
                <div class="simulation-header bg-gradient-to-r from-blue-600 to-cyan-500 text-white">
                    <h2 class="text-lg font-bold">SÄ±vÄ±larÄ±n KaldÄ±rma Kuvveti SimÃ¼lasyonu</h2>
                    <p class="text-blue-100 text-sm">Archimedes Prensibi - EtkileÅŸimli Deney</p>
                </div>
                <div class="simulation-body">
                    <div class="grid md:grid-cols-3 gap-4">
                        <!-- Kontrol Paneli - Eksik ve belirsiz -->
                        <div class="bg-gray-50 rounded-xl p-4 border border-gray-200">
                            <h3 class="font-bold text-gray-800 mb-3 flex items-center gap-2">
                                <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>
                                </svg>
                                Ayarlar
                            </h3>
                            
                            <div class="space-y-4">
                                <!-- Sadece cisim seÃ§imi var, sÄ±vÄ± yok -->
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Cisim</label>
                                    <select id="bad-object" class="w-full p-2 border border-gray-300 rounded-lg text-sm">
                                        <option value="wood">Tahta</option>
                                        <option value="plastic">Plastik</option>
                                        <option value="iron">Demir</option>
                                        <option value="cork">Mantar</option>
                                    </select>
                                </div>
                                
                                <!-- YoÄŸunluk deÄŸeri var ama ne iÅŸe yaradÄ±ÄŸÄ± belirsiz -->
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Ï DeÄŸeri</label>
                                    <input type="number" value="1000" class="w-full p-2 border border-gray-300 rounded-lg text-sm">
                                </div>
                            </div>

                            <!-- Belirsiz butonlar -->
                            <div class="flex gap-2 mt-4">
                                <button onclick="startBadSim()" class="flex-1 btn btn-success">
                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </button>
                                <button onclick="resetBadSim()" class="flex-1 btn btn-secondary">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                </button>
                                <button class="flex-1 btn btn-secondary">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- SimÃ¼lasyon GÃ¶rÃ¼nÃ¼mÃ¼ -->
                        <div class="md:col-span-2">
                            <div class="canvas-container" style="min-height: 300px;">
                                <canvas id="bad-canvas" width="500" height="300"></canvas>
                            </div>
                            
                            <!-- SonuÃ§ paneli YOK - sadece durum gÃ¶steriliyor -->
                            <div class="mt-4 p-3 bg-gray-100 rounded-lg text-center">
                                <p class="text-gray-600" id="bad-status-text">SimÃ¼lasyonu baÅŸlatÄ±n</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SorunlarÄ± aÃ§Ä±klayan kutu -->
            <div class="mt-4 p-4 bg-amber-50 border border-amber-200 rounded-xl">
                <h4 class="font-bold text-amber-800 mb-2">ğŸ” Ä°nceleme NotlarÄ±:</h4>
                <ul class="text-amber-700 text-sm space-y-1">
                    <li>â€¢ Butonlarda sadece simge var, metin etiket yok - kullanÄ±cÄ± ne yaptÄ±ÄŸÄ±nÄ± anlamÄ±yor</li>
                    <li>â€¢ SÄ±vÄ± tÃ¼rÃ¼ seÃ§imi eksik (su mu, yaÄŸ mÄ±, cÄ±va mÄ±?)</li>
                    <li>â€¢ "Ï DeÄŸeri" etiketi teknik, Ã¶ÄŸrenci "yoÄŸunluk" anlamaz</li>
                    <li>â€¢ KaldÄ±rma kuvveti ve aÄŸÄ±rlÄ±k deÄŸerleri gÃ¶sterilmiyor</li>
                    <li>â€¢ Cisim boyutu ayarlanamÄ±yor</li>
                    <li>â€¢ "?" butonu ne iÅŸe yarar belirsiz</li>
                </ul>
            </div>
        </div>

        <!-- UYGUN Ã–RNEK -->
        <div id="content-good" class="hidden fade-in">
            <div class="explanation-card explanation-card-good">
                <span class="text-2xl">âœ…</span>
                <div>
                    <h3>Bu Ã–rnek Neden Uygun?</h3>
                    <ul>
                        <li>Basit, anlaÅŸÄ±lÄ±r ve sezgisel arayÃ¼z</li>
                        <li>Ä°ÅŸlevini yansÄ±tan aÃ§Ä±k etiketli dÃ¼ÄŸmeler</li>
                        <li>Kolay hatÄ±rlanabilir simgeler</li>
                        <li>TÃ¼m denetim Ã¶geleri eksiksiz</li>
                        <li>KullanÄ±cÄ± dostu ve modern tasarÄ±m</li>
                    </ul>
                </div>
            </div>

            <div class="simulation-container">
                <div class="simulation-header bg-gradient-to-r from-blue-600 to-cyan-500 text-white">
                    <h2 class="text-lg font-bold">SÄ±vÄ±larÄ±n KaldÄ±rma Kuvveti SimÃ¼lasyonu</h2>
                    <p class="text-blue-100 text-sm">Archimedes Prensibi - EtkileÅŸimli Deney</p>
                </div>
                <div class="simulation-body">
                    <div class="grid md:grid-cols-3 gap-4">
                        <!-- Kontrol Paneli -->
                        <div class="bg-gray-50 rounded-xl p-4 border border-gray-200">
                            <h3 class="font-bold text-gray-800 mb-3 flex items-center gap-2">
                                <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>
                                </svg>
                                Kontroller
                            </h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">SÄ±vÄ± YoÄŸunluÄŸu</label>
                                    <select id="good-liquid" class="w-full p-2 border border-gray-300 rounded-lg text-sm" onchange="updateGoodSim()">
                                        <option value="1000">Su (1000 kg/mÂ³)</option>
                                        <option value="1025">Tuzlu Su (1025 kg/mÂ³)</option>
                                        <option value="13600">CÄ±va (13600 kg/mÂ³)</option>
                                        <option value="800">YaÄŸ (800 kg/mÂ³)</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Cisim TÃ¼rÃ¼</label>
                                    <select id="good-object" class="w-full p-2 border border-gray-300 rounded-lg text-sm" onchange="updateGoodSim()">
                                        <option value="wood">Tahta (600 kg/mÂ³)</option>
                                        <option value="plastic">Plastik (900 kg/mÂ³)</option>
                                        <option value="iron">Demir (7800 kg/mÂ³)</option>
                                        <option value="cork">Mantar (200 kg/mÂ³)</option>
                                    </select>
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Cisim Boyutu</label>
                                    <input type="range" id="good-size" min="20" max="60" value="40" class="w-full" onchange="updateGoodSim()">
                                    <div class="flex justify-between text-xs text-gray-500">
                                        <span>KÃ¼Ã§Ã¼k</span>
                                        <span>BÃ¼yÃ¼k</span>
                                    </div>
                                </div>
                            </div>

                            <div class="flex gap-2 mt-4">
                                <button onclick="startGoodSim()" class="flex-1 btn btn-success">
                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                    BaÅŸlat
                                </button>
                                <button onclick="resetGoodSim()" class="flex-1 btn btn-secondary">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                    SÄ±fÄ±rla
                                </button>
                            </div>
                        </div>

                        <!-- SimÃ¼lasyon GÃ¶rÃ¼nÃ¼mÃ¼ -->
                        <div class="md:col-span-2">
                            <div class="canvas-container" style="min-height: 300px;">
                                <canvas id="good-canvas" width="500" height="300"></canvas>
                            </div>
                            
                            <!-- SonuÃ§ Paneli -->
                            <div class="grid grid-cols-3 gap-3 mt-4">
                                <div class="bg-blue-50 rounded-lg p-3 text-center border border-blue-200">
                                    <p class="text-xs text-blue-600 font-medium">KaldÄ±rma Kuvveti</p>
                                    <p class="text-xl font-bold text-blue-800" id="good-buoyancy">0 N</p>
                                </div>
                                <div class="bg-orange-50 rounded-lg p-3 text-center border border-orange-200">
                                    <p class="text-xs text-orange-600 font-medium">AÄŸÄ±rlÄ±k</p>
                                    <p class="text-xl font-bold text-orange-800" id="good-weight">0 N</p>
                                </div>
                                <div class="bg-green-50 rounded-lg p-3 text-center border border-green-200">
                                    <p class="text-xs text-green-600 font-medium">Durum</p>
                                    <p class="text-lg font-bold text-green-800" id="good-status">HazÄ±r</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Ä°pucu -->
                    <div class="hint-box mt-4">
                        <svg class="w-5 h-5 text-amber-600" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                        </svg>
                        <span><strong>Ä°pucu:</strong> FarklÄ± sÄ±vÄ± ve cisim kombinasyonlarÄ±nÄ± deneyin. Cismin yoÄŸunluÄŸu sÄ±vÄ±dan dÃ¼ÅŸÃ¼kse yÃ¼zer, yÃ¼ksekse batar!</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="scorm-footer">
        <p>E-Ä°Ã§erik Ä°nceleme Kriterleri EÄŸitim Platformu - Kriter 8.2.1</p>
    </footer>

    <script>
        // Tab deÄŸiÅŸtirme
        function switchTab(tab) {
            const tabBad = document.getElementById('tab-bad');
            const tabGood = document.getElementById('tab-good');
            const contentBad = document.getElementById('content-bad');
            const contentGood = document.getElementById('content-good');

            if (tab === 'bad') {
                tabBad.classList.add('active');
                tabGood.classList.remove('active');
                contentBad.classList.remove('hidden');
                contentGood.classList.add('hidden');
            } else {
                tabGood.classList.add('active');
                tabBad.classList.remove('active');
                contentGood.classList.remove('hidden');
                contentBad.classList.add('hidden');
                initGoodCanvas();
            }
        }

        // KÃ¶tÃ¼ simÃ¼lasyon - gÃ¼zel gÃ¶rÃ¼nÃ¼yor ama eksik
        const badCanvas = document.getElementById('bad-canvas');
        const badCtx = badCanvas.getContext('2d');
        let badObjectY = 50;
        let badAnimRunning = false;

        function initBadCanvas() {
            badCanvas.width = badCanvas.parentElement.offsetWidth;
            badCanvas.height = 300;
            drawBadSim();
        }

        function drawBadSim() {
            const width = badCanvas.width;
            const height = badCanvas.height;
            const waterLevel = height * 0.3;

            // Arka plan
            badCtx.fillStyle = '#E0F7FA';
            badCtx.fillRect(0, 0, width, waterLevel);
            
            // Su (her zaman aynÄ± - sÄ±vÄ± seÃ§imi yok)
            badCtx.fillStyle = '#2196F390';
            badCtx.fillRect(0, waterLevel, width, height - waterLevel);
            
            // Su yÃ¼zeyi
            badCtx.strokeStyle = '#2196F3';
            badCtx.lineWidth = 3;
            badCtx.beginPath();
            badCtx.moveTo(0, waterLevel);
            badCtx.lineTo(width, waterLevel);
            badCtx.stroke();
            
            // Kap kenarlarÄ±
            badCtx.strokeStyle = '#546E7A';
            badCtx.lineWidth = 4;
            badCtx.beginPath();
            badCtx.moveTo(20, waterLevel - 20);
            badCtx.lineTo(20, height - 10);
            badCtx.lineTo(width - 20, height - 10);
            badCtx.lineTo(width - 20, waterLevel - 20);
            badCtx.stroke();
            
            // Cisim (sabit boyut - ayarlanamÄ±yor)
            const objType = document.getElementById('bad-object').value;
            const colors = { wood: '#8B4513', plastic: '#FF6B6B', iron: '#4A5568', cork: '#D4A574' };
            const size = 40; // Sabit boyut
            
            badCtx.fillStyle = colors[objType] || '#888';
            badCtx.beginPath();
            badCtx.roundRect(width/2 - size/2, badObjectY, size, size, 8);
            badCtx.fill();
        }

        function startBadSim() {
            if (badAnimRunning) return;
            badAnimRunning = true;
            badObjectY = 20;
            animateBad();
        }

        function animateBad() {
            const waterLevel = badCanvas.height * 0.3;
            const maxY = badCanvas.height - 50;
            
            badObjectY += 2;
            
            if (badObjectY > maxY) {
                badObjectY = maxY;
                badAnimRunning = false;
                document.getElementById('bad-status-text').textContent = 'SimÃ¼lasyon tamamlandÄ±';
                return;
            }
            
            if (badObjectY > waterLevel) {
                document.getElementById('bad-status-text').textContent = 'Cisim suda...';
            }
            
            drawBadSim();
            requestAnimationFrame(animateBad);
        }

        function resetBadSim() {
            badAnimRunning = false;
            badObjectY = 50;
            drawBadSim();
            document.getElementById('bad-status-text').textContent = 'SimÃ¼lasyonu baÅŸlatÄ±n';
        }

        initBadCanvas();

        // Ä°yi simÃ¼lasyon
        const goodCanvas = document.getElementById('good-canvas');
        const goodCtx = goodCanvas.getContext('2d');
        let goodAnimId = null;
        let objectY = 50;
        let objectVelocity = 0;
        let isRunning = false;

        const objects = {
            wood: { density: 600, color: '#8B4513', name: 'Tahta' },
            plastic: { density: 900, color: '#FF6B6B', name: 'Plastik' },
            iron: { density: 7800, color: '#4A5568', name: 'Demir' },
            cork: { density: 200, color: '#D4A574', name: 'Mantar' }
        };

        function initGoodCanvas() {
            goodCanvas.width = goodCanvas.parentElement.offsetWidth;
            goodCanvas.height = 300;
            drawGoodSim();
        }

        function drawGoodSim() {
            const width = goodCanvas.width;
            const height = goodCanvas.height;
            const waterLevel = height * 0.3;
            
            // Arka plan
            goodCtx.fillStyle = '#E0F7FA';
            goodCtx.fillRect(0, 0, width, waterLevel);
            
            // Su
            const liquidSelect = document.getElementById('good-liquid');
            const liquidDensity = parseInt(liquidSelect.value);
            let waterColor = '#2196F3';
            if (liquidDensity === 13600) waterColor = '#9E9E9E';
            else if (liquidDensity === 800) waterColor = '#FFC107';
            else if (liquidDensity === 1025) waterColor = '#0097A7';
            
            goodCtx.fillStyle = waterColor + '90';
            goodCtx.fillRect(0, waterLevel, width, height - waterLevel);
            
            // Su yÃ¼zeyi Ã§izgisi
            goodCtx.strokeStyle = waterColor;
            goodCtx.lineWidth = 3;
            goodCtx.beginPath();
            goodCtx.moveTo(0, waterLevel);
            goodCtx.lineTo(width, waterLevel);
            goodCtx.stroke();
            
            // Kap kenarlarÄ±
            goodCtx.strokeStyle = '#546E7A';
            goodCtx.lineWidth = 4;
            goodCtx.beginPath();
            goodCtx.moveTo(20, waterLevel - 20);
            goodCtx.lineTo(20, height - 10);
            goodCtx.lineTo(width - 20, height - 10);
            goodCtx.lineTo(width - 20, waterLevel - 20);
            goodCtx.stroke();
            
            // Cisim
            const objectSelect = document.getElementById('good-object');
            const objectType = objectSelect.value;
            const obj = objects[objectType];
            const size = parseInt(document.getElementById('good-size').value);
            
            const objX = width / 2 - size / 2;
            
            // GÃ¶lge
            goodCtx.fillStyle = 'rgba(0,0,0,0.1)';
            goodCtx.beginPath();
            goodCtx.ellipse(width / 2, height - 20, size / 2, 8, 0, 0, Math.PI * 2);
            goodCtx.fill();
            
            // Cisim
            goodCtx.fillStyle = obj.color;
            goodCtx.beginPath();
            goodCtx.roundRect(objX, objectY, size, size, 8);
            goodCtx.fill();
            
            // Cisim etiketi
            goodCtx.fillStyle = 'white';
            goodCtx.font = 'bold 12px Nunito';
            goodCtx.textAlign = 'center';
            goodCtx.fillText(obj.name, width / 2, objectY + size / 2 + 4);
            
            // Oklar (kuvvetler)
            if (objectY > waterLevel - size) {
                // KaldÄ±rma kuvveti oku (yukarÄ±)
                drawArrow(goodCtx, width / 2 + size / 2 + 20, objectY + size, width / 2 + size / 2 + 20, objectY - 20, '#2196F3', 'Fb');
            }
            
            // AÄŸÄ±rlÄ±k oku (aÅŸaÄŸÄ±)
            drawArrow(goodCtx, width / 2 - size / 2 - 20, objectY, width / 2 - size / 2 - 20, objectY + size + 30, '#FF5722', 'W');
        }

        function drawArrow(ctx, fromX, fromY, toX, toY, color, label) {
            const headLen = 10;
            const dx = toX - fromX;
            const dy = toY - fromY;
            const angle = Math.atan2(dy, dx);
            
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = 3;
            
            ctx.beginPath();
            ctx.moveTo(fromX, fromY);
            ctx.lineTo(toX, toY);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(toX, toY);
            ctx.lineTo(toX - headLen * Math.cos(angle - Math.PI / 6), toY - headLen * Math.sin(angle - Math.PI / 6));
            ctx.lineTo(toX - headLen * Math.cos(angle + Math.PI / 6), toY - headLen * Math.sin(angle + Math.PI / 6));
            ctx.closePath();
            ctx.fill();
            
            ctx.font = 'bold 14px Nunito';
            ctx.fillText(label, fromX + (toX - fromX) / 2 + 15, fromY + (toY - fromY) / 2);
        }

        function updateGoodSim() {
            drawGoodSim();
            calculateForces();
        }

        function calculateForces() {
            const liquidDensity = parseInt(document.getElementById('good-liquid').value);
            const objectType = document.getElementById('good-object').value;
            const size = parseInt(document.getElementById('good-size').value);
            const obj = objects[objectType];
            
            const volume = Math.pow(size / 100, 3); // mÂ³
            const weight = obj.density * volume * 9.8;
            const waterLevel = goodCanvas.height * 0.3;
            
            let submergedVolume = 0;
            if (objectY + size > waterLevel) {
                const submergedHeight = Math.min(size, objectY + size - waterLevel);
                submergedVolume = (submergedHeight / size) * volume;
            }
            
            const buoyancy = liquidDensity * submergedVolume * 9.8;
            
            document.getElementById('good-buoyancy').textContent = buoyancy.toFixed(2) + ' N';
            document.getElementById('good-weight').textContent = weight.toFixed(2) + ' N';
            
            if (buoyancy > weight) {
                document.getElementById('good-status').textContent = 'YÃ¼zÃ¼yor';
                document.getElementById('good-status').className = 'text-lg font-bold text-green-800';
            } else if (buoyancy < weight) {
                document.getElementById('good-status').textContent = 'BatÄ±yor';
                document.getElementById('good-status').className = 'text-lg font-bold text-red-800';
            } else {
                document.getElementById('good-status').textContent = 'Dengede';
                document.getElementById('good-status').className = 'text-lg font-bold text-blue-800';
            }
        }

        function startGoodSim() {
            if (isRunning) return;
            isRunning = true;
            objectY = 20;
            animateGood();
        }

        function animateGood() {
            const liquidDensity = parseInt(document.getElementById('good-liquid').value);
            const objectType = document.getElementById('good-object').value;
            const size = parseInt(document.getElementById('good-size').value);
            const obj = objects[objectType];
            const waterLevel = goodCanvas.height * 0.3;
            
            const volume = Math.pow(size / 100, 3);
            const mass = obj.density * volume;
            const weight = mass * 9.8;
            
            let submergedVolume = 0;
            if (objectY + size > waterLevel) {
                const submergedHeight = Math.min(size, objectY + size - waterLevel);
                submergedVolume = (submergedHeight / size) * volume;
            }
            
            const buoyancy = liquidDensity * submergedVolume * 9.8;
            const netForce = weight - buoyancy;
            const acceleration = netForce / mass;
            
            objectVelocity += acceleration * 0.016;
            objectVelocity *= 0.98; // SÃ¶nÃ¼mleme
            objectY += objectVelocity;
            
            // SÄ±nÄ±rlar
            const maxY = goodCanvas.height - size - 15;
            if (objectY > maxY) {
                objectY = maxY;
                objectVelocity = 0;
            }
            if (objectY < 10) {
                objectY = 10;
                objectVelocity = 0;
            }
            
            drawGoodSim();
            calculateForces();
            
            if (Math.abs(objectVelocity) > 0.01 || Math.abs(netForce) > 0.001) {
                goodAnimId = requestAnimationFrame(animateGood);
            } else {
                isRunning = false;
            }
        }

        function resetGoodSim() {
            if (goodAnimId) cancelAnimationFrame(goodAnimId);
            isRunning = false;
            objectY = 50;
            objectVelocity = 0;
            drawGoodSim();
            document.getElementById('good-buoyancy').textContent = '0 N';
            document.getElementById('good-weight').textContent = '0 N';
            document.getElementById('good-status').textContent = 'HazÄ±r';
            document.getElementById('good-status').className = 'text-lg font-bold text-green-800';
        }

        // Sayfa yÃ¼klendiÄŸinde
        window.addEventListener('load', () => {
            initGoodCanvas();
            initBadCanvas();
        });

        window.addEventListener('resize', () => {
            if (!document.getElementById('content-good').classList.contains('hidden')) {
                initGoodCanvas();
            }
            if (!document.getElementById('content-bad').classList.contains('hidden')) {
                initBadCanvas();
            }
        });
    </script>
</body>
</html>
