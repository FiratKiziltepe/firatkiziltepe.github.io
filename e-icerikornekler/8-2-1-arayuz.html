<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8.2.1 ArayÃ¼z TasarÄ±mÄ± - KaldÄ±rma Kuvveti</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/scorm-style.css">
</head>
<body class="min-h-screen flex flex-col">
    <!-- SCORM Header -->
    <header class="scorm-header">
        <div class="scorm-header-content">
            <div class="scorm-logo">
                <div class="scorm-logo-icon">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
                    </svg>
                </div>
                <div>
                    <h1 class="scorm-title">ArayÃ¼z TasarÄ±mÄ± ve KullanÄ±labilirlik</h1>
                    <p class="scorm-subtitle">Kriter 8.2.1</p>
                </div>
            </div>
            <a href="index.html" class="btn-home">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                </svg>
                Ana Sayfa
            </a>
        </div>
    </header>

    <!-- Kriter BandÄ± -->
    <div class="criterion-banner">
        <div class="criterion-banner-content">
            <span class="criterion-number">8.2.1</span>
            <span class="criterion-title">ArayÃ¼z basit, anlaÅŸÄ±lÄ±r ve kullanÄ±mÄ± kolay olmalÄ±dÄ±r.</span>
        </div>
    </div>

    <!-- Tab Navigasyonu -->
    <div class="tab-container">
        <button id="tab-bad" class="tab-btn tab-btn-bad active" onclick="switchTab('bad')">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Uygun Olmayan
        </button>
        <button id="tab-good" class="tab-btn tab-btn-good" onclick="switchTab('good')">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Uygun Ã–rnek
        </button>
    </div>

    <!-- Ana Ä°Ã§erik -->
    <main class="flex-1 content-area">
        <!-- UYGUN OLMAYAN Ã–RNEK -->
        <div id="content-bad" class="fade-in">
            <div class="explanation-card explanation-card-bad">
                <span class="text-2xl">âš ï¸</span>
                <div>
                    <h3>Bu Ã–rnek Neden Uygun DeÄŸil?</h3>
                    <ul>
                        <li>Navigasyon dÃ¼ÄŸmeleri (ileri/geri) alÄ±ÅŸÄ±lmÄ±ÅŸÄ±n dÄ±ÅŸÄ±nda bir konumda (saÄŸ Ã¼st)</li>
                        <li>Ses aÃ§ma/kapama dÃ¼ÄŸmesi, diÄŸer kontrollerden uzak ve simÃ¼lasyonun kÃ¶ÅŸesinde</li>
                        <li>Ana sayfa dÃ¼ÄŸmesi, standart navigasyon Ã§ubuÄŸunun dÄ±ÅŸÄ±nda, saÄŸ alt kÃ¶ÅŸede</li>
                        <li>DÃ¼ÄŸme boyutlarÄ± ve aralÄ±klarÄ± tutarsÄ±z, tÄ±klama zorluÄŸu yaratÄ±yor</li>
                        <li>GÃ¶rsel hiyerarÅŸi zayÄ±f; en Ã¶nemli dÃ¼ÄŸme (BaÅŸlat) diÄŸerleriyle aynÄ± aÄŸÄ±rlÄ±kta</li>
                    </ul>
                </div>
            </div>

            <div class="simulation-container relative">
                <!-- YanlÄ±ÅŸ konumlandÄ±rÄ±lmÄ±ÅŸ ama profesyonel gÃ¶rÃ¼nÃ¼mlÃ¼ Ã¼st bar -->
                <div class="bg-gray-100 border-b px-4 py-2 flex justify-between items-center">
                    <h2 class="text-sm font-bold text-gray-700">SÄ±vÄ±larÄ±n KaldÄ±rma Kuvveti - Deney AlanÄ±</h2>
                    <!-- Navigasyon saÄŸ Ã¼stte (AlÄ±ÅŸÄ±lmÄ±ÅŸÄ±n dÄ±ÅŸÄ±nda) -->
                    <div class="flex gap-1">
                        <button onclick="badAction('back')" class="p-1.5 border rounded bg-white hover:bg-gray-50" title="Geri">
                            <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                        </button>
                        <button onclick="badAction('next')" class="p-1.5 border rounded bg-white hover:bg-gray-50" title="Ä°leri">
                            <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                        </button>
                    </div>
                </div>

                <div class="simulation-body p-0">
                    <div class="flex flex-col md:flex-row">
                        <!-- SimÃ¼lasyon AlanÄ± -->
                        <div class="flex-1 relative bg-white" style="min-height: 320px;">
                            <canvas id="bad-canvas" width="500" height="320" class="w-full h-full"></canvas>
                            
                            <!-- Ses dÃ¼ÄŸmesi: SimÃ¼lasyonun kÃ¶ÅŸesinde, kontrollerden kopuk -->
                            <div class="absolute top-2 right-2">
                                <button class="p-1.5 bg-gray-100/80 rounded border border-gray-300 hover:bg-gray-200" title="Ses">
                                    <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"/></svg>
                                </button>
                            </div>

                            <!-- Ana Sayfa dÃ¼ÄŸmesi: SaÄŸ altta, navigasyondan baÄŸÄ±msÄ±z -->
                            <div class="absolute bottom-2 right-2">
                                <button onclick="window.location.href='index.html'" class="flex items-center gap-1 px-2 py-1 bg-gray-100 rounded border border-gray-300 text-[10px] hover:bg-gray-200">
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
                                    ANA SAYFA
                                </button>
                            </div>
                        </div>

                        <!-- Kontrol Paneli -->
                        <div class="w-full md:w-60 bg-gray-50 border-l p-4">
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-[11px] font-bold text-gray-500 mb-2 uppercase tracking-wider">Nesne Materyali</label>
                                    <div class="flex flex-wrap gap-1">
                                        <button onclick="setBadObject('wood')" class="px-3 py-1.5 border rounded bg-white text-xs hover:border-blue-400">Tahta</button>
                                        <button onclick="setBadObject('iron')" class="px-3 py-1.5 border rounded bg-white text-xs hover:border-blue-400">Demir</button>
                                        <button onclick="setBadObject('plastic')" class="px-3 py-1.5 border rounded bg-white text-xs hover:border-blue-400">Plastik</button>
                                        <button onclick="setBadObject('cork')" class="px-3 py-1.5 border rounded bg-white text-xs hover:border-blue-400">Mantar</button>
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-[11px] font-bold text-gray-500 mb-2 uppercase tracking-wider">SÄ±vÄ± OrtamÄ±</label>
                                    <select id="bad-liquid" class="w-full p-2 border rounded bg-white text-sm" onchange="updateBadSim()">
                                        <option value="1000">Su (Saf)</option>
                                        <option value="800">ZeytinyaÄŸÄ±</option>
                                        <option value="1025">Deniz Suyu</option>
                                    </select>
                                </div>

                                <!-- Kontroller: BaÅŸlat ve SÄ±fÄ±rla aynÄ± boyutta (HiyerarÅŸi hatasÄ±) -->
                                <div class="pt-4 border-t grid grid-cols-2 gap-2">
                                    <button onclick="startBadSim()" class="py-2 border border-blue-500 text-blue-600 rounded text-xs font-bold hover:bg-blue-50">BAÅLAT</button>
                                    <button onclick="resetBadSim()" class="py-2 border border-gray-300 text-gray-600 rounded text-xs font-bold hover:bg-gray-100">SIFIRLA</button>
                                </div>

                                <!-- Veri EkranÄ± -->
                                <div class="bg-white border rounded p-3">
                                    <div class="flex justify-between text-[11px] mb-1">
                                        <span class="text-gray-400">KaldÄ±rma Kuvveti:</span>
                                        <span class="font-bold text-gray-700"><span id="bad-fb">0.00</span> N</span>
                                    </div>
                                    <div class="flex justify-between text-[11px]">
                                        <span class="text-gray-400">Cisim AÄŸÄ±rlÄ±ÄŸÄ±:</span>
                                        <span class="font-bold text-gray-700"><span id="bad-w">0.00</span> N</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SorunlarÄ± aÃ§Ä±klayan kutu -->
            <div class="mt-4 p-4 bg-amber-50 border border-amber-200 rounded-xl">
                <h4 class="font-bold text-amber-800 mb-2">ğŸ” KullanÄ±labilirlik Analizi (KÄ±smi Uyumsuzluklar):</h4>
                <ul class="text-amber-700 text-sm space-y-1">
                    <li>â€¢ <strong>Navigasyon YerleÅŸimi:</strong> Ä°leri/Geri dÃ¼ÄŸmeleri standart olan alt bar veya sol Ã¼st yerine saÄŸ Ã¼stte toplanmÄ±ÅŸ.</li>
                    <li>â€¢ <strong>Kontrol DaÄŸÄ±nÄ±klÄ±ÄŸÄ±:</strong> Ses dÃ¼ÄŸmesi ve Ana Sayfa dÃ¼ÄŸmesi, ana kontrol panelinden ve navigasyon grubundan kopuk, ekranÄ±n farklÄ± kÃ¶ÅŸelerine daÄŸÄ±tÄ±lmÄ±ÅŸ.</li>
                    <li>â€¢ <strong>GÃ¶rsel HiyerarÅŸi:</strong> "BaÅŸlat" dÃ¼ÄŸmesi, ikincil bir iÅŸlem olan "SÄ±fÄ±rla" ile aynÄ± gÃ¶rsel aÄŸÄ±rlÄ±ÄŸa sahip. KullanÄ±cÄ±yÄ± yÃ¶nlendiren bir vurgu yok.</li>
                    <li>â€¢ <strong>TutarsÄ±z GruplandÄ±rma:</strong> Navigasyon (Ä°leri/Geri) bir yerde, sistem kontrolleri (Ana Sayfa) baÅŸka bir yerde.</li>
                </ul>
            </div>
        </div>

            <!-- SorunlarÄ± aÃ§Ä±klayan kutu -->
            <div class="mt-4 p-4 bg-amber-50 border border-amber-200 rounded-xl">
                <h4 class="font-bold text-amber-800 mb-2">ğŸ” KullanÄ±labilirlik SorunlarÄ±:</h4>
                <ul class="text-amber-700 text-sm space-y-1">
                    <li>â€¢ <strong>Navigasyon:</strong> Ä°leri ve Geri dÃ¼ÄŸmeleri alÄ±ÅŸÄ±lmÄ±ÅŸÄ±n dÄ±ÅŸÄ±nda sol Ã¼stte ve dikey konumlandÄ±rÄ±lmÄ±ÅŸ.</li>
                    <li>â€¢ <strong>Ses KontrolÃ¼:</strong> Ses dÃ¼ÄŸmesi simÃ¼lasyon alanÄ±nÄ±n iÃ§inde, gÃ¶rseli kapatacak bir yerde duruyor.</li>
                    <li>â€¢ <strong>Ana Sayfa:</strong> Ana sayfa baÄŸlantÄ±sÄ± Ã§ok kÃ¼Ã§Ã¼k ve simÃ¼lasyonun altÄ±na gizlenmiÅŸ, bulunmasÄ± zor.</li>
                    <li>â€¢ <strong>DÃ¼ÄŸme HiyerarÅŸisi:</strong> BaÅŸlat ve SÄ±fÄ±rla dÃ¼ÄŸmeleri birbirinden uzak ve farklÄ± stillerde, iliÅŸki kurmak zor.</li>
                    <li>â€¢ <strong>GÃ¶rsel DaÄŸÄ±nÄ±klÄ±k:</strong> Kontrol paneli Ã§ok dar, metinler ve butonlar iÃ§ iÃ§e geÃ§miÅŸ.</li>
                </ul>
            </div>
        </div>

        <!-- UYGUN Ã–RNEK -->
        <div id="content-good" class="hidden fade-in">
            <div class="explanation-card explanation-card-good">
                <span class="text-2xl">âœ…</span>
                <div>
                    <h3>Bu Ã–rnek Neden Uygun?</h3>
                    <ul>
                        <li>Basit, anlaÅŸÄ±lÄ±r ve sezgisel arayÃ¼z</li>
                        <li>Ä°ÅŸlevini yansÄ±tan aÃ§Ä±k etiketli dÃ¼ÄŸmeler</li>
                        <li>Kolay hatÄ±rlanabilir simgeler</li>
                        <li>TÃ¼m denetim Ã¶geleri eksiksiz</li>
                        <li>KullanÄ±cÄ± dostu ve modern tasarÄ±m</li>
                    </ul>
                </div>
            </div>

            <div class="simulation-container">
                <div class="simulation-header bg-gradient-to-r from-blue-600 to-cyan-500 text-white">
                    <h2 class="text-lg font-bold">SÄ±vÄ±larÄ±n KaldÄ±rma Kuvveti SimÃ¼lasyonu</h2>
                    <p class="text-blue-100 text-sm">Archimedes Prensibi - EtkileÅŸimli Deney</p>
                </div>
                <div class="simulation-body">
                    <div class="grid md:grid-cols-3 gap-4">
                        <!-- Kontrol Paneli -->
                        <div class="bg-gray-50 rounded-xl p-4 border border-gray-200">
                            <h3 class="font-bold text-gray-800 mb-3 flex items-center gap-2">
                                <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>
                                </svg>
                                Kontroller
                            </h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">SÄ±vÄ± YoÄŸunluÄŸu</label>
                                    <select id="good-liquid" class="w-full p-2 border border-gray-300 rounded-lg text-sm" onchange="updateGoodSim()">
                                        <option value="1000">Su (1000 kg/mÂ³)</option>
                                        <option value="1025">Tuzlu Su (1025 kg/mÂ³)</option>
                                        <option value="13600">CÄ±va (13600 kg/mÂ³)</option>
                                        <option value="800">YaÄŸ (800 kg/mÂ³)</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Cisim TÃ¼rÃ¼</label>
                                    <select id="good-object" class="w-full p-2 border border-gray-300 rounded-lg text-sm" onchange="updateGoodSim()">
                                        <option value="wood">Tahta (600 kg/mÂ³)</option>
                                        <option value="plastic">Plastik (900 kg/mÂ³)</option>
                                        <option value="iron">Demir (7800 kg/mÂ³)</option>
                                        <option value="cork">Mantar (200 kg/mÂ³)</option>
                                    </select>
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Cisim Boyutu</label>
                                    <input type="range" id="good-size" min="20" max="60" value="40" class="w-full" onchange="updateGoodSim()">
                                    <div class="flex justify-between text-xs text-gray-500">
                                        <span>KÃ¼Ã§Ã¼k</span>
                                        <span>BÃ¼yÃ¼k</span>
                                    </div>
                                </div>
                            </div>

                            <div class="flex gap-2 mt-4">
                                <button onclick="startGoodSim()" class="flex-1 btn btn-success">
                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                    BaÅŸlat
                                </button>
                                <button onclick="resetGoodSim()" class="flex-1 btn btn-secondary">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                    SÄ±fÄ±rla
                                </button>
                            </div>
                        </div>

                        <!-- SimÃ¼lasyon GÃ¶rÃ¼nÃ¼mÃ¼ -->
                        <div class="md:col-span-2">
                            <div class="canvas-container" style="min-height: 300px;">
                                <canvas id="good-canvas" width="500" height="300"></canvas>
                            </div>
                            
                            <!-- SonuÃ§ Paneli -->
                            <div class="grid grid-cols-3 gap-3 mt-4">
                                <div class="bg-blue-50 rounded-lg p-3 text-center border border-blue-200">
                                    <p class="text-xs text-blue-600 font-medium">KaldÄ±rma Kuvveti</p>
                                    <p class="text-xl font-bold text-blue-800" id="good-buoyancy">0 N</p>
                                </div>
                                <div class="bg-orange-50 rounded-lg p-3 text-center border border-orange-200">
                                    <p class="text-xs text-orange-600 font-medium">AÄŸÄ±rlÄ±k</p>
                                    <p class="text-xl font-bold text-orange-800" id="good-weight">0 N</p>
                                </div>
                                <div class="bg-green-50 rounded-lg p-3 text-center border border-green-200">
                                    <p class="text-xs text-green-600 font-medium">Durum</p>
                                    <p class="text-lg font-bold text-green-800" id="good-status">HazÄ±r</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Ä°pucu -->
                    <div class="hint-box mt-4">
                        <svg class="w-5 h-5 text-amber-600" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                        </svg>
                        <span><strong>Ä°pucu:</strong> FarklÄ± sÄ±vÄ± ve cisim kombinasyonlarÄ±nÄ± deneyin. Cismin yoÄŸunluÄŸu sÄ±vÄ±dan dÃ¼ÅŸÃ¼kse yÃ¼zer, yÃ¼ksekse batar!</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="scorm-footer">
        <p>E-Ä°Ã§erik Ä°nceleme Kriterleri EÄŸitim Platformu - Kriter 8.2.1</p>
    </footer>

    <script>
        // Tab deÄŸiÅŸtirme
        function switchTab(tab) {
            const tabBad = document.getElementById('tab-bad');
            const tabGood = document.getElementById('tab-good');
            const contentBad = document.getElementById('content-bad');
            const contentGood = document.getElementById('content-good');

            if (tab === 'bad') {
                tabBad.classList.add('active');
                tabGood.classList.remove('active');
                contentBad.classList.remove('hidden');
                contentGood.classList.add('hidden');
            } else {
                tabGood.classList.add('active');
                tabBad.classList.remove('active');
                contentGood.classList.remove('hidden');
                contentBad.classList.add('hidden');
                initGoodCanvas();
            }
        }

        // KÃ¶tÃ¼ simÃ¼lasyon - Ã§alÄ±ÅŸÄ±yor ama arayÃ¼z karmaÅŸÄ±k
        const badCanvas = document.getElementById('bad-canvas');
        const badCtx = badCanvas.getContext('2d');
        let badObjectY = 50;
        let badAnimRunning = false;
        let badAnimId = null;

        const badObjects = {
            wood: { density: 600, color: '#8B4513' },
            plastic: { density: 900, color: '#FF6B6B' },
            iron: { density: 7800, color: '#4A5568' },
            cork: { density: 200, color: '#D4A574' }
        };

        function initBadCanvas() {
            const container = badCanvas.parentElement;
            badCanvas.width = container.offsetWidth;
            badCanvas.height = 350;
            drawBadSim();
        }

        function setBadObject(type) {
            const select = document.getElementById('bad-object');
            if (select) {
                select.value = type;
                updateBadSim();
            }
        }

        function drawBadSim() {
            const width = badCanvas.width;
            const height = badCanvas.height;
            const waterLevel = height * 0.4;

            badCtx.clearRect(0, 0, width, height);

            // Arka plan
            badCtx.fillStyle = '#f0f9ff';
            badCtx.fillRect(0, 0, width, waterLevel);
            
            // SÄ±vÄ±
            const liquidDensity = parseInt(document.getElementById('bad-liquid')?.value || 1000);
            let waterColor = '#3b82f6';
            if (liquidDensity === 800) waterColor = '#eab308';
            else if (liquidDensity === 1025) waterColor = '#0891b2';
            
            badCtx.fillStyle = waterColor + '40';
            badCtx.fillRect(0, waterLevel, width, height - waterLevel);
            
            // Su yÃ¼zeyi
            badCtx.strokeStyle = waterColor;
            badCtx.lineWidth = 2;
            badCtx.beginPath();
            badCtx.moveTo(0, waterLevel);
            badCtx.lineTo(width, waterLevel);
            badCtx.stroke();
            
            // Kap
            badCtx.strokeStyle = '#94a3b8';
            badCtx.lineWidth = 4;
            badCtx.strokeRect(40, waterLevel - 20, width - 80, height - waterLevel);
            
            // Cisim
            const objType = document.getElementById('bad-object')?.value || 'wood';
            const obj = badObjects[objType];
            const size = 50;
            
            badCtx.fillStyle = obj.color;
            badCtx.beginPath();
            badCtx.roundRect(width/2 - size/2, badObjectY, size, size, 4);
            badCtx.fill();
            badCtx.strokeStyle = 'rgba(0,0,0,0.2)';
            badCtx.stroke();
        }

        function updateBadSim() {
            drawBadSim();
            calculateBadForces();
        }

        function calculateBadForces() {
            const liquidDensity = parseInt(document.getElementById('bad-liquid')?.value || 1000);
            const objType = document.getElementById('bad-object')?.value || 'wood';
            const obj = badObjects[objType];
            const size = 50;
            
            const volume = Math.pow(size / 100, 3);
            const weight = obj.density * volume * 9.8;
            const waterLevel = badCanvas.height * 0.4;
            
            let submergedVolume = 0;
            if (badObjectY + size > waterLevel) {
                const submergedHeight = Math.min(size, badObjectY + size - waterLevel);
                submergedVolume = (submergedHeight / size) * volume;
            }
            
            const buoyancy = liquidDensity * submergedVolume * 9.8;
            
            document.getElementById('bad-fb').textContent = buoyancy.toFixed(2);
            document.getElementById('bad-w').textContent = weight.toFixed(2);
        }

        function startBadSim() {
            if (badAnimRunning) return;
            badAnimRunning = true;
            badObjectY = 40;
            animateBad();
        }

        function animateBad() {
            const liquidDensity = parseInt(document.getElementById('bad-liquid')?.value || 1000);
            const objType = document.getElementById('bad-object')?.value || 'wood';
            const obj = badObjects[objType];
            const size = 50;
            const waterLevel = badCanvas.height * 0.4;
            const maxY = badCanvas.height - size - 20;
            
            const volume = Math.pow(size / 100, 3);
            const mass = obj.density * volume;
            const weight = mass * 9.8;
            
            let submergedVolume = 0;
            if (badObjectY + size > waterLevel) {
                const submergedHeight = Math.min(size, badObjectY + size - waterLevel);
                submergedVolume = (submergedHeight / size) * volume;
            }
            
            const buoyancy = liquidDensity * submergedVolume * 9.8;
            const netForce = weight - buoyancy;
            
            badObjectY += netForce > 0 ? 2 : -1;
            
            if (badObjectY > maxY) badObjectY = maxY;
            if (badObjectY < 20) badObjectY = 20;
            
            drawBadSim();
            calculateBadForces();
            
            if (badAnimRunning && Math.abs(netForce) > 0.01) {
                badAnimId = requestAnimationFrame(animateBad);
            } else {
                badAnimRunning = false;
            }
        }

        function resetBadSim() {
            if (badAnimId) cancelAnimationFrame(badAnimId);
            badAnimRunning = false;
            badObjectY = 50;
            drawBadSim();
            document.getElementById('bad-fb').textContent = '0.00';
            document.getElementById('bad-w').textContent = '0.00';
        }

        function badAction(action) {
            alert('Navigasyon: ' + (action === 'back' ? 'Geri' : 'Ä°leri'));
        }

        initBadCanvas();

        // Ä°yi simÃ¼lasyon
        const goodCanvas = document.getElementById('good-canvas');
        const goodCtx = goodCanvas.getContext('2d');
        let goodAnimId = null;
        let objectY = 50;
        let objectVelocity = 0;
        let isRunning = false;

        const objects = {
            wood: { density: 600, color: '#8B4513', name: 'Tahta' },
            plastic: { density: 900, color: '#FF6B6B', name: 'Plastik' },
            iron: { density: 7800, color: '#4A5568', name: 'Demir' },
            cork: { density: 200, color: '#D4A574', name: 'Mantar' }
        };

        function initGoodCanvas() {
            goodCanvas.width = goodCanvas.parentElement.offsetWidth;
            goodCanvas.height = 300;
            drawGoodSim();
        }

        function drawGoodSim() {
            const width = goodCanvas.width;
            const height = goodCanvas.height;
            const waterLevel = height * 0.3;
            
            // Arka plan
            goodCtx.fillStyle = '#E0F7FA';
            goodCtx.fillRect(0, 0, width, waterLevel);
            
            // Su
            const liquidSelect = document.getElementById('good-liquid');
            const liquidDensity = parseInt(liquidSelect.value);
            let waterColor = '#2196F3';
            if (liquidDensity === 13600) waterColor = '#9E9E9E';
            else if (liquidDensity === 800) waterColor = '#FFC107';
            else if (liquidDensity === 1025) waterColor = '#0097A7';
            
            goodCtx.fillStyle = waterColor + '90';
            goodCtx.fillRect(0, waterLevel, width, height - waterLevel);
            
            // Su yÃ¼zeyi Ã§izgisi
            goodCtx.strokeStyle = waterColor;
            goodCtx.lineWidth = 3;
            goodCtx.beginPath();
            goodCtx.moveTo(0, waterLevel);
            goodCtx.lineTo(width, waterLevel);
            goodCtx.stroke();
            
            // Kap kenarlarÄ±
            goodCtx.strokeStyle = '#546E7A';
            goodCtx.lineWidth = 4;
            goodCtx.beginPath();
            goodCtx.moveTo(20, waterLevel - 20);
            goodCtx.lineTo(20, height - 10);
            goodCtx.lineTo(width - 20, height - 10);
            goodCtx.lineTo(width - 20, waterLevel - 20);
            goodCtx.stroke();
            
            // Cisim
            const objectSelect = document.getElementById('good-object');
            const objectType = objectSelect.value;
            const obj = objects[objectType];
            const size = parseInt(document.getElementById('good-size').value);
            
            const objX = width / 2 - size / 2;
            
            // GÃ¶lge
            goodCtx.fillStyle = 'rgba(0,0,0,0.1)';
            goodCtx.beginPath();
            goodCtx.ellipse(width / 2, height - 20, size / 2, 8, 0, 0, Math.PI * 2);
            goodCtx.fill();
            
            // Cisim
            goodCtx.fillStyle = obj.color;
            goodCtx.beginPath();
            goodCtx.roundRect(objX, objectY, size, size, 8);
            goodCtx.fill();
            
            // Cisim etiketi
            goodCtx.fillStyle = 'white';
            goodCtx.font = 'bold 12px Nunito';
            goodCtx.textAlign = 'center';
            goodCtx.fillText(obj.name, width / 2, objectY + size / 2 + 4);
            
            // Oklar (kuvvetler)
            if (objectY > waterLevel - size) {
                // KaldÄ±rma kuvveti oku (yukarÄ±)
                drawArrow(goodCtx, width / 2 + size / 2 + 20, objectY + size, width / 2 + size / 2 + 20, objectY - 20, '#2196F3', 'Fb');
            }
            
            // AÄŸÄ±rlÄ±k oku (aÅŸaÄŸÄ±)
            drawArrow(goodCtx, width / 2 - size / 2 - 20, objectY, width / 2 - size / 2 - 20, objectY + size + 30, '#FF5722', 'W');
        }

        function drawArrow(ctx, fromX, fromY, toX, toY, color, label) {
            const headLen = 10;
            const dx = toX - fromX;
            const dy = toY - fromY;
            const angle = Math.atan2(dy, dx);
            
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = 3;
            
            ctx.beginPath();
            ctx.moveTo(fromX, fromY);
            ctx.lineTo(toX, toY);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(toX, toY);
            ctx.lineTo(toX - headLen * Math.cos(angle - Math.PI / 6), toY - headLen * Math.sin(angle - Math.PI / 6));
            ctx.lineTo(toX - headLen * Math.cos(angle + Math.PI / 6), toY - headLen * Math.sin(angle + Math.PI / 6));
            ctx.closePath();
            ctx.fill();
            
            ctx.font = 'bold 14px Nunito';
            ctx.fillText(label, fromX + (toX - fromX) / 2 + 15, fromY + (toY - fromY) / 2);
        }

        function updateGoodSim() {
            drawGoodSim();
            calculateForces();
        }

        function calculateForces() {
            const liquidDensity = parseInt(document.getElementById('good-liquid').value);
            const objectType = document.getElementById('good-object').value;
            const size = parseInt(document.getElementById('good-size').value);
            const obj = objects[objectType];
            
            const volume = Math.pow(size / 100, 3); // mÂ³
            const weight = obj.density * volume * 9.8;
            const waterLevel = goodCanvas.height * 0.3;
            
            let submergedVolume = 0;
            if (objectY + size > waterLevel) {
                const submergedHeight = Math.min(size, objectY + size - waterLevel);
                submergedVolume = (submergedHeight / size) * volume;
            }
            
            const buoyancy = liquidDensity * submergedVolume * 9.8;
            
            document.getElementById('good-buoyancy').textContent = buoyancy.toFixed(2) + ' N';
            document.getElementById('good-weight').textContent = weight.toFixed(2) + ' N';
            
            if (buoyancy > weight) {
                document.getElementById('good-status').textContent = 'YÃ¼zÃ¼yor';
                document.getElementById('good-status').className = 'text-lg font-bold text-green-800';
            } else if (buoyancy < weight) {
                document.getElementById('good-status').textContent = 'BatÄ±yor';
                document.getElementById('good-status').className = 'text-lg font-bold text-red-800';
            } else {
                document.getElementById('good-status').textContent = 'Dengede';
                document.getElementById('good-status').className = 'text-lg font-bold text-blue-800';
            }
        }

        function startGoodSim() {
            if (isRunning) return;
            isRunning = true;
            objectY = 20;
            animateGood();
        }

        function animateGood() {
            const liquidDensity = parseInt(document.getElementById('good-liquid').value);
            const objectType = document.getElementById('good-object').value;
            const size = parseInt(document.getElementById('good-size').value);
            const obj = objects[objectType];
            const waterLevel = goodCanvas.height * 0.3;
            
            const volume = Math.pow(size / 100, 3);
            const mass = obj.density * volume;
            const weight = mass * 9.8;
            
            let submergedVolume = 0;
            if (objectY + size > waterLevel) {
                const submergedHeight = Math.min(size, objectY + size - waterLevel);
                submergedVolume = (submergedHeight / size) * volume;
            }
            
            const buoyancy = liquidDensity * submergedVolume * 9.8;
            const netForce = weight - buoyancy;
            const acceleration = netForce / mass;
            
            objectVelocity += acceleration * 0.016;
            objectVelocity *= 0.98; // SÃ¶nÃ¼mleme
            objectY += objectVelocity;
            
            // SÄ±nÄ±rlar
            const maxY = goodCanvas.height - size - 15;
            if (objectY > maxY) {
                objectY = maxY;
                objectVelocity = 0;
            }
            if (objectY < 10) {
                objectY = 10;
                objectVelocity = 0;
            }
            
            drawGoodSim();
            calculateForces();
            
            if (Math.abs(objectVelocity) > 0.01 || Math.abs(netForce) > 0.001) {
                goodAnimId = requestAnimationFrame(animateGood);
            } else {
                isRunning = false;
            }
        }

        function resetGoodSim() {
            if (goodAnimId) cancelAnimationFrame(goodAnimId);
            isRunning = false;
            objectY = 50;
            objectVelocity = 0;
            drawGoodSim();
            document.getElementById('good-buoyancy').textContent = '0 N';
            document.getElementById('good-weight').textContent = '0 N';
            document.getElementById('good-status').textContent = 'HazÄ±r';
            document.getElementById('good-status').className = 'text-lg font-bold text-green-800';
        }

        // Sayfa yÃ¼klendiÄŸinde
        window.addEventListener('load', () => {
            initGoodCanvas();
            initBadCanvas();
        });

        window.addEventListener('resize', () => {
            if (!document.getElementById('content-good').classList.contains('hidden')) {
                initGoodCanvas();
            }
            if (!document.getElementById('content-bad').classList.contains('hidden')) {
                initBadCanvas();
            }
        });
    </script>
</body>
</html>
