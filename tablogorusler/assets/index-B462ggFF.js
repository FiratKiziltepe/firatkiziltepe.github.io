(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(d){if(d.ep)return;d.ep=!0;const h=s(d);fetch(d.href,h)}})();function tm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $o={exports:{}},Ti={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function Lp(){if(y0)return Ti;y0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,d,h){var f=null;if(h!==void 0&&(f=""+h),d.key!==void 0&&(f=""+d.key),"key"in d){h={};for(var p in d)p!=="key"&&(h[p]=d[p])}else h=d;return d=h.ref,{$$typeof:i,type:r,key:f,ref:d!==void 0?d:null,props:h}}return Ti.Fragment=n,Ti.jsx=s,Ti.jsxs=s,Ti}var b0;function Bp(){return b0||(b0=1,$o.exports=Lp()),$o.exports}var c=Bp(),Go={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function qp(){if(v0)return be;v0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.iterator;function N(w){return w===null||typeof w!="object"?null:(w=k&&w[k]||w["@@iterator"],typeof w=="function"?w:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,H={};function V(w,j,$){this.props=w,this.context=j,this.refs=H,this.updater=$||S}V.prototype.isReactComponent={},V.prototype.setState=function(w,j){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,j,"setState")},V.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function I(){}I.prototype=V.prototype;function K(w,j,$){this.props=w,this.context=j,this.refs=H,this.updater=$||S}var Z=K.prototype=new I;Z.constructor=K,z(Z,V.prototype),Z.isPureReactComponent=!0;var ce=Array.isArray;function W(){}var Q={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function Y(w,j,$){var J=$.ref;return{$$typeof:i,type:w,key:j,ref:J!==void 0?J:null,props:$}}function ue(w,j){return Y(w.type,j,w.props)}function Ze(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function tt(w){var j={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function($){return j[$]})}var Pe=/\/+/g;function te(w,j){return typeof w=="object"&&w!==null&&w.key!=null?tt(""+w.key):j.toString(36)}function _e(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(W,W):(w.status="pending",w.then(function(j){w.status==="pending"&&(w.status="fulfilled",w.value=j)},function(j){w.status==="pending"&&(w.status="rejected",w.reason=j)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function D(w,j,$,J,ee){var ye=typeof w;(ye==="undefined"||ye==="boolean")&&(w=null);var me=!1;if(w===null)me=!0;else switch(ye){case"bigint":case"string":case"number":me=!0;break;case"object":switch(w.$$typeof){case i:case n:me=!0;break;case v:return me=w._init,D(me(w._payload),j,$,J,ee)}}if(me)return ee=ee(w),me=J===""?"."+te(w,0):J,ce(ee)?($="",me!=null&&($=me.replace(Pe,"$&/")+"/"),D(ee,j,$,"",function(Dt){return Dt})):ee!=null&&(Ze(ee)&&(ee=ue(ee,$+(ee.key==null||w&&w.key===ee.key?"":(""+ee.key).replace(Pe,"$&/")+"/")+me)),j.push(ee)),1;me=0;var ze=J===""?".":J+":";if(ce(w))for(var Ne=0;Ne<w.length;Ne++)J=w[Ne],ye=ze+te(J,Ne),me+=D(J,j,$,ye,ee);else if(Ne=N(w),typeof Ne=="function")for(w=Ne.call(w),Ne=0;!(J=w.next()).done;)J=J.value,ye=ze+te(J,Ne++),me+=D(J,j,$,ye,ee);else if(ye==="object"){if(typeof w.then=="function")return D(_e(w),j,$,J,ee);throw j=String(w),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return me}function G(w,j,$){if(w==null)return w;var J=[],ee=0;return D(w,J,"","",function(ye){return j.call($,ye,ee++)}),J}function P(w){if(w._status===-1){var j=w._result;j=j(),j.then(function($){(w._status===0||w._status===-1)&&(w._status=1,w._result=$)},function($){(w._status===0||w._status===-1)&&(w._status=2,w._result=$)}),w._status===-1&&(w._status=0,w._result=j)}if(w._status===1)return w._result.default;throw w._result}var ae=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},se={map:G,forEach:function(w,j,$){G(w,function(){j.apply(this,arguments)},$)},count:function(w){var j=0;return G(w,function(){j++}),j},toArray:function(w){return G(w,function(j){return j})||[]},only:function(w){if(!Ze(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return be.Activity=x,be.Children=se,be.Component=V,be.Fragment=s,be.Profiler=d,be.PureComponent=K,be.StrictMode=r,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,be.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Q.H.useMemoCache(w)}},be.cache=function(w){return function(){return w.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(w,j,$){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var J=z({},w.props),ee=w.key;if(j!=null)for(ye in j.key!==void 0&&(ee=""+j.key),j)!L.call(j,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&j.ref===void 0||(J[ye]=j[ye]);var ye=arguments.length-2;if(ye===1)J.children=$;else if(1<ye){for(var me=Array(ye),ze=0;ze<ye;ze++)me[ze]=arguments[ze+2];J.children=me}return Y(w.type,ee,J)},be.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},be.createElement=function(w,j,$){var J,ee={},ye=null;if(j!=null)for(J in j.key!==void 0&&(ye=""+j.key),j)L.call(j,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ee[J]=j[J]);var me=arguments.length-2;if(me===1)ee.children=$;else if(1<me){for(var ze=Array(me),Ne=0;Ne<me;Ne++)ze[Ne]=arguments[Ne+2];ee.children=ze}if(w&&w.defaultProps)for(J in me=w.defaultProps,me)ee[J]===void 0&&(ee[J]=me[J]);return Y(w,ye,ee)},be.createRef=function(){return{current:null}},be.forwardRef=function(w){return{$$typeof:p,render:w}},be.isValidElement=Ze,be.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:P}},be.memo=function(w,j){return{$$typeof:g,type:w,compare:j===void 0?null:j}},be.startTransition=function(w){var j=Q.T,$={};Q.T=$;try{var J=w(),ee=Q.S;ee!==null&&ee($,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(W,ae)}catch(ye){ae(ye)}finally{j!==null&&$.types!==null&&(j.types=$.types),Q.T=j}},be.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},be.use=function(w){return Q.H.use(w)},be.useActionState=function(w,j,$){return Q.H.useActionState(w,j,$)},be.useCallback=function(w,j){return Q.H.useCallback(w,j)},be.useContext=function(w){return Q.H.useContext(w)},be.useDebugValue=function(){},be.useDeferredValue=function(w,j){return Q.H.useDeferredValue(w,j)},be.useEffect=function(w,j){return Q.H.useEffect(w,j)},be.useEffectEvent=function(w){return Q.H.useEffectEvent(w)},be.useId=function(){return Q.H.useId()},be.useImperativeHandle=function(w,j,$){return Q.H.useImperativeHandle(w,j,$)},be.useInsertionEffect=function(w,j){return Q.H.useInsertionEffect(w,j)},be.useLayoutEffect=function(w,j){return Q.H.useLayoutEffect(w,j)},be.useMemo=function(w,j){return Q.H.useMemo(w,j)},be.useOptimistic=function(w,j){return Q.H.useOptimistic(w,j)},be.useReducer=function(w,j,$){return Q.H.useReducer(w,j,$)},be.useRef=function(w){return Q.H.useRef(w)},be.useState=function(w){return Q.H.useState(w)},be.useSyncExternalStore=function(w,j,$){return Q.H.useSyncExternalStore(w,j,$)},be.useTransition=function(){return Q.H.useTransition()},be.version="19.2.4",be}var x0;function pc(){return x0||(x0=1,Go.exports=qp()),Go.exports}var X=pc();const rn=tm(X);var Ko={exports:{}},Ni={},Yo={exports:{}},Vo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function Hp(){return _0||(_0=1,(function(i){function n(D,G){var P=D.length;D.push(G);e:for(;0<P;){var ae=P-1>>>1,se=D[ae];if(0<d(se,G))D[ae]=G,D[P]=se,P=ae;else break e}}function s(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var G=D[0],P=D.pop();if(P!==G){D[0]=P;e:for(var ae=0,se=D.length,w=se>>>1;ae<w;){var j=2*(ae+1)-1,$=D[j],J=j+1,ee=D[J];if(0>d($,P))J<se&&0>d(ee,$)?(D[ae]=ee,D[J]=P,ae=J):(D[ae]=$,D[j]=P,ae=j);else if(J<se&&0>d(ee,P))D[ae]=ee,D[J]=P,ae=J;else break e}}return G}function d(D,G){var P=D.sortIndex-G.sortIndex;return P!==0?P:D.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var y=[],g=[],v=1,x=null,k=3,N=!1,S=!1,z=!1,H=!1,V=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Z(D){for(var G=s(g);G!==null;){if(G.callback===null)r(g);else if(G.startTime<=D)r(g),G.sortIndex=G.expirationTime,n(y,G);else break;G=s(g)}}function ce(D){if(z=!1,Z(D),!S)if(s(y)!==null)S=!0,W||(W=!0,tt());else{var G=s(g);G!==null&&_e(ce,G.startTime-D)}}var W=!1,Q=-1,L=5,Y=-1;function ue(){return H?!0:!(i.unstable_now()-Y<L)}function Ze(){if(H=!1,W){var D=i.unstable_now();Y=D;var G=!0;try{e:{S=!1,z&&(z=!1,I(Q),Q=-1),N=!0;var P=k;try{t:{for(Z(D),x=s(y);x!==null&&!(x.expirationTime>D&&ue());){var ae=x.callback;if(typeof ae=="function"){x.callback=null,k=x.priorityLevel;var se=ae(x.expirationTime<=D);if(D=i.unstable_now(),typeof se=="function"){x.callback=se,Z(D),G=!0;break t}x===s(y)&&r(y),Z(D)}else r(y);x=s(y)}if(x!==null)G=!0;else{var w=s(g);w!==null&&_e(ce,w.startTime-D),G=!1}}break e}finally{x=null,k=P,N=!1}G=void 0}}finally{G?tt():W=!1}}}var tt;if(typeof K=="function")tt=function(){K(Ze)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,te=Pe.port2;Pe.port1.onmessage=Ze,tt=function(){te.postMessage(null)}}else tt=function(){V(Ze,0)};function _e(D,G){Q=V(function(){D(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(D){D.callback=null},i.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_next=function(D){switch(k){case 1:case 2:case 3:var G=3;break;default:G=k}var P=k;k=G;try{return D()}finally{k=P}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var P=k;k=D;try{return G()}finally{k=P}},i.unstable_scheduleCallback=function(D,G,P){var ae=i.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?ae+P:ae):P=ae,D){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=P+se,D={id:v++,callback:G,priorityLevel:D,startTime:P,expirationTime:se,sortIndex:-1},P>ae?(D.sortIndex=P,n(g,D),s(y)===null&&D===s(g)&&(z?(I(Q),Q=-1):z=!0,_e(ce,P-ae))):(D.sortIndex=se,n(y,D),S||N||(S=!0,W||(W=!0,tt()))),D},i.unstable_shouldYield=ue,i.unstable_wrapCallback=function(D){var G=k;return function(){var P=k;k=G;try{return D.apply(this,arguments)}finally{k=P}}}})(Vo)),Vo}var w0;function $p(){return w0||(w0=1,Yo.exports=Hp()),Yo.exports}var Xo={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function Gp(){if(S0)return xt;S0=1;var i=pc();function n(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(y,g,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:x==null?null:""+x,children:y,containerInfo:g,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return h(y,g,null,v)},xt.flushSync=function(y){var g=f.T,v=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=g,r.p=v,r.d.f()}},xt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},xt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},xt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,x=p(v,g.crossOrigin),k=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:k,fetchPriority:N}):v==="script"&&r.d.X(y,{crossOrigin:x,integrity:k,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},xt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,x=p(v,g.crossOrigin);r.d.L(y,v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=p(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},xt.requestFormReset=function(y){r.d.r(y)},xt.unstable_batchedUpdates=function(y,g){return y(g)},xt.useFormState=function(y,g,v){return f.H.useFormState(y,g,v)},xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},xt.version="19.2.4",xt}var j0;function Kp(){if(j0)return Xo.exports;j0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Xo.exports=Gp(),Xo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function Yp(){if(E0)return Ni;E0=1;var i=$p(),n=pc(),s=Kp();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,l=t;;){var u=a.return;if(u===null)break;var o=u.alternate;if(o===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===a)return y(u),e;if(o===l)return y(u),t;o=o.sibling}throw Error(r(188))}if(a.return!==l.return)a=u,l=o;else{for(var m=!1,b=u.child;b;){if(b===a){m=!0,a=u,l=o;break}if(b===l){m=!0,l=u,a=o;break}b=b.sibling}if(!m){for(b=o.child;b;){if(b===a){m=!0,a=o,l=u;break}if(b===l){m=!0,l=o,a=u;break}b=b.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,k=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),Ze=Symbol.iterator;function tt(e){return e===null||typeof e!="object"?null:(e=Ze&&e[Ze]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case V:return"Profiler";case H:return"StrictMode";case ce:return"Suspense";case W:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case K:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:te(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return te(e(t))}catch{}}return null}var _e=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},ae=[],se=-1;function w(e){return{current:e}}function j(e){0>se||(e.current=ae[se],ae[se]=null,se--)}function $(e,t){se++,ae[se]=e.current,e.current=t}var J=w(null),ee=w(null),ye=w(null),me=w(null);function ze(e,t){switch($(ye,t),$(ee,e),$(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Hf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Hf(t),e=$f(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(J),$(J,e)}function Ne(){j(J),j(ee),j(ye)}function Dt(e){e.memoizedState!==null&&$(me,e);var t=J.current,a=$f(t,e.type);t!==a&&($(ee,e),$(J,a))}function ra(e){ee.current===e&&(j(J),j(ee)),me.current===e&&(j(me),Si._currentValue=P)}var Mn,Ki;function jt(e){if(Mn===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Mn=t&&t[1]||"",Ki=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mn+e+Ki}var Et=!1;function _t(e,t){if(!e||Et)return"";Et=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(U){var C=U}Reflect.construct(e,[],q)}else{try{q.call()}catch(U){C=U}e.call(q.prototype)}}else{try{throw Error()}catch(U){C=U}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(U){if(U&&C&&typeof U.stack=="string")return[U.stack,C.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=l.DetermineComponentFrameRoot(),m=o[0],b=o[1];if(m&&b){var _=m.split(`
`),R=b.split(`
`);for(u=l=0;l<_.length&&!_[l].includes("DetermineComponentFrameRoot");)l++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(l===_.length||u===R.length)for(l=_.length-1,u=R.length-1;1<=l&&0<=u&&_[l]!==R[u];)u--;for(;1<=l&&0<=u;l--,u--)if(_[l]!==R[u]){if(l!==1||u!==1)do if(l--,u--,0>u||_[l]!==R[u]){var M=`
`+_[l].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=l&&0<=u);break}}}finally{Et=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?jt(a):""}function Sr(e,t){switch(e.tag){case 26:case 27:case 5:return jt(e.type);case 16:return jt("Lazy");case 13:return e.child!==t&&t!==null?jt("Suspense Fallback"):jt("Suspense");case 19:return jt("SuspenseList");case 0:case 15:return _t(e.type,!1);case 11:return _t(e.type.render,!1);case 1:return _t(e.type,!0);case 31:return jt("Activity");default:return""}}function Yi(e){try{var t="",a=null;do t+=Sr(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ul=Object.prototype.hasOwnProperty,Ln=i.unstable_scheduleCallback,Ut=i.unstable_cancelCallback,Vi=i.unstable_shouldYield,jr=i.unstable_requestPaint,wt=i.unstable_now,Er=i.unstable_getCurrentPriorityLevel,Xi=i.unstable_ImmediatePriority,Qi=i.unstable_UserBlockingPriority,un=i.unstable_NormalPriority,kr=i.unstable_LowPriority,Ml=i.unstable_IdlePriority,O=i.log,re=i.unstable_setDisableYieldValue,ge=null,he=null;function $e(e){if(typeof O=="function"&&re(e),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(ge,e)}catch{}}var Ye=Math.clz32?Math.clz32:Tr,za=Math.log,Ji=Math.LN2;function Tr(e){return e>>>=0,e===0?32:31-(za(e)/Ji|0)|0}var Bn=256,on=262144,pe=4194304;function Qe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function De(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var u=0,o=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~o,l!==0?u=Qe(l):(m&=b,m!==0?u=Qe(m):a||(a=b&~e,a!==0&&(u=Qe(a))))):(b=l&~o,b!==0?u=Qe(b):m!==0?u=Qe(m):a||(a=l&~e,a!==0&&(u=Qe(a)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,a=t&-t,o>=a||o===32&&(a&4194048)!==0)?t:u}function Ue(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kt(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function Nr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ll(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Em(e,t,a,l,u,o){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,_=e.expirationTimes,R=e.hiddenUpdates;for(a=m&~a;0<a;){var M=31-Ye(a),q=1<<M;b[M]=0,_[M]=-1;var C=R[M];if(C!==null)for(R[M]=null,M=0;M<C.length;M++){var U=C[M];U!==null&&(U.lane&=-536870913)}a&=~q}l!==0&&_c(e,l,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(m&~t))}function _c(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ye(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function wc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Ye(a),u=1<<l;u&t|e[l]&t&&(e[l]|=t),a&=~u}}function Sc(e,t){var a=t&-t;return a=(a&42)!==0?1:Ar(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Or(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jc(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:c0(e.type))}function Ec(e,t){var a=G.p;try{return G.p=e,t()}finally{G.p=a}}var Da=Math.random().toString(36).slice(2),ft="__reactFiber$"+Da,Tt="__reactProps$"+Da,qn="__reactContainer$"+Da,Rr="__reactEvents$"+Da,km="__reactListeners$"+Da,Tm="__reactHandles$"+Da,kc="__reactResources$"+Da,Bl="__reactMarker$"+Da;function Cr(e){delete e[ft],delete e[Tt],delete e[Rr],delete e[km],delete e[Tm]}function Hn(e){var t=e[ft];if(t)return t;for(var a=e.parentNode;a;){if(t=a[qn]||a[ft]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Jf(e);e!==null;){if(a=e[ft])return a;e=Jf(e)}return t}e=a,a=e.parentNode}return null}function $n(e){if(e=e[ft]||e[qn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ql(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Gn(e){var t=e[kc];return t||(t=e[kc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function dt(e){e[Bl]=!0}var Tc=new Set,Nc={};function cn(e,t){Kn(e,t),Kn(e+"Capture",t)}function Kn(e,t){for(Nc[e]=t,e=0;e<t.length;e++)Tc.add(t[e])}var Nm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ac={},Oc={};function Am(e){return Ul.call(Oc,e)?!0:Ul.call(Ac,e)?!1:Nm.test(e)?Oc[e]=!0:(Ac[e]=!0,!1)}function Zi(e,t,a){if(Am(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ii(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function fa(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Om(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,o=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(m){a=""+m,o.call(this,m)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zr(e){if(!e._valueTracker){var t=Rc(e)?"checked":"value";e._valueTracker=Om(e,t,""+e[t])}}function Cc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Rc(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rm=/[\n"\\]/g;function Xt(e){return e.replace(Rm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Dr(e,t,a,l,u,o,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vt(t)):e.value!==""+Vt(t)&&(e.value=""+Vt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Ur(e,m,Vt(t)):a!=null?Ur(e,m,Vt(a)):l!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Vt(b):e.removeAttribute("name")}function zc(e,t,a,l,u,o,m,b){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||a!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){zr(e);return}a=a!=null?""+Vt(a):"",t=t!=null?""+Vt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),zr(e)}function Ur(e,t,a){t==="number"&&Pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Yn(e,t,a,l){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Vt(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Dc(e,t,a){if(t!=null&&(t=""+Vt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Vt(a):""}function Uc(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(r(92));if(_e(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Vt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),zr(e)}function Vn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Cm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Cm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Lc(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&a[u]!==l&&Mc(e,u,l)}else for(var o in t)t.hasOwnProperty(o)&&Mc(e,o,t[o])}function Mr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(e){return Dm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ma(){}var Lr=null;function Br(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xn=null,Qn=null;function Bc(e){var t=$n(e);if(t&&(e=t.stateNode)){var a=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Dr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var u=l[Tt]||null;if(!u)throw Error(r(90));Dr(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Cc(l)}break e;case"textarea":Dc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Yn(e,!!a.multiple,t,!1)}}}var qr=!1;function qc(e,t,a){if(qr)return e(t,a);qr=!0;try{var l=e(t);return l}finally{if(qr=!1,(Xn!==null||Qn!==null)&&(qs(),Xn&&(t=Xn,e=Qn,Qn=Xn=null,Bc(t),e)))for(t=0;t<e.length;t++)Bc(e[t])}}function Hl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(ga)try{var $l={};Object.defineProperty($l,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{Hr=!1}var Ua=null,$r=null,Fi=null;function Hc(){if(Fi)return Fi;var e,t=$r,a=t.length,l,u="value"in Ua?Ua.value:Ua.textContent,o=u.length;for(e=0;e<a&&t[e]===u[e];e++);var m=a-e;for(l=1;l<=m&&t[a-l]===u[o-l];l++);return Fi=u.slice(e,1<l?1-l:void 0)}function es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ts(){return!0}function $c(){return!1}function Nt(e){function t(a,l,u,o,m){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=o,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(o):o[b]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ts:$c,this.isPropagationStopped=$c,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),t}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=Nt(dn),Gl=x({},dn,{view:0,detail:0}),Um=Nt(Gl),Gr,Kr,Kl,ns=x({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(Gr=e.screenX-Kl.screenX,Kr=e.screenY-Kl.screenY):Kr=Gr=0,Kl=e),Gr)},movementY:function(e){return"movementY"in e?e.movementY:Kr}}),Gc=Nt(ns),Mm=x({},ns,{dataTransfer:0}),Lm=Nt(Mm),Bm=x({},Gl,{relatedTarget:0}),Yr=Nt(Bm),qm=x({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=Nt(qm),$m=x({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gm=Nt($m),Km=x({},dn,{data:0}),Kc=Nt(Km),Ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xm[e])?!!t[e]:!1}function Vr(){return Qm}var Jm=x({},Gl,{key:function(e){if(e.key){var t=Ym[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(e){return e.type==="keypress"?es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zm=Nt(Jm),Im=x({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=Nt(Im),Pm=x({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),Wm=Nt(Pm),Fm=x({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),eg=Nt(Fm),tg=x({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ag=Nt(tg),ng=x({},dn,{newState:0,oldState:0}),lg=Nt(ng),ig=[9,13,27,32],Xr=ga&&"CompositionEvent"in window,Yl=null;ga&&"documentMode"in document&&(Yl=document.documentMode);var sg=ga&&"TextEvent"in window&&!Yl,Vc=ga&&(!Xr||Yl&&8<Yl&&11>=Yl),Xc=" ",Qc=!1;function Jc(e,t){switch(e){case"keyup":return ig.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function rg(e,t){switch(e){case"compositionend":return Zc(t);case"keypress":return t.which!==32?null:(Qc=!0,Xc);case"textInput":return e=t.data,e===Xc&&Qc?null:e;default:return null}}function ug(e,t){if(Jn)return e==="compositionend"||!Xr&&Jc(e,t)?(e=Hc(),Fi=$r=Ua=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vc&&t.locale!=="ko"?null:t.data;default:return null}}var og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!og[e.type]:t==="textarea"}function Pc(e,t,a,l){Xn?Qn?Qn.push(l):Qn=[l]:Xn=l,t=Xs(t,"onChange"),0<t.length&&(a=new as("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Vl=null,Xl=null;function cg(e){Df(e,0)}function ls(e){var t=ql(e);if(Cc(t))return e}function Wc(e,t){if(e==="change")return t}var Fc=!1;if(ga){var Qr;if(ga){var Jr="oninput"in document;if(!Jr){var ed=document.createElement("div");ed.setAttribute("oninput","return;"),Jr=typeof ed.oninput=="function"}Qr=Jr}else Qr=!1;Fc=Qr&&(!document.documentMode||9<document.documentMode)}function td(){Vl&&(Vl.detachEvent("onpropertychange",ad),Xl=Vl=null)}function ad(e){if(e.propertyName==="value"&&ls(Xl)){var t=[];Pc(t,Xl,e,Br(e)),qc(cg,t)}}function dg(e,t,a){e==="focusin"?(td(),Vl=t,Xl=a,Vl.attachEvent("onpropertychange",ad)):e==="focusout"&&td()}function hg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(Xl)}function fg(e,t){if(e==="click")return ls(t)}function mg(e,t){if(e==="input"||e==="change")return ls(t)}function gg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:gg;function Ql(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Ul.call(t,u)||!Mt(e[u],t[u]))return!1}return!0}function nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ld(e,t){var a=nd(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=nd(a)}}function id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Pi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Pi(e.document)}return t}function Zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var pg=ga&&"documentMode"in document&&11>=document.documentMode,Zn=null,Ir=null,Jl=null,Pr=!1;function rd(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pr||Zn==null||Zn!==Pi(l)||(l=Zn,"selectionStart"in l&&Zr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jl&&Ql(Jl,l)||(Jl=l,l=Xs(Ir,"onSelect"),0<l.length&&(t=new as("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Zn)))}function hn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var In={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},Wr={},ud={};ga&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function fn(e){if(Wr[e])return Wr[e];if(!In[e])return e;var t=In[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ud)return Wr[e]=t[a];return e}var od=fn("animationend"),cd=fn("animationiteration"),dd=fn("animationstart"),yg=fn("transitionrun"),bg=fn("transitionstart"),vg=fn("transitioncancel"),hd=fn("transitionend"),fd=new Map,Fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fr.push("scrollEnd");function ta(e,t){fd.set(e,t),cn(t,[e])}var is=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qt=[],Pn=0,eu=0;function ss(){for(var e=Pn,t=eu=Pn=0;t<e;){var a=Qt[t];Qt[t++]=null;var l=Qt[t];Qt[t++]=null;var u=Qt[t];Qt[t++]=null;var o=Qt[t];if(Qt[t++]=null,l!==null&&u!==null){var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}o!==0&&md(a,u,o)}}function rs(e,t,a,l){Qt[Pn++]=e,Qt[Pn++]=t,Qt[Pn++]=a,Qt[Pn++]=l,eu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function tu(e,t,a,l){return rs(e,t,a,l),us(e)}function mn(e,t){return rs(e,null,null,t),us(e)}function md(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var u=!1,o=e.return;o!==null;)o.childLanes|=a,l=o.alternate,l!==null&&(l.childLanes|=a),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-Ye(a),e=o.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=a|536870912),o):null}function us(e){if(50<pi)throw pi=0,co=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Wn={};function xg(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,a,l){return new xg(e,t,a,l)}function au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pa(e,t){var a=e.alternate;return a===null?(a=Lt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function gd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function os(e,t,a,l,u,o){var m=0;if(l=e,typeof e=="function")au(e)&&(m=1);else if(typeof e=="string")m=Ep(e,a,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=Lt(31,a,t,u),e.elementType=Y,e.lanes=o,e;case z:return gn(a.children,u,o,t);case H:m=8,u|=24;break;case V:return e=Lt(12,a,t,u|2),e.elementType=V,e.lanes=o,e;case ce:return e=Lt(13,a,t,u),e.elementType=ce,e.lanes=o,e;case W:return e=Lt(19,a,t,u),e.elementType=W,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:m=10;break e;case I:m=9;break e;case Z:m=11;break e;case Q:m=14;break e;case L:m=16,l=null;break e}m=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=Lt(m,a,t,u),t.elementType=e,t.type=l,t.lanes=o,t}function gn(e,t,a,l){return e=Lt(7,e,l,t),e.lanes=a,e}function nu(e,t,a){return e=Lt(6,e,null,t),e.lanes=a,e}function pd(e){var t=Lt(18,null,null,0);return t.stateNode=e,t}function lu(e,t,a){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var yd=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var a=yd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Yi(t)},yd.set(e,t),t)}return{value:e,source:t,stack:Yi(t)}}var Fn=[],el=0,cs=null,Zl=0,Zt=[],It=0,Ma=null,ua=1,oa="";function ya(e,t){Fn[el++]=Zl,Fn[el++]=cs,cs=e,Zl=t}function bd(e,t,a){Zt[It++]=ua,Zt[It++]=oa,Zt[It++]=Ma,Ma=e;var l=ua;e=oa;var u=32-Ye(l)-1;l&=~(1<<u),a+=1;var o=32-Ye(t)+u;if(30<o){var m=u-u%5;o=(l&(1<<m)-1).toString(32),l>>=m,u-=m,ua=1<<32-Ye(t)+u|a<<u|l,oa=o+e}else ua=1<<o|a<<u|l,oa=e}function iu(e){e.return!==null&&(ya(e,1),bd(e,1,0))}function su(e){for(;e===cs;)cs=Fn[--el],Fn[el]=null,Zl=Fn[--el],Fn[el]=null;for(;e===Ma;)Ma=Zt[--It],Zt[It]=null,oa=Zt[--It],Zt[It]=null,ua=Zt[--It],Zt[It]=null}function vd(e,t){Zt[It++]=ua,Zt[It++]=oa,Zt[It++]=Ma,ua=t.id,oa=t.overflow,Ma=e}var mt=null,Ve=null,Te=!1,La=null,Pt=!1,ru=Error(r(519));function Ba(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(Jt(t,e)),ru}function xd(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[ft]=e,t[Tt]=l,a){case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":case"embed":je("load",t);break;case"video":case"audio":for(a=0;a<bi.length;a++)je(bi[a],t);break;case"source":je("error",t);break;case"img":case"image":case"link":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"input":je("invalid",t),zc(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",t);break;case"textarea":je("invalid",t),Uc(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Bf(t.textContent,a)?(l.popover!=null&&(je("beforetoggle",t),je("toggle",t)),l.onScroll!=null&&je("scroll",t),l.onScrollEnd!=null&&je("scrollend",t),l.onClick!=null&&(t.onclick=ma),t=!0):t=!1,t||Ba(e,!0)}function _d(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:mt=mt.return}}function tl(e){if(e!==mt)return!1;if(!Te)return _d(e),Te=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ko(e.type,e.memoizedProps)),a=!a),a&&Ve&&Ba(e),_d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ve=Qf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ve=Qf(e)}else t===27?(t=Ve,Wa(e.type)?(e=Ro,Ro=null,Ve=e):Ve=t):Ve=mt?Ft(e.stateNode.nextSibling):null;return!0}function pn(){Ve=mt=null,Te=!1}function uu(){var e=La;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),La=null),e}function Il(e){La===null?La=[e]:La.push(e)}var ou=w(null),yn=null,ba=null;function qa(e,t,a){$(ou,t._currentValue),t._currentValue=a}function va(e){e._currentValue=ou.current,j(ou)}function cu(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function du(e,t,a,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var m=u.child;o=o.firstContext;e:for(;o!==null;){var b=o;o=u;for(var _=0;_<t.length;_++)if(b.context===t[_]){o.lanes|=a,b=o.alternate,b!==null&&(b.lanes|=a),cu(o.return,a,e),l||(m=null);break e}o=b.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(r(341));m.lanes|=a,o=m.alternate,o!==null&&(o.lanes|=a),cu(m,a,e),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===e){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function al(e,t,a,l){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var b=u.type;Mt(u.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(u===me.current){if(m=u.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Si):e=[Si])}u=u.return}e!==null&&du(t,e,a,l),t.flags|=262144}function ds(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bn(e){yn=e,ba=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gt(e){return wd(yn,e)}function hs(e,t){return yn===null&&bn(e),wd(e,t)}function wd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ba===null){if(e===null)throw Error(r(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return a}var _g=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},wg=i.unstable_scheduleCallback,Sg=i.unstable_NormalPriority,lt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hu(){return{controller:new _g,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&wg(Sg,function(){e.controller.abort()})}var Wl=null,fu=0,nl=0,ll=null;function jg(e,t){if(Wl===null){var a=Wl=[];fu=0,nl=yo(),ll={status:"pending",value:void 0,then:function(l){a.push(l)}}}return fu++,t.then(Sd,Sd),t}function Sd(){if(--fu===0&&Wl!==null){ll!==null&&(ll.status="fulfilled");var e=Wl;Wl=null,nl=0,ll=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Eg(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var jd=D.S;D.S=function(e,t){uf=wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&jg(e,t),jd!==null&&jd(e,t)};var vn=w(null);function mu(){var e=vn.current;return e!==null?e:Ge.pooledCache}function fs(e,t){t===null?$(vn,vn.current):$(vn,t.pool)}function Ed(){var e=mu();return e===null?null:{parent:lt._currentValue,pool:e}}var il=Error(r(460)),gu=Error(r(474)),ms=Error(r(542)),gs={then:function(){}};function kd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Td(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ma,ma),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ad(e),e;default:if(typeof t.status=="string")t.then(ma,ma);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ad(e),e}throw _n=t,il}}function xn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(_n=a,il):a}}var _n=null;function Nd(){if(_n===null)throw Error(r(459));var e=_n;return _n=null,e}function Ad(e){if(e===il||e===ms)throw Error(r(483))}var sl=null,Fl=0;function ps(e){var t=Fl;return Fl+=1,sl===null&&(sl=[]),Td(sl,e,t)}function ei(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ys(e,t){throw t.$$typeof===k?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Od(e){function t(T,E){if(e){var A=T.deletions;A===null?(T.deletions=[E],T.flags|=16):A.push(E)}}function a(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function l(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function u(T,E){return T=pa(T,E),T.index=0,T.sibling=null,T}function o(T,E,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<E?(T.flags|=67108866,E):A):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function b(T,E,A,B){return E===null||E.tag!==6?(E=nu(A,T.mode,B),E.return=T,E):(E=u(E,A),E.return=T,E)}function _(T,E,A,B){var ie=A.type;return ie===z?M(T,E,A.props.children,B,A.key):E!==null&&(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===L&&xn(ie)===E.type)?(E=u(E,A.props),ei(E,A),E.return=T,E):(E=os(A.type,A.key,A.props,null,T.mode,B),ei(E,A),E.return=T,E)}function R(T,E,A,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=lu(A,T.mode,B),E.return=T,E):(E=u(E,A.children||[]),E.return=T,E)}function M(T,E,A,B,ie){return E===null||E.tag!==7?(E=gn(A,T.mode,B,ie),E.return=T,E):(E=u(E,A),E.return=T,E)}function q(T,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=nu(""+E,T.mode,A),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case N:return A=os(E.type,E.key,E.props,null,T.mode,A),ei(A,E),A.return=T,A;case S:return E=lu(E,T.mode,A),E.return=T,E;case L:return E=xn(E),q(T,E,A)}if(_e(E)||tt(E))return E=gn(E,T.mode,A,null),E.return=T,E;if(typeof E.then=="function")return q(T,ps(E),A);if(E.$$typeof===K)return q(T,hs(T,E),A);ys(T,E)}return null}function C(T,E,A,B){var ie=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ie!==null?null:b(T,E,""+A,B);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case N:return A.key===ie?_(T,E,A,B):null;case S:return A.key===ie?R(T,E,A,B):null;case L:return A=xn(A),C(T,E,A,B)}if(_e(A)||tt(A))return ie!==null?null:M(T,E,A,B,null);if(typeof A.then=="function")return C(T,E,ps(A),B);if(A.$$typeof===K)return C(T,E,hs(T,A),B);ys(T,A)}return null}function U(T,E,A,B,ie){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return T=T.get(A)||null,b(E,T,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case N:return T=T.get(B.key===null?A:B.key)||null,_(E,T,B,ie);case S:return T=T.get(B.key===null?A:B.key)||null,R(E,T,B,ie);case L:return B=xn(B),U(T,E,A,B,ie)}if(_e(B)||tt(B))return T=T.get(A)||null,M(E,T,B,ie,null);if(typeof B.then=="function")return U(T,E,A,ps(B),ie);if(B.$$typeof===K)return U(T,E,A,hs(E,B),ie);ys(E,B)}return null}function F(T,E,A,B){for(var ie=null,Oe=null,ne=E,xe=E=0,ke=null;ne!==null&&xe<A.length;xe++){ne.index>xe?(ke=ne,ne=null):ke=ne.sibling;var Re=C(T,ne,A[xe],B);if(Re===null){ne===null&&(ne=ke);break}e&&ne&&Re.alternate===null&&t(T,ne),E=o(Re,E,xe),Oe===null?ie=Re:Oe.sibling=Re,Oe=Re,ne=ke}if(xe===A.length)return a(T,ne),Te&&ya(T,xe),ie;if(ne===null){for(;xe<A.length;xe++)ne=q(T,A[xe],B),ne!==null&&(E=o(ne,E,xe),Oe===null?ie=ne:Oe.sibling=ne,Oe=ne);return Te&&ya(T,xe),ie}for(ne=l(ne);xe<A.length;xe++)ke=U(ne,T,xe,A[xe],B),ke!==null&&(e&&ke.alternate!==null&&ne.delete(ke.key===null?xe:ke.key),E=o(ke,E,xe),Oe===null?ie=ke:Oe.sibling=ke,Oe=ke);return e&&ne.forEach(function(nn){return t(T,nn)}),Te&&ya(T,xe),ie}function oe(T,E,A,B){if(A==null)throw Error(r(151));for(var ie=null,Oe=null,ne=E,xe=E=0,ke=null,Re=A.next();ne!==null&&!Re.done;xe++,Re=A.next()){ne.index>xe?(ke=ne,ne=null):ke=ne.sibling;var nn=C(T,ne,Re.value,B);if(nn===null){ne===null&&(ne=ke);break}e&&ne&&nn.alternate===null&&t(T,ne),E=o(nn,E,xe),Oe===null?ie=nn:Oe.sibling=nn,Oe=nn,ne=ke}if(Re.done)return a(T,ne),Te&&ya(T,xe),ie;if(ne===null){for(;!Re.done;xe++,Re=A.next())Re=q(T,Re.value,B),Re!==null&&(E=o(Re,E,xe),Oe===null?ie=Re:Oe.sibling=Re,Oe=Re);return Te&&ya(T,xe),ie}for(ne=l(ne);!Re.done;xe++,Re=A.next())Re=U(ne,T,xe,Re.value,B),Re!==null&&(e&&Re.alternate!==null&&ne.delete(Re.key===null?xe:Re.key),E=o(Re,E,xe),Oe===null?ie=Re:Oe.sibling=Re,Oe=Re);return e&&ne.forEach(function(Mp){return t(T,Mp)}),Te&&ya(T,xe),ie}function He(T,E,A,B){if(typeof A=="object"&&A!==null&&A.type===z&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case N:e:{for(var ie=A.key;E!==null;){if(E.key===ie){if(ie=A.type,ie===z){if(E.tag===7){a(T,E.sibling),B=u(E,A.props.children),B.return=T,T=B;break e}}else if(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===L&&xn(ie)===E.type){a(T,E.sibling),B=u(E,A.props),ei(B,A),B.return=T,T=B;break e}a(T,E);break}else t(T,E);E=E.sibling}A.type===z?(B=gn(A.props.children,T.mode,B,A.key),B.return=T,T=B):(B=os(A.type,A.key,A.props,null,T.mode,B),ei(B,A),B.return=T,T=B)}return m(T);case S:e:{for(ie=A.key;E!==null;){if(E.key===ie)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){a(T,E.sibling),B=u(E,A.children||[]),B.return=T,T=B;break e}else{a(T,E);break}else t(T,E);E=E.sibling}B=lu(A,T.mode,B),B.return=T,T=B}return m(T);case L:return A=xn(A),He(T,E,A,B)}if(_e(A))return F(T,E,A,B);if(tt(A)){if(ie=tt(A),typeof ie!="function")throw Error(r(150));return A=ie.call(A),oe(T,E,A,B)}if(typeof A.then=="function")return He(T,E,ps(A),B);if(A.$$typeof===K)return He(T,E,hs(T,A),B);ys(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(a(T,E.sibling),B=u(E,A),B.return=T,T=B):(a(T,E),B=nu(A,T.mode,B),B.return=T,T=B),m(T)):a(T,E)}return function(T,E,A,B){try{Fl=0;var ie=He(T,E,A,B);return sl=null,ie}catch(ne){if(ne===il||ne===ms)throw ne;var Oe=Lt(29,ne,null,T.mode);return Oe.lanes=B,Oe.return=T,Oe}finally{}}}var wn=Od(!0),Rd=Od(!1),Ha=!1;function pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=us(e),md(e,null,a),t}return rs(e,l,t,a),us(e)}function ti(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,wc(e,a)}}function bu(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};o===null?u=o=m:o=o.next=m,a=a.next}while(a!==null);o===null?u=o=t:o=o.next=t}else u=o=t;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var vu=!1;function ai(){if(vu){var e=ll;if(e!==null)throw e}}function ni(e,t,a,l){vu=!1;var u=e.updateQueue;Ha=!1;var o=u.firstBaseUpdate,m=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var _=b,R=_.next;_.next=null,m===null?o=R:m.next=R,m=_;var M=e.alternate;M!==null&&(M=M.updateQueue,b=M.lastBaseUpdate,b!==m&&(b===null?M.firstBaseUpdate=R:b.next=R,M.lastBaseUpdate=_))}if(o!==null){var q=u.baseState;m=0,M=R=_=null,b=o;do{var C=b.lane&-536870913,U=C!==b.lane;if(U?(Ee&C)===C:(l&C)===C){C!==0&&C===nl&&(vu=!0),M!==null&&(M=M.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var F=e,oe=b;C=t;var He=a;switch(oe.tag){case 1:if(F=oe.payload,typeof F=="function"){q=F.call(He,q,C);break e}q=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=oe.payload,C=typeof F=="function"?F.call(He,q,C):F,C==null)break e;q=x({},q,C);break e;case 2:Ha=!0}}C=b.callback,C!==null&&(e.flags|=64,U&&(e.flags|=8192),U=u.callbacks,U===null?u.callbacks=[C]:U.push(C))}else U={lane:C,tag:b.tag,payload:b.payload,callback:b.callback,next:null},M===null?(R=M=U,_=q):M=M.next=U,m|=C;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;U=b,b=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);M===null&&(_=q),u.baseState=_,u.firstBaseUpdate=R,u.lastBaseUpdate=M,o===null&&(u.shared.lanes=0),Qa|=m,e.lanes=m,e.memoizedState=q}}function Cd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function zd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Cd(a[e],t)}var rl=w(null),bs=w(0);function Dd(e,t){e=Na,$(bs,e),$(rl,t),Na=e|t.baseLanes}function xu(){$(bs,Na),$(rl,rl.current)}function _u(){Na=bs.current,j(rl),j(bs)}var Bt=w(null),Wt=null;function Ka(e){var t=e.alternate;$(at,at.current&1),$(Bt,e),Wt===null&&(t===null||rl.current!==null||t.memoizedState!==null)&&(Wt=e)}function wu(e){$(at,at.current),$(Bt,e),Wt===null&&(Wt=e)}function Ud(e){e.tag===22?($(at,at.current),$(Bt,e),Wt===null&&(Wt=e)):Ya()}function Ya(){$(at,at.current),$(Bt,Bt.current)}function qt(e){j(Bt),Wt===e&&(Wt=null),j(at)}var at=w(0);function vs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ao(a)||Oo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xa=0,ve=null,Be=null,it=null,xs=!1,ul=!1,Sn=!1,_s=0,li=0,ol=null,kg=0;function We(){throw Error(r(321))}function Su(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Mt(e[a],t[a]))return!1;return!0}function ju(e,t,a,l,u,o){return xa=o,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?bh:qu,Sn=!1,o=a(l,u),Sn=!1,ul&&(o=Ld(t,a,l,u)),Md(e),o}function Md(e){D.H=ri;var t=Be!==null&&Be.next!==null;if(xa=0,it=Be=ve=null,xs=!1,li=0,ol=null,t)throw Error(r(300));e===null||st||(e=e.dependencies,e!==null&&ds(e)&&(st=!0))}function Ld(e,t,a,l){ve=e;var u=0;do{if(ul&&(ol=null),li=0,ul=!1,25<=u)throw Error(r(301));if(u+=1,it=Be=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}D.H=vh,o=t(a,l)}while(ul);return o}function Tg(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?ii(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(ve.flags|=1024),t}function Eu(){var e=_s!==0;return _s=0,e}function ku(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Tu(e){if(xs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xs=!1}xa=0,it=Be=ve=null,ul=!1,li=_s=0,ol=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?ve.memoizedState=it=e:it=it.next=e,it}function nt(){if(Be===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=it===null?ve.memoizedState:it.next;if(t!==null)it=t,Be=e;else{if(e===null)throw ve.alternate===null?Error(r(467)):Error(r(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},it===null?ve.memoizedState=it=e:it=it.next=e}return it}function ws(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ii(e){var t=li;return li+=1,ol===null&&(ol=[]),e=Td(ol,e,t),t=ve,(it===null?t.memoizedState:it.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?bh:qu),e}function Ss(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ii(e);if(e.$$typeof===K)return gt(e)}throw Error(r(438,String(e)))}function Nu(e){var t=null,a=ve.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ws(),ve.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=ue;return t.index++,a}function _a(e,t){return typeof t=="function"?t(e):t}function js(e){var t=nt();return Au(t,Be,e)}function Au(e,t,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var u=e.baseQueue,o=l.pending;if(o!==null){if(u!==null){var m=u.next;u.next=o.next,o.next=m}t.baseQueue=u=o,l.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var b=m=null,_=null,R=t,M=!1;do{var q=R.lane&-536870913;if(q!==R.lane?(Ee&q)===q:(xa&q)===q){var C=R.revertLane;if(C===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),q===nl&&(M=!0);else if((xa&C)===C){R=R.next,C===nl&&(M=!0);continue}else q={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(b=_=q,m=o):_=_.next=q,ve.lanes|=C,Qa|=C;q=R.action,Sn&&a(o,q),o=R.hasEagerState?R.eagerState:a(o,q)}else C={lane:q,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(b=_=C,m=o):_=_.next=C,ve.lanes|=q,Qa|=q;R=R.next}while(R!==null&&R!==t);if(_===null?m=o:_.next=b,!Mt(o,e.memoizedState)&&(st=!0,M&&(a=ll,a!==null)))throw a;e.memoizedState=o,e.baseState=m,e.baseQueue=_,l.lastRenderedState=o}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ou(e){var t=nt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,u=a.pending,o=t.memoizedState;if(u!==null){a.pending=null;var m=u=u.next;do o=e(o,m.action),m=m.next;while(m!==u);Mt(o,t.memoizedState)||(st=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),a.lastRenderedState=o}return[o,l]}function Bd(e,t,a){var l=ve,u=nt(),o=Te;if(o){if(a===void 0)throw Error(r(407));a=a()}else a=t();var m=!Mt((Be||u).memoizedState,a);if(m&&(u.memoizedState=a,st=!0),u=u.queue,zu($d.bind(null,l,u,e),[e]),u.getSnapshot!==t||m||it!==null&&it.memoizedState.tag&1){if(l.flags|=2048,cl(9,{destroy:void 0},Hd.bind(null,l,u,a,t),null),Ge===null)throw Error(r(349));o||(xa&127)!==0||qd(l,t,a)}return a}function qd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ve.updateQueue,t===null?(t=ws(),ve.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Hd(e,t,a,l){t.value=a,t.getSnapshot=l,Gd(t)&&Kd(e)}function $d(e,t,a){return a(function(){Gd(t)&&Kd(e)})}function Gd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Mt(e,a)}catch{return!0}}function Kd(e){var t=mn(e,2);t!==null&&zt(t,e,2)}function Ru(e){var t=St();if(typeof e=="function"){var a=e;if(e=a(),Sn){$e(!0);try{a()}finally{$e(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:e},t}function Yd(e,t,a,l){return e.baseState=a,Au(e,Be,typeof l=="function"?l:_a)}function Ng(e,t,a,l,u){if(Ts(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){o.listeners.push(m)}};D.T!==null?a(!0):o.isTransition=!1,l(o),a=t.pending,a===null?(o.next=t.pending=o,Vd(t,o)):(o.next=a.next,t.pending=a.next=o)}}function Vd(e,t){var a=t.action,l=t.payload,u=e.state;if(t.isTransition){var o=D.T,m={};D.T=m;try{var b=a(u,l),_=D.S;_!==null&&_(m,b),Xd(e,t,b)}catch(R){Cu(e,t,R)}finally{o!==null&&m.types!==null&&(o.types=m.types),D.T=o}}else try{o=a(u,l),Xd(e,t,o)}catch(R){Cu(e,t,R)}}function Xd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qd(e,t,l)},function(l){return Cu(e,t,l)}):Qd(e,t,a)}function Qd(e,t,a){t.status="fulfilled",t.value=a,Jd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Vd(e,a)))}function Cu(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Jd(t),t=t.next;while(t!==l)}e.action=null}function Jd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zd(e,t){return t}function Id(e,t){if(Te){var a=Ge.formState;if(a!==null){e:{var l=ve;if(Te){if(Ve){t:{for(var u=Ve,o=Pt;u.nodeType!==8;){if(!o){u=null;break t}if(u=Ft(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){Ve=Ft(u.nextSibling),l=u.data==="F!";break e}}Ba(l)}l=!1}l&&(t=a[0])}}return a=St(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:t},a.queue=l,a=gh.bind(null,ve,l),l.dispatch=a,l=Ru(!1),o=Bu.bind(null,ve,!1,l.queue),l=St(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,a=Ng.bind(null,ve,u,o,a),u.dispatch=a,l.memoizedState=e,[t,a,!1]}function Pd(e){var t=nt();return Wd(t,Be,e)}function Wd(e,t,a){if(t=Au(e,t,Zd)[0],e=js(_a)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ii(t)}catch(m){throw m===il?ms:m}else l=t;t=nt();var u=t.queue,o=u.dispatch;return a!==t.memoizedState&&(ve.flags|=2048,cl(9,{destroy:void 0},Ag.bind(null,u,a),null)),[l,o,e]}function Ag(e,t){e.action=t}function Fd(e){var t=nt(),a=Be;if(a!==null)return Wd(t,a,e);nt(),t=t.memoizedState,a=nt();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function cl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=ve.updateQueue,t===null&&(t=ws(),ve.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function eh(){return nt().memoizedState}function Es(e,t,a,l){var u=St();ve.flags|=e,u.memoizedState=cl(1|t,{destroy:void 0},a,l===void 0?null:l)}function ks(e,t,a,l){var u=nt();l=l===void 0?null:l;var o=u.memoizedState.inst;Be!==null&&l!==null&&Su(l,Be.memoizedState.deps)?u.memoizedState=cl(t,o,a,l):(ve.flags|=e,u.memoizedState=cl(1|t,o,a,l))}function th(e,t){Es(8390656,8,e,t)}function zu(e,t){ks(2048,8,e,t)}function Og(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=ws(),ve.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function ah(e){var t=nt().memoizedState;return Og({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function nh(e,t){return ks(4,2,e,t)}function lh(e,t){return ks(4,4,e,t)}function ih(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sh(e,t,a){a=a!=null?a.concat([e]):null,ks(4,4,ih.bind(null,t,e),a)}function Du(){}function rh(e,t){var a=nt();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Su(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function uh(e,t){var a=nt();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Su(t,l[1]))return l[0];if(l=e(),Sn){$e(!0);try{e()}finally{$e(!1)}}return a.memoizedState=[l,t],l}function Uu(e,t,a){return a===void 0||(xa&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=cf(),ve.lanes|=e,Qa|=e,a)}function oh(e,t,a,l){return Mt(a,t)?a:rl.current!==null?(e=Uu(e,a,l),Mt(e,t)||(st=!0),e):(xa&42)===0||(xa&1073741824)!==0&&(Ee&261930)===0?(st=!0,e.memoizedState=a):(e=cf(),ve.lanes|=e,Qa|=e,t)}function ch(e,t,a,l,u){var o=G.p;G.p=o!==0&&8>o?o:8;var m=D.T,b={};D.T=b,Bu(e,!1,t,a);try{var _=u(),R=D.S;if(R!==null&&R(b,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var M=Eg(_,l);si(e,t,M,Gt(e))}else si(e,t,l,Gt(e))}catch(q){si(e,t,{then:function(){},status:"rejected",reason:q},Gt())}finally{G.p=o,m!==null&&b.types!==null&&(m.types=b.types),D.T=m}}function Rg(){}function Mu(e,t,a,l){if(e.tag!==5)throw Error(r(476));var u=dh(e).queue;ch(e,u,t,P,a===null?Rg:function(){return hh(e),a(l)})}function dh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:P},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hh(e){var t=dh(e);t.next===null&&(t=e.alternate.memoizedState),si(e,t.next.queue,{},Gt())}function Lu(){return gt(Si)}function fh(){return nt().memoizedState}function mh(){return nt().memoizedState}function Cg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Gt();e=$a(a);var l=Ga(t,e,a);l!==null&&(zt(l,t,a),ti(l,t,a)),t={cache:hu()},e.payload=t;return}t=t.return}}function zg(e,t,a){var l=Gt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ts(e)?ph(t,a):(a=tu(e,t,a,l),a!==null&&(zt(a,e,l),yh(a,t,l)))}function gh(e,t,a){var l=Gt();si(e,t,a,l)}function si(e,t,a,l){var u={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ts(e))ph(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var m=t.lastRenderedState,b=o(m,a);if(u.hasEagerState=!0,u.eagerState=b,Mt(b,m))return rs(e,t,u,0),Ge===null&&ss(),!1}catch{}finally{}if(a=tu(e,t,u,l),a!==null)return zt(a,e,l),yh(a,t,l),!0}return!1}function Bu(e,t,a,l){if(l={lane:2,revertLane:yo(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ts(e)){if(t)throw Error(r(479))}else t=tu(e,a,l,2),t!==null&&zt(t,e,2)}function Ts(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function ph(e,t){ul=xs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function yh(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,wc(e,a)}}var ri={readContext:gt,use:Ss,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};ri.useEffectEvent=We;var bh={readContext:gt,use:Ss,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:th,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Es(4194308,4,ih.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Es(4194308,4,e,t)},useInsertionEffect:function(e,t){Es(4,2,e,t)},useMemo:function(e,t){var a=St();t=t===void 0?null:t;var l=e();if(Sn){$e(!0);try{e()}finally{$e(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=St();if(a!==void 0){var u=a(t);if(Sn){$e(!0);try{a(t)}finally{$e(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=zg.bind(null,ve,e),[l.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=Ru(e);var t=e.queue,a=gh.bind(null,ve,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Du,useDeferredValue:function(e,t){var a=St();return Uu(a,e,t)},useTransition:function(){var e=Ru(!1);return e=ch.bind(null,ve,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=ve,u=St();if(Te){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ge===null)throw Error(r(349));(Ee&127)!==0||qd(l,t,a)}u.memoizedState=a;var o={value:a,getSnapshot:t};return u.queue=o,th($d.bind(null,l,o,e),[e]),l.flags|=2048,cl(9,{destroy:void 0},Hd.bind(null,l,o,a,t),null),a},useId:function(){var e=St(),t=Ge.identifierPrefix;if(Te){var a=oa,l=ua;a=(l&~(1<<32-Ye(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=_s++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=kg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Lu,useFormState:Id,useActionState:Id,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Bu.bind(null,ve,!0,a),a.dispatch=t,[e,t]},useMemoCache:Nu,useCacheRefresh:function(){return St().memoizedState=Cg.bind(null,ve)},useEffectEvent:function(e){var t=St(),a={impl:e};return t.memoizedState=a,function(){if((Ce&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qu={readContext:gt,use:Ss,useCallback:rh,useContext:gt,useEffect:zu,useImperativeHandle:sh,useInsertionEffect:nh,useLayoutEffect:lh,useMemo:uh,useReducer:js,useRef:eh,useState:function(){return js(_a)},useDebugValue:Du,useDeferredValue:function(e,t){var a=nt();return oh(a,Be.memoizedState,e,t)},useTransition:function(){var e=js(_a)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:ii(e),t]},useSyncExternalStore:Bd,useId:fh,useHostTransitionStatus:Lu,useFormState:Pd,useActionState:Pd,useOptimistic:function(e,t){var a=nt();return Yd(a,Be,e,t)},useMemoCache:Nu,useCacheRefresh:mh};qu.useEffectEvent=ah;var vh={readContext:gt,use:Ss,useCallback:rh,useContext:gt,useEffect:zu,useImperativeHandle:sh,useInsertionEffect:nh,useLayoutEffect:lh,useMemo:uh,useReducer:Ou,useRef:eh,useState:function(){return Ou(_a)},useDebugValue:Du,useDeferredValue:function(e,t){var a=nt();return Be===null?Uu(a,e,t):oh(a,Be.memoizedState,e,t)},useTransition:function(){var e=Ou(_a)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:ii(e),t]},useSyncExternalStore:Bd,useId:fh,useHostTransitionStatus:Lu,useFormState:Fd,useActionState:Fd,useOptimistic:function(e,t){var a=nt();return Be!==null?Yd(a,Be,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Nu,useCacheRefresh:mh};vh.useEffectEvent=ah;function Hu(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $u={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Gt(),u=$a(l);u.payload=t,a!=null&&(u.callback=a),t=Ga(e,u,l),t!==null&&(zt(t,e,l),ti(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Gt(),u=$a(l);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Ga(e,u,l),t!==null&&(zt(t,e,l),ti(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Gt(),l=$a(a);l.tag=2,t!=null&&(l.callback=t),t=Ga(e,l,a),t!==null&&(zt(t,e,a),ti(t,e,a))}};function xh(e,t,a,l,u,o,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,m):t.prototype&&t.prototype.isPureReactComponent?!Ql(a,l)||!Ql(u,o):!0}function _h(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&$u.enqueueReplaceState(t,t.state,null)}function jn(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function wh(e){is(e)}function Sh(e){console.error(e)}function jh(e){is(e)}function Ns(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Eh(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Gu(e,t,a){return a=$a(a),a.tag=3,a.payload={element:null},a.callback=function(){Ns(e,t)},a}function kh(e){return e=$a(e),e.tag=3,e}function Th(e,t,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var o=l.value;e.payload=function(){return u(o)},e.callback=function(){Eh(t,a,l)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Eh(t,a,l),typeof u!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Dg(e,t,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&al(t,a,u,!0),a=Bt.current,a!==null){switch(a.tag){case 31:case 13:return Wt===null?Hs():a.alternate===null&&Fe===0&&(Fe=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===gs?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),mo(e,l,u)),!1;case 22:return a.flags|=65536,l===gs?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),mo(e,l,u)),!1}throw Error(r(435,a.tag))}return mo(e,l,u),Hs(),!1}if(Te)return t=Bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==ru&&(e=Error(r(422),{cause:l}),Il(Jt(e,a)))):(l!==ru&&(t=Error(r(423),{cause:l}),Il(Jt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Jt(l,a),u=Gu(e.stateNode,l,u),bu(e,u),Fe!==4&&(Fe=2)),!1;var o=Error(r(520),{cause:l});if(o=Jt(o,a),gi===null?gi=[o]:gi.push(o),Fe!==4&&(Fe=2),t===null)return!0;l=Jt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Gu(a.stateNode,l,e),bu(a,e),!1;case 1:if(t=a.type,o=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ja===null||!Ja.has(o))))return a.flags|=65536,u&=-u,a.lanes|=u,u=kh(u),Th(u,e,a,l),bu(a,u),!1}a=a.return}while(a!==null);return!1}var Ku=Error(r(461)),st=!1;function pt(e,t,a,l){t.child=e===null?Rd(t,null,a,l):wn(t,e.child,a,l)}function Nh(e,t,a,l,u){a=a.render;var o=t.ref;if("ref"in l){var m={};for(var b in l)b!=="ref"&&(m[b]=l[b])}else m=l;return bn(t),l=ju(e,t,a,m,o,u),b=Eu(),e!==null&&!st?(ku(e,t,u),wa(e,t,u)):(Te&&b&&iu(t),t.flags|=1,pt(e,t,l,u),t.child)}function Ah(e,t,a,l,u){if(e===null){var o=a.type;return typeof o=="function"&&!au(o)&&o.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=o,Oh(e,t,o,l,u)):(e=os(a.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Pu(e,u)){var m=o.memoizedProps;if(a=a.compare,a=a!==null?a:Ql,a(m,l)&&e.ref===t.ref)return wa(e,t,u)}return t.flags|=1,e=pa(o,l),e.ref=t.ref,e.return=t,t.child=e}function Oh(e,t,a,l,u){if(e!==null){var o=e.memoizedProps;if(Ql(o,l)&&e.ref===t.ref)if(st=!1,t.pendingProps=l=o,Pu(e,u))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,wa(e,t,u)}return Yu(e,t,a,l,u)}function Rh(e,t,a,l){var u=l.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|a:a,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~o}else l=0,t.child=null;return Ch(e,t,o,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&fs(t,o!==null?o.cachePool:null),o!==null?Dd(t,o):xu(),Ud(t);else return l=t.lanes=536870912,Ch(e,t,o!==null?o.baseLanes|a:a,a,l)}else o!==null?(fs(t,o.cachePool),Dd(t,o),Ya(),t.memoizedState=null):(e!==null&&fs(t,null),xu(),Ya());return pt(e,t,u,a),t.child}function ui(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ch(e,t,a,l,u){var o=mu();return o=o===null?null:{parent:lt._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&fs(t,null),xu(),Ud(t),e!==null&&al(e,t,l,!0),t.childLanes=u,null}function As(e,t){return t=Rs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function zh(e,t,a){return wn(t,e.child,null,a),e=As(t,t.pendingProps),e.flags|=2,qt(t),t.memoizedState=null,e}function Ug(e,t,a){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Te){if(l.mode==="hidden")return e=As(t,l),t.lanes=536870912,ui(null,e);if(wu(t),(e=Ve)?(e=Xf(e,Pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:ua,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},a=pd(e),a.return=t,t.child=a,mt=t,Ve=null)):e=null,e===null)throw Ba(t);return t.lanes=536870912,null}return As(t,l)}var o=e.memoizedState;if(o!==null){var m=o.dehydrated;if(wu(t),u)if(t.flags&256)t.flags&=-257,t=zh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(st||al(e,t,a,!1),u=(a&e.childLanes)!==0,st||u){if(l=Ge,l!==null&&(m=Sc(l,a),m!==0&&m!==o.retryLane))throw o.retryLane=m,mn(e,m),zt(l,e,m),Ku;Hs(),t=zh(e,t,a)}else e=o.treeContext,Ve=Ft(m.nextSibling),mt=t,Te=!0,La=null,Pt=!1,e!==null&&vd(t,e),t=As(t,l),t.flags|=4096;return t}return e=pa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Os(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Yu(e,t,a,l,u){return bn(t),a=ju(e,t,a,l,void 0,u),l=Eu(),e!==null&&!st?(ku(e,t,u),wa(e,t,u)):(Te&&l&&iu(t),t.flags|=1,pt(e,t,a,u),t.child)}function Dh(e,t,a,l,u,o){return bn(t),t.updateQueue=null,a=Ld(t,l,a,u),Md(e),l=Eu(),e!==null&&!st?(ku(e,t,o),wa(e,t,o)):(Te&&l&&iu(t),t.flags|=1,pt(e,t,a,o),t.child)}function Uh(e,t,a,l,u){if(bn(t),t.stateNode===null){var o=Wn,m=a.contextType;typeof m=="object"&&m!==null&&(o=gt(m)),o=new a(l,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=$u,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=l,o.state=t.memoizedState,o.refs={},pu(t),m=a.contextType,o.context=typeof m=="object"&&m!==null?gt(m):Wn,o.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Hu(t,a,m,l),o.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(m=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),m!==o.state&&$u.enqueueReplaceState(o,o.state,null),ni(t,l,o,u),ai(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){o=t.stateNode;var b=t.memoizedProps,_=jn(a,b);o.props=_;var R=o.context,M=a.contextType;m=Wn,typeof M=="object"&&M!==null&&(m=gt(M));var q=a.getDerivedStateFromProps;M=typeof q=="function"||typeof o.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,M||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(b||R!==m)&&_h(t,o,l,m),Ha=!1;var C=t.memoizedState;o.state=C,ni(t,l,o,u),ai(),R=t.memoizedState,b||C!==R||Ha?(typeof q=="function"&&(Hu(t,a,q,l),R=t.memoizedState),(_=Ha||xh(t,a,_,l,C,R,m))?(M||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=R),o.props=l,o.state=R,o.context=m,l=_):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,yu(e,t),m=t.memoizedProps,M=jn(a,m),o.props=M,q=t.pendingProps,C=o.context,R=a.contextType,_=Wn,typeof R=="object"&&R!==null&&(_=gt(R)),b=a.getDerivedStateFromProps,(R=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m!==q||C!==_)&&_h(t,o,l,_),Ha=!1,C=t.memoizedState,o.state=C,ni(t,l,o,u),ai();var U=t.memoizedState;m!==q||C!==U||Ha||e!==null&&e.dependencies!==null&&ds(e.dependencies)?(typeof b=="function"&&(Hu(t,a,b,l),U=t.memoizedState),(M=Ha||xh(t,a,M,l,C,U,_)||e!==null&&e.dependencies!==null&&ds(e.dependencies))?(R||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,U,_),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,U,_)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=U),o.props=l,o.state=U,o.context=_,l=M):(typeof o.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),l=!1)}return o=l,Os(e,t),l=(t.flags&128)!==0,o||l?(o=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&l?(t.child=wn(t,e.child,null,u),t.child=wn(t,null,a,u)):pt(e,t,a,u),t.memoizedState=o.state,e=t.child):e=wa(e,t,u),e}function Mh(e,t,a,l){return pn(),t.flags|=256,pt(e,t,a,l),t.child}var Vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xu(e){return{baseLanes:e,cachePool:Ed()}}function Qu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=$t),e}function Lh(e,t,a){var l=t.pendingProps,u=!1,o=(t.flags&128)!==0,m;if((m=o)||(m=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),m&&(u=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Te){if(u?Ka(t):Ya(),(e=Ve)?(e=Xf(e,Pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:ua,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},a=pd(e),a.return=t,t.child=a,mt=t,Ve=null)):e=null,e===null)throw Ba(t);return Oo(e)?t.lanes=32:t.lanes=536870912,null}var b=l.children;return l=l.fallback,u?(Ya(),u=t.mode,b=Rs({mode:"hidden",children:b},u),l=gn(l,u,a,null),b.return=t,l.return=t,b.sibling=l,t.child=b,l=t.child,l.memoizedState=Xu(a),l.childLanes=Qu(e,m,a),t.memoizedState=Vu,ui(null,l)):(Ka(t),Ju(t,b))}var _=e.memoizedState;if(_!==null&&(b=_.dehydrated,b!==null)){if(o)t.flags&256?(Ka(t),t.flags&=-257,t=Zu(e,t,a)):t.memoizedState!==null?(Ya(),t.child=e.child,t.flags|=128,t=null):(Ya(),b=l.fallback,u=t.mode,l=Rs({mode:"visible",children:l.children},u),b=gn(b,u,a,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,wn(t,e.child,null,a),l=t.child,l.memoizedState=Xu(a),l.childLanes=Qu(e,m,a),t.memoizedState=Vu,t=ui(null,l));else if(Ka(t),Oo(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var R=m.dgst;m=R,l=Error(r(419)),l.stack="",l.digest=m,Il({value:l,source:null,stack:null}),t=Zu(e,t,a)}else if(st||al(e,t,a,!1),m=(a&e.childLanes)!==0,st||m){if(m=Ge,m!==null&&(l=Sc(m,a),l!==0&&l!==_.retryLane))throw _.retryLane=l,mn(e,l),zt(m,e,l),Ku;Ao(b)||Hs(),t=Zu(e,t,a)}else Ao(b)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Ve=Ft(b.nextSibling),mt=t,Te=!0,La=null,Pt=!1,e!==null&&vd(t,e),t=Ju(t,l.children),t.flags|=4096);return t}return u?(Ya(),b=l.fallback,u=t.mode,_=e.child,R=_.sibling,l=pa(_,{mode:"hidden",children:l.children}),l.subtreeFlags=_.subtreeFlags&65011712,R!==null?b=pa(R,b):(b=gn(b,u,a,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,ui(null,l),l=t.child,b=e.child.memoizedState,b===null?b=Xu(a):(u=b.cachePool,u!==null?(_=lt._currentValue,u=u.parent!==_?{parent:_,pool:_}:u):u=Ed(),b={baseLanes:b.baseLanes|a,cachePool:u}),l.memoizedState=b,l.childLanes=Qu(e,m,a),t.memoizedState=Vu,ui(e.child,l)):(Ka(t),a=e.child,e=a.sibling,a=pa(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Ju(e,t){return t=Rs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Rs(e,t){return e=Lt(22,e,null,t),e.lanes=0,e}function Zu(e,t,a){return wn(t,e.child,null,a),e=Ju(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bh(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),cu(e.return,t,a)}function Iu(e,t,a,l,u,o){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u,treeForkCount:o}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=u,m.treeForkCount=o)}function qh(e,t,a){var l=t.pendingProps,u=l.revealOrder,o=l.tail;l=l.children;var m=at.current,b=(m&2)!==0;if(b?(m=m&1|2,t.flags|=128):m&=1,$(at,m),pt(e,t,l,a),l=Te?Zl:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bh(e,a,t);else if(e.tag===19)Bh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&vs(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),Iu(t,!1,u,a,o,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&vs(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Iu(t,!0,a,null,o,l);break;case"together":Iu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function wa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Qa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(al(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=pa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=pa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Pu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ds(e)))}function Mg(e,t,a){switch(t.tag){case 3:ze(t,t.stateNode.containerInfo),qa(t,lt,e.memoizedState.cache),pn();break;case 27:case 5:Dt(t);break;case 4:ze(t,t.stateNode.containerInfo);break;case 10:qa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,wu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ka(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Lh(e,t,a):(Ka(t),e=wa(e,t,a),e!==null?e.sibling:null);Ka(t);break;case 19:var u=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(al(e,t,a,!1),l=(a&t.childLanes)!==0),u){if(l)return qh(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),$(at,at.current),l)break;return null;case 22:return t.lanes=0,Rh(e,t,a,t.pendingProps);case 24:qa(t,lt,e.memoizedState.cache)}return wa(e,t,a)}function Hh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!Pu(e,a)&&(t.flags&128)===0)return st=!1,Mg(e,t,a);st=(e.flags&131072)!==0}else st=!1,Te&&(t.flags&1048576)!==0&&bd(t,Zl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=xn(t.elementType),t.type=e,typeof e=="function")au(e)?(l=jn(e,l),t.tag=1,t=Uh(null,t,e,l,a)):(t.tag=0,t=Yu(null,t,e,l,a));else{if(e!=null){var u=e.$$typeof;if(u===Z){t.tag=11,t=Nh(null,t,e,l,a);break e}else if(u===Q){t.tag=14,t=Ah(null,t,e,l,a);break e}}throw t=te(e)||e,Error(r(306,t,""))}}return t;case 0:return Yu(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,u=jn(l,t.pendingProps),Uh(e,t,l,u,a);case 3:e:{if(ze(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var o=t.memoizedState;u=o.element,yu(e,t),ni(t,l,null,a);var m=t.memoizedState;if(l=m.cache,qa(t,lt,l),l!==o.cache&&du(t,[lt],a,!0),ai(),l=m.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Mh(e,t,l,a);break e}else if(l!==u){u=Jt(Error(r(424)),t),Il(u),t=Mh(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Ft(e.firstChild),mt=t,Te=!0,La=null,Pt=!0,a=Rd(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pn(),l===u){t=wa(e,t,a);break e}pt(e,t,l,a)}t=t.child}return t;case 26:return Os(e,t),e===null?(a=Wf(t.type,null,t.pendingProps,null))?t.memoizedState=a:Te||(a=t.type,e=t.pendingProps,l=Qs(ye.current).createElement(a),l[ft]=t,l[Tt]=e,yt(l,a,e),dt(l),t.stateNode=l):t.memoizedState=Wf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Dt(t),e===null&&Te&&(l=t.stateNode=Zf(t.type,t.pendingProps,ye.current),mt=t,Pt=!0,u=Ve,Wa(t.type)?(Ro=u,Ve=Ft(l.firstChild)):Ve=u),pt(e,t,t.pendingProps.children,a),Os(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Te&&((u=l=Ve)&&(l=hp(l,t.type,t.pendingProps,Pt),l!==null?(t.stateNode=l,mt=t,Ve=Ft(l.firstChild),Pt=!1,u=!0):u=!1),u||Ba(t)),Dt(t),u=t.type,o=t.pendingProps,m=e!==null?e.memoizedProps:null,l=o.children,ko(u,o)?l=null:m!==null&&ko(u,m)&&(t.flags|=32),t.memoizedState!==null&&(u=ju(e,t,Tg,null,null,a),Si._currentValue=u),Os(e,t),pt(e,t,l,a),t.child;case 6:return e===null&&Te&&((e=a=Ve)&&(a=fp(a,t.pendingProps,Pt),a!==null?(t.stateNode=a,mt=t,Ve=null,e=!0):e=!1),e||Ba(t)),null;case 13:return Lh(e,t,a);case 4:return ze(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=wn(t,null,l,a):pt(e,t,l,a),t.child;case 11:return Nh(e,t,t.type,t.pendingProps,a);case 7:return pt(e,t,t.pendingProps,a),t.child;case 8:return pt(e,t,t.pendingProps.children,a),t.child;case 12:return pt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,qa(t,t.type,l.value),pt(e,t,l.children,a),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,bn(t),u=gt(u),l=l(u),t.flags|=1,pt(e,t,l,a),t.child;case 14:return Ah(e,t,t.type,t.pendingProps,a);case 15:return Oh(e,t,t.type,t.pendingProps,a);case 19:return qh(e,t,a);case 31:return Ug(e,t,a);case 22:return Rh(e,t,a,t.pendingProps);case 24:return bn(t),l=gt(lt),e===null?(u=mu(),u===null&&(u=Ge,o=hu(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=a),u=o),t.memoizedState={parent:l,cache:u},pu(t),qa(t,lt,u)):((e.lanes&a)!==0&&(yu(e,t),ni(t,null,null,a),ai()),u=e.memoizedState,o=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),qa(t,lt,l)):(l=o.cache,qa(t,lt,l),l!==u.cache&&du(t,[lt],a,!0))),pt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Sa(e){e.flags|=4}function Wu(e,t,a,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(mf())e.flags|=8192;else throw _n=gs,gu}else e.flags&=-16777217}function $h(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!n0(t))if(mf())e.flags|=8192;else throw _n=gs,gu}function Cs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?kt():536870912,e.lanes|=t,ml|=t)}function oi(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Lg(e,t,a){var l=t.pendingProps;switch(su(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),va(lt),Ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(tl(t)?Sa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,uu())),Xe(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(Sa(t),o!==null?(Xe(t),$h(t,o)):(Xe(t),Wu(t,u,null,l,a))):o?o!==e.memoizedState?(Sa(t),Xe(t),$h(t,o)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Sa(t),Xe(t),Wu(t,u,e,l,a)),null;case 27:if(ra(t),a=ye.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sa(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}e=J.current,tl(t)?xd(t):(e=Zf(u,l,a),t.stateNode=e,Sa(t))}return Xe(t),null;case 5:if(ra(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sa(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}if(o=J.current,tl(t))xd(t);else{var m=Qs(ye.current);switch(o){case 1:o=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=m.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?o.multiple=!0:l.size&&(o.size=l.size);break;default:o=typeof l.is=="string"?m.createElement(u,{is:l.is}):m.createElement(u)}}o[ft]=t,o[Tt]=l;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=o;e:switch(yt(o,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Sa(t)}}return Xe(t),Wu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Sa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ye.current,tl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,u=mt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[ft]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Bf(e.nodeValue,a)),e||Ba(t,!0)}else e=Qs(e).createTextNode(l),e[ft]=t,t.stateNode=e}return Xe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=tl(t),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ft]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else a=uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(qt(t),t):(qt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Xe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=tl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ft]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),u=!1}else u=uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(qt(t),t):(qt(t),null)}return qt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==u&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Cs(t,t.updateQueue),Xe(t),null);case 4:return Ne(),e===null&&_o(t.stateNode.containerInfo),Xe(t),null;case 10:return va(t.type),Xe(t),null;case 19:if(j(at),l=t.memoizedState,l===null)return Xe(t),null;if(u=(t.flags&128)!==0,o=l.rendering,o===null)if(u)oi(l,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=vs(e),o!==null){for(t.flags|=128,oi(l,!1),e=o.updateQueue,t.updateQueue=e,Cs(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)gd(a,e),a=a.sibling;return $(at,at.current&1|2),Te&&ya(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&wt()>Ls&&(t.flags|=128,u=!0,oi(l,!1),t.lanes=4194304)}else{if(!u)if(e=vs(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Cs(t,e),oi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Te)return Xe(t),null}else 2*wt()-l.renderingStartTime>Ls&&a!==536870912&&(t.flags|=128,u=!0,oi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(e=l.last,e!==null?e.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=wt(),e.sibling=null,a=at.current,$(at,u?a&1|2:a&1),Te&&ya(t,l.treeForkCount),e):(Xe(t),null);case 22:case 23:return qt(t),_u(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),a=t.updateQueue,a!==null&&Cs(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&j(vn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),va(lt),Xe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Bg(e,t){switch(su(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return va(lt),Ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ra(t),null;case 31:if(t.memoizedState!==null){if(qt(t),t.alternate===null)throw Error(r(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return j(at),null;case 4:return Ne(),null;case 10:return va(t.type),null;case 22:case 23:return qt(t),_u(),e!==null&&j(vn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return va(lt),null;case 25:return null;default:return null}}function Gh(e,t){switch(su(t),t.tag){case 3:va(lt),Ne();break;case 26:case 27:case 5:ra(t);break;case 4:Ne();break;case 31:t.memoizedState!==null&&qt(t);break;case 13:qt(t);break;case 19:j(at);break;case 10:va(t.type);break;case 22:case 23:qt(t),_u(),e!==null&&j(vn);break;case 24:va(lt)}}function ci(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&e)===e){l=void 0;var o=a.create,m=a.inst;l=o(),m.destroy=l}a=a.next}while(a!==u)}}catch(b){Le(t,t.return,b)}}function Va(e,t,a){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var o=u.next;l=o;do{if((l.tag&e)===e){var m=l.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,u=t;var _=a,R=b;try{R()}catch(M){Le(u,_,M)}}}l=l.next}while(l!==o)}}catch(M){Le(t,t.return,M)}}function Kh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{zd(t,a)}catch(l){Le(e,e.return,l)}}}function Yh(e,t,a){a.props=jn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Le(e,t,l)}}function di(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(u){Le(e,t,u)}}function ca(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Le(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Le(e,t,u)}else a.current=null}function Vh(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Le(e,e.return,u)}}function Fu(e,t,a){try{var l=e.stateNode;sp(l,e.type,a,t),l[Tt]=t}catch(u){Le(e,e.return,u)}}function Xh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wa(e.type)||e.tag===4}function eo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function to(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ma));else if(l!==4&&(l===27&&Wa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(to(e,t,a),e=e.sibling;e!==null;)to(e,t,a),e=e.sibling}function zs(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Wa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(zs(e,t,a),e=e.sibling;e!==null;)zs(e,t,a),e=e.sibling}function Qh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);yt(t,l,a),t[ft]=e,t[Tt]=a}catch(o){Le(e,e.return,o)}}var ja=!1,rt=!1,ao=!1,Jh=typeof WeakSet=="function"?WeakSet:Set,ht=null;function qg(e,t){if(e=e.containerInfo,jo=er,e=sd(e),Zr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var m=0,b=-1,_=-1,R=0,M=0,q=e,C=null;t:for(;;){for(var U;q!==a||u!==0&&q.nodeType!==3||(b=m+u),q!==o||l!==0&&q.nodeType!==3||(_=m+l),q.nodeType===3&&(m+=q.nodeValue.length),(U=q.firstChild)!==null;)C=q,q=U;for(;;){if(q===e)break t;if(C===a&&++R===u&&(b=m),C===o&&++M===l&&(_=m),(U=q.nextSibling)!==null)break;q=C,C=q.parentNode}q=U}a=b===-1||_===-1?null:{start:b,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Eo={focusedElem:e,selectionRange:a},er=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,a=t,u=o.memoizedProps,o=o.memoizedState,l=a.stateNode;try{var F=jn(a.type,u);e=l.getSnapshotBeforeUpdate(F,o),l.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Le(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)No(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":No(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function Zh(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ka(e,a),l&4&&ci(5,a);break;case 1:if(ka(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Le(a,a.return,m)}else{var u=jn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Le(a,a.return,m)}}l&64&&Kh(a),l&512&&di(a,a.return);break;case 3:if(ka(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{zd(e,t)}catch(m){Le(a,a.return,m)}}break;case 27:t===null&&l&4&&Qh(a);case 26:case 5:ka(e,a),t===null&&l&4&&Vh(a),l&512&&di(a,a.return);break;case 12:ka(e,a);break;case 31:ka(e,a),l&4&&Wh(e,a);break;case 13:ka(e,a),l&4&&Fh(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Jg.bind(null,a),mp(e,a))));break;case 22:if(l=a.memoizedState!==null||ja,!l){t=t!==null&&t.memoizedState!==null||rt,u=ja;var o=rt;ja=l,(rt=t)&&!o?Ta(e,a,(a.subtreeFlags&8772)!==0):ka(e,a),ja=u,rt=o}break;case 30:break;default:ka(e,a)}}function Ih(e){var t=e.alternate;t!==null&&(e.alternate=null,Ih(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Cr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,At=!1;function Ea(e,t,a){for(a=a.child;a!==null;)Ph(e,t,a),a=a.sibling}function Ph(e,t,a){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(ge,a)}catch{}switch(a.tag){case 26:rt||ca(a,t),Ea(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||ca(a,t);var l=Je,u=At;Wa(a.type)&&(Je=a.stateNode,At=!1),Ea(e,t,a),xi(a.stateNode),Je=l,At=u;break;case 5:rt||ca(a,t);case 6:if(l=Je,u=At,Je=null,Ea(e,t,a),Je=l,At=u,Je!==null)if(At)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(a.stateNode)}catch(o){Le(a,t,o)}else try{Je.removeChild(a.stateNode)}catch(o){Le(a,t,o)}break;case 18:Je!==null&&(At?(e=Je,Yf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),wl(e)):Yf(Je,a.stateNode));break;case 4:l=Je,u=At,Je=a.stateNode.containerInfo,At=!0,Ea(e,t,a),Je=l,At=u;break;case 0:case 11:case 14:case 15:Va(2,a,t),rt||Va(4,a,t),Ea(e,t,a);break;case 1:rt||(ca(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yh(a,t,l)),Ea(e,t,a);break;case 21:Ea(e,t,a);break;case 22:rt=(l=rt)||a.memoizedState!==null,Ea(e,t,a),rt=l;break;default:Ea(e,t,a)}}function Wh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wl(e)}catch(a){Le(t,t.return,a)}}}function Fh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wl(e)}catch(a){Le(t,t.return,a)}}function Hg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jh),t;default:throw Error(r(435,e.tag))}}function Ds(e,t){var a=Hg(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var u=Zg.bind(null,e,l);l.then(u,u)}})}function Ot(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],o=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(Wa(b.type)){Je=b.stateNode,At=!1;break e}break;case 5:Je=b.stateNode,At=!1;break e;case 3:case 4:Je=b.stateNode.containerInfo,At=!0;break e}b=b.return}if(Je===null)throw Error(r(160));Ph(o,m,u),Je=null,At=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ef(t,e),t=t.sibling}var aa=null;function ef(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(t,e),Rt(e),l&4&&(Va(3,e,e.return),ci(3,e),Va(5,e,e.return));break;case 1:Ot(t,e),Rt(e),l&512&&(rt||a===null||ca(a,a.return)),l&64&&ja&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=aa;if(Ot(t,e),Rt(e),l&512&&(rt||a===null||ca(a,a.return)),l&4){var o=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":o=u.getElementsByTagName("title")[0],(!o||o[Bl]||o[ft]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(l),u.head.insertBefore(o,u.querySelector("head > title"))),yt(o,l,a),o[ft]=e,dt(o),l=o;break e;case"link":var m=t0("link","href",u).get(l+(a.href||""));if(m){for(var b=0;b<m.length;b++)if(o=m[b],o.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&o.getAttribute("rel")===(a.rel==null?null:a.rel)&&o.getAttribute("title")===(a.title==null?null:a.title)&&o.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(b,1);break t}}o=u.createElement(l),yt(o,l,a),u.head.appendChild(o);break;case"meta":if(m=t0("meta","content",u).get(l+(a.content||""))){for(b=0;b<m.length;b++)if(o=m[b],o.getAttribute("content")===(a.content==null?null:""+a.content)&&o.getAttribute("name")===(a.name==null?null:a.name)&&o.getAttribute("property")===(a.property==null?null:a.property)&&o.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&o.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(b,1);break t}}o=u.createElement(l),yt(o,l,a),u.head.appendChild(o);break;default:throw Error(r(468,l))}o[ft]=e,dt(o),l=o}e.stateNode=l}else a0(u,e.type,e.stateNode);else e.stateNode=e0(u,l,e.memoizedProps);else o!==l?(o===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):o.count--,l===null?a0(u,e.type,e.stateNode):e0(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Fu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ot(t,e),Rt(e),l&512&&(rt||a===null||ca(a,a.return)),a!==null&&l&4&&Fu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ot(t,e),Rt(e),l&512&&(rt||a===null||ca(a,a.return)),e.flags&32){u=e.stateNode;try{Vn(u,"")}catch(F){Le(e,e.return,F)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,Fu(e,u,a!==null?a.memoizedProps:u)),l&1024&&(ao=!0);break;case 6:if(Ot(t,e),Rt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(F){Le(e,e.return,F)}}break;case 3:if(Is=null,u=aa,aa=Js(t.containerInfo),Ot(t,e),aa=u,Rt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wl(t.containerInfo)}catch(F){Le(e,e.return,F)}ao&&(ao=!1,tf(e));break;case 4:l=aa,aa=Js(e.stateNode.containerInfo),Ot(t,e),Rt(e),aa=l;break;case 12:Ot(t,e),Rt(e);break;case 31:Ot(t,e),Rt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ds(e,l)));break;case 13:Ot(t,e),Rt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ms=wt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ds(e,l)));break;case 22:u=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,R=ja,M=rt;if(ja=R||u,rt=M||_,Ot(t,e),rt=M,ja=R,Rt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||_||ja||rt||En(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(o=_.stateNode,u)m=o.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=_.stateNode;var q=_.memoizedProps.style,C=q!=null&&q.hasOwnProperty("display")?q.display:null;b.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(F){Le(_,_.return,F)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=u?"":_.memoizedProps}catch(F){Le(_,_.return,F)}}}else if(t.tag===18){if(a===null){_=t;try{var U=_.stateNode;u?Vf(U,!0):Vf(_.stateNode,!1)}catch(F){Le(_,_.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ds(e,a))));break;case 19:Ot(t,e),Rt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ds(e,l)));break;case 30:break;case 21:break;default:Ot(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Xh(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,o=eo(e);zs(e,o,u);break;case 5:var m=a.stateNode;a.flags&32&&(Vn(m,""),a.flags&=-33);var b=eo(e);zs(e,b,m);break;case 3:case 4:var _=a.stateNode.containerInfo,R=eo(e);to(e,R,_);break;default:throw Error(r(161))}}catch(M){Le(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;tf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ka(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zh(e,t.alternate,t),t=t.sibling}function En(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Va(4,t,t.return),En(t);break;case 1:ca(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Yh(t,t.return,a),En(t);break;case 27:xi(t.stateNode);case 26:case 5:ca(t,t.return),En(t);break;case 22:t.memoizedState===null&&En(t);break;case 30:En(t);break;default:En(t)}e=e.sibling}}function Ta(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,o=t,m=o.flags;switch(o.tag){case 0:case 11:case 15:Ta(u,o,a),ci(4,o);break;case 1:if(Ta(u,o,a),l=o,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){Le(l,l.return,R)}if(l=o,u=l.updateQueue,u!==null){var b=l.stateNode;try{var _=u.shared.hiddenCallbacks;if(_!==null)for(u.shared.hiddenCallbacks=null,u=0;u<_.length;u++)Cd(_[u],b)}catch(R){Le(l,l.return,R)}}a&&m&64&&Kh(o),di(o,o.return);break;case 27:Qh(o);case 26:case 5:Ta(u,o,a),a&&l===null&&m&4&&Vh(o),di(o,o.return);break;case 12:Ta(u,o,a);break;case 31:Ta(u,o,a),a&&m&4&&Wh(u,o);break;case 13:Ta(u,o,a),a&&m&4&&Fh(u,o);break;case 22:o.memoizedState===null&&Ta(u,o,a),di(o,o.return);break;case 30:break;default:Ta(u,o,a)}t=t.sibling}}function no(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Pl(a))}function lo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pl(e))}function na(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)af(e,t,a,l),t=t.sibling}function af(e,t,a,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:na(e,t,a,l),u&2048&&ci(9,t);break;case 1:na(e,t,a,l);break;case 3:na(e,t,a,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pl(e)));break;case 12:if(u&2048){na(e,t,a,l),e=t.stateNode;try{var o=t.memoizedProps,m=o.id,b=o.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Le(t,t.return,_)}}else na(e,t,a,l);break;case 31:na(e,t,a,l);break;case 13:na(e,t,a,l);break;case 23:break;case 22:o=t.stateNode,m=t.alternate,t.memoizedState!==null?o._visibility&2?na(e,t,a,l):hi(e,t):o._visibility&2?na(e,t,a,l):(o._visibility|=2,dl(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&no(m,t);break;case 24:na(e,t,a,l),u&2048&&lo(t.alternate,t);break;default:na(e,t,a,l)}}function dl(e,t,a,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,m=t,b=a,_=l,R=m.flags;switch(m.tag){case 0:case 11:case 15:dl(o,m,b,_,u),ci(8,m);break;case 23:break;case 22:var M=m.stateNode;m.memoizedState!==null?M._visibility&2?dl(o,m,b,_,u):hi(o,m):(M._visibility|=2,dl(o,m,b,_,u)),u&&R&2048&&no(m.alternate,m);break;case 24:dl(o,m,b,_,u),u&&R&2048&&lo(m.alternate,m);break;default:dl(o,m,b,_,u)}t=t.sibling}}function hi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,u=l.flags;switch(l.tag){case 22:hi(a,l),u&2048&&no(l.alternate,l);break;case 24:hi(a,l),u&2048&&lo(l.alternate,l);break;default:hi(a,l)}t=t.sibling}}var fi=8192;function hl(e,t,a){if(e.subtreeFlags&fi)for(e=e.child;e!==null;)nf(e,t,a),e=e.sibling}function nf(e,t,a){switch(e.tag){case 26:hl(e,t,a),e.flags&fi&&e.memoizedState!==null&&kp(a,aa,e.memoizedState,e.memoizedProps);break;case 5:hl(e,t,a);break;case 3:case 4:var l=aa;aa=Js(e.stateNode.containerInfo),hl(e,t,a),aa=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=fi,fi=16777216,hl(e,t,a),fi=l):hl(e,t,a));break;default:hl(e,t,a)}}function lf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function mi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ht=l,rf(l,e)}lf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sf(e),e=e.sibling}function sf(e){switch(e.tag){case 0:case 11:case 15:mi(e),e.flags&2048&&Va(9,e,e.return);break;case 3:mi(e);break;case 12:mi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Us(e)):mi(e);break;default:mi(e)}}function Us(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ht=l,rf(l,e)}lf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Va(8,t,t.return),Us(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Us(t));break;default:Us(t)}e=e.sibling}}function rf(e,t){for(;ht!==null;){var a=ht;switch(a.tag){case 0:case 11:case 15:Va(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ht=l;else e:for(a=e;ht!==null;){l=ht;var u=l.sibling,o=l.return;if(Ih(l),l===a){ht=null;break e}if(u!==null){u.return=o,ht=u;break e}ht=o}}}var $g={getCacheForType:function(e){var t=gt(lt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return gt(lt).controller.signal}},Gg=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Ge=null,Se=null,Ee=0,Me=0,Ht=null,Xa=!1,fl=!1,io=!1,Na=0,Fe=0,Qa=0,kn=0,so=0,$t=0,ml=0,gi=null,Ct=null,ro=!1,Ms=0,uf=0,Ls=1/0,Bs=null,Ja=null,ot=0,Za=null,gl=null,Aa=0,uo=0,oo=null,of=null,pi=0,co=null;function Gt(){return(Ce&2)!==0&&Ee!==0?Ee&-Ee:D.T!==null?yo():jc()}function cf(){if($t===0)if((Ee&536870912)===0||Te){var e=on;on<<=1,(on&3932160)===0&&(on=262144),$t=e}else $t=536870912;return e=Bt.current,e!==null&&(e.flags|=32),$t}function zt(e,t,a){(e===Ge&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(pl(e,0),Ia(e,Ee,$t,!1)),Ll(e,a),((Ce&2)===0||e!==Ge)&&(e===Ge&&((Ce&2)===0&&(kn|=a),Fe===4&&Ia(e,Ee,$t,!1)),da(e))}function df(e,t,a){if((Ce&6)!==0)throw Error(r(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ue(e,t),u=l?Vg(e,t):fo(e,t,!0),o=l;do{if(u===0){fl&&!l&&Ia(e,t,0,!1);break}else{if(a=e.current.alternate,o&&!Kg(a)){u=fo(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;u=gi;var _=b.current.memoizedState.isDehydrated;if(_&&(pl(b,m).flags|=256),m=fo(b,m,!1),m!==2){if(io&&!_){b.errorRecoveryDisabledLanes|=o,kn|=o,u=4;break e}o=Ct,Ct=u,o!==null&&(Ct===null?Ct=o:Ct.push.apply(Ct,o))}u=m}if(o=!1,u!==2)continue}}if(u===1){pl(e,0),Ia(e,t,0,!0);break}e:{switch(l=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ia(l,t,$t,!Xa);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=Ms+300-wt(),10<u)){if(Ia(l,t,$t,!Xa),De(l,0,!0)!==0)break e;Aa=t,l.timeoutHandle=Gf(hf.bind(null,l,a,Ct,Bs,ro,t,$t,kn,ml,Xa,o,"Throttled",-0,0),u);break e}hf(l,a,Ct,Bs,ro,t,$t,kn,ml,Xa,o,null,-0,0)}}break}while(!0);da(e)}function hf(e,t,a,l,u,o,m,b,_,R,M,q,C,U){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ma},nf(t,o,q);var F=(o&62914560)===o?Ms-wt():(o&4194048)===o?uf-wt():0;if(F=Tp(q,F),F!==null){Aa=o,e.cancelPendingCommit=F(xf.bind(null,e,t,o,a,l,u,m,b,_,M,q,null,C,U)),Ia(e,o,m,!R);return}}xf(e,t,o,a,l,u,m,b,_)}function Kg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],o=u.getSnapshot;u=u.value;try{if(!Mt(o(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ia(e,t,a,l){t&=~so,t&=~kn,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var o=31-Ye(u),m=1<<o;l[o]=-1,u&=~m}a!==0&&_c(e,a,t)}function qs(){return(Ce&6)===0?(yi(0),!1):!0}function ho(){if(Se!==null){if(Me===0)var e=Se.return;else e=Se,ba=yn=null,Tu(e),sl=null,Fl=0,e=Se;for(;e!==null;)Gh(e.alternate,e),e=e.return;Se=null}}function pl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,op(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Aa=0,ho(),Ge=e,Se=a=pa(e.current,null),Ee=t,Me=0,Ht=null,Xa=!1,fl=Ue(e,t),io=!1,ml=$t=so=kn=Qa=Fe=0,Ct=gi=null,ro=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Ye(l),o=1<<u;t|=e[u],l&=~o}return Na=t,ss(),a}function ff(e,t){ve=null,D.H=ri,t===il||t===ms?(t=Nd(),Me=3):t===gu?(t=Nd(),Me=4):Me=t===Ku?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,Se===null&&(Fe=1,Ns(e,Jt(t,e.current)))}function mf(){var e=Bt.current;return e===null?!0:(Ee&4194048)===Ee?Wt===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Wt:!1}function gf(){var e=D.H;return D.H=ri,e===null?ri:e}function pf(){var e=D.A;return D.A=$g,e}function Hs(){Fe=4,Xa||(Ee&4194048)!==Ee&&Bt.current!==null||(fl=!0),(Qa&134217727)===0&&(kn&134217727)===0||Ge===null||Ia(Ge,Ee,$t,!1)}function fo(e,t,a){var l=Ce;Ce|=2;var u=gf(),o=pf();(Ge!==e||Ee!==t)&&(Bs=null,pl(e,t)),t=!1;var m=Fe;e:do try{if(Me!==0&&Se!==null){var b=Se,_=Ht;switch(Me){case 8:ho(),m=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(t=!0);var R=Me;if(Me=0,Ht=null,yl(e,b,_,R),a&&fl){m=0;break e}break;default:R=Me,Me=0,Ht=null,yl(e,b,_,R)}}Yg(),m=Fe;break}catch(M){ff(e,M)}while(!0);return t&&e.shellSuspendCounter++,ba=yn=null,Ce=l,D.H=u,D.A=o,Se===null&&(Ge=null,Ee=0,ss()),m}function Yg(){for(;Se!==null;)yf(Se)}function Vg(e,t){var a=Ce;Ce|=2;var l=gf(),u=pf();Ge!==e||Ee!==t?(Bs=null,Ls=wt()+500,pl(e,t)):fl=Ue(e,t);e:do try{if(Me!==0&&Se!==null){t=Se;var o=Ht;t:switch(Me){case 1:Me=0,Ht=null,yl(e,t,o,1);break;case 2:case 9:if(kd(o)){Me=0,Ht=null,bf(t);break}t=function(){Me!==2&&Me!==9||Ge!==e||(Me=7),da(e)},o.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:kd(o)?(Me=0,Ht=null,bf(t)):(Me=0,Ht=null,yl(e,t,o,7));break;case 5:var m=null;switch(Se.tag){case 26:m=Se.memoizedState;case 5:case 27:var b=Se;if(m?n0(m):b.stateNode.complete){Me=0,Ht=null;var _=b.sibling;if(_!==null)Se=_;else{var R=b.return;R!==null?(Se=R,$s(R)):Se=null}break t}}Me=0,Ht=null,yl(e,t,o,5);break;case 6:Me=0,Ht=null,yl(e,t,o,6);break;case 8:ho(),Fe=6;break e;default:throw Error(r(462))}}Xg();break}catch(M){ff(e,M)}while(!0);return ba=yn=null,D.H=l,D.A=u,Ce=a,Se!==null?0:(Ge=null,Ee=0,ss(),Fe)}function Xg(){for(;Se!==null&&!Vi();)yf(Se)}function yf(e){var t=Hh(e.alternate,e,Na);e.memoizedProps=e.pendingProps,t===null?$s(e):Se=t}function bf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Dh(a,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Dh(a,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Tu(t);default:Gh(a,t),t=Se=gd(t,Na),t=Hh(a,t,Na)}e.memoizedProps=e.pendingProps,t===null?$s(e):Se=t}function yl(e,t,a,l){ba=yn=null,Tu(t),sl=null,Fl=0;var u=t.return;try{if(Dg(e,u,t,a,Ee)){Fe=1,Ns(e,Jt(a,e.current)),Se=null;return}}catch(o){if(u!==null)throw Se=u,o;Fe=1,Ns(e,Jt(a,e.current)),Se=null;return}t.flags&32768?(Te||l===1?e=!0:fl||(Ee&536870912)!==0?e=!1:(Xa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),vf(t,e)):$s(t)}function $s(e){var t=e;do{if((t.flags&32768)!==0){vf(t,Xa);return}e=t.return;var a=Lg(t.alternate,t,Na);if(a!==null){Se=a;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Fe===0&&(Fe=5)}function vf(e,t){do{var a=Bg(e.alternate,e);if(a!==null){a.flags&=32767,Se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=a}while(e!==null);Fe=6,Se=null}function xf(e,t,a,l,u,o,m,b,_){e.cancelPendingCommit=null;do Gs();while(ot!==0);if((Ce&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=eu,Em(e,a,o,m,b,_),e===Ge&&(Se=Ge=null,Ee=0),gl=t,Za=e,Aa=a,uo=o,oo=u,of=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ig(un,function(){return Ef(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,u=G.p,G.p=2,m=Ce,Ce|=4;try{qg(e,t,a)}finally{Ce=m,G.p=u,D.T=l}}ot=1,_f(),wf(),Sf()}}function _f(){if(ot===1){ot=0;var e=Za,t=gl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var l=G.p;G.p=2;var u=Ce;Ce|=4;try{ef(t,e);var o=Eo,m=sd(e.containerInfo),b=o.focusedElem,_=o.selectionRange;if(m!==b&&b&&b.ownerDocument&&id(b.ownerDocument.documentElement,b)){if(_!==null&&Zr(b)){var R=_.start,M=_.end;if(M===void 0&&(M=R),"selectionStart"in b)b.selectionStart=R,b.selectionEnd=Math.min(M,b.value.length);else{var q=b.ownerDocument||document,C=q&&q.defaultView||window;if(C.getSelection){var U=C.getSelection(),F=b.textContent.length,oe=Math.min(_.start,F),He=_.end===void 0?oe:Math.min(_.end,F);!U.extend&&oe>He&&(m=He,He=oe,oe=m);var T=ld(b,oe),E=ld(b,He);if(T&&E&&(U.rangeCount!==1||U.anchorNode!==T.node||U.anchorOffset!==T.offset||U.focusNode!==E.node||U.focusOffset!==E.offset)){var A=q.createRange();A.setStart(T.node,T.offset),U.removeAllRanges(),oe>He?(U.addRange(A),U.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),U.addRange(A))}}}}for(q=[],U=b;U=U.parentNode;)U.nodeType===1&&q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<q.length;b++){var B=q[b];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}er=!!jo,Eo=jo=null}finally{Ce=u,G.p=l,D.T=a}}e.current=t,ot=2}}function wf(){if(ot===2){ot=0;var e=Za,t=gl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var l=G.p;G.p=2;var u=Ce;Ce|=4;try{Zh(e,t.alternate,t)}finally{Ce=u,G.p=l,D.T=a}}ot=3}}function Sf(){if(ot===4||ot===3){ot=0,jr();var e=Za,t=gl,a=Aa,l=of;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ot=5:(ot=0,gl=Za=null,jf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Ja=null),Or(a),t=t.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(ge,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=D.T,u=G.p,G.p=2,D.T=null;try{for(var o=e.onRecoverableError,m=0;m<l.length;m++){var b=l[m];o(b.value,{componentStack:b.stack})}}finally{D.T=t,G.p=u}}(Aa&3)!==0&&Gs(),da(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===co?pi++:(pi=0,co=e):pi=0,yi(0)}}function jf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Pl(t)))}function Gs(){return _f(),wf(),Sf(),Ef()}function Ef(){if(ot!==5)return!1;var e=Za,t=uo;uo=0;var a=Or(Aa),l=D.T,u=G.p;try{G.p=32>a?32:a,D.T=null,a=oo,oo=null;var o=Za,m=Aa;if(ot=0,gl=Za=null,Aa=0,(Ce&6)!==0)throw Error(r(331));var b=Ce;if(Ce|=4,sf(o.current),af(o,o.current,m,a),Ce=b,yi(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(ge,o)}catch{}return!0}finally{G.p=u,D.T=l,jf(e,t)}}function kf(e,t,a){t=Jt(a,t),t=Gu(e.stateNode,t,2),e=Ga(e,t,2),e!==null&&(Ll(e,2),da(e))}function Le(e,t,a){if(e.tag===3)kf(e,e,a);else for(;t!==null;){if(t.tag===3){kf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ja===null||!Ja.has(l))){e=Jt(a,e),a=kh(2),l=Ga(t,a,2),l!==null&&(Th(a,l,t,e),Ll(l,2),da(l));break}}t=t.return}}function mo(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Gg;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(a)||(io=!0,u.add(a),e=Qg.bind(null,e,t,a),t.then(e,e))}function Qg(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ge===e&&(Ee&a)===a&&(Fe===4||Fe===3&&(Ee&62914560)===Ee&&300>wt()-Ms?(Ce&2)===0&&pl(e,0):so|=a,ml===Ee&&(ml=0)),da(e)}function Tf(e,t){t===0&&(t=kt()),e=mn(e,t),e!==null&&(Ll(e,t),da(e))}function Jg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Tf(e,a)}function Zg(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Tf(e,a)}function Ig(e,t){return Ln(e,t)}var Ks=null,bl=null,go=!1,Ys=!1,po=!1,Pa=0;function da(e){e!==bl&&e.next===null&&(bl===null?Ks=bl=e:bl=bl.next=e),Ys=!0,go||(go=!0,Wg())}function yi(e,t){if(!po&&Ys){po=!0;do for(var a=!1,l=Ks;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var o=0;else{var m=l.suspendedLanes,b=l.pingedLanes;o=(1<<31-Ye(42|e)+1)-1,o&=u&~(m&~b),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(a=!0,Rf(l,o))}else o=Ee,o=De(l,l===Ge?o:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(o&3)===0||Ue(l,o)||(a=!0,Rf(l,o));l=l.next}while(a);po=!1}}function Pg(){Nf()}function Nf(){Ys=go=!1;var e=0;Pa!==0&&up()&&(e=Pa);for(var t=wt(),a=null,l=Ks;l!==null;){var u=l.next,o=Af(l,t);o===0?(l.next=null,a===null?Ks=u:a.next=u,u===null&&(bl=a)):(a=l,(e!==0||(o&3)!==0)&&(Ys=!0)),l=u}ot!==0&&ot!==5||yi(e),Pa!==0&&(Pa=0)}function Af(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var m=31-Ye(o),b=1<<m,_=u[m];_===-1?((b&a)===0||(b&l)!==0)&&(u[m]=Ie(b,t)):_<=t&&(e.expiredLanes|=b),o&=~b}if(t=Ge,a=Ee,a=De(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ut(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ue(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Ut(l),Or(a)){case 2:case 8:a=Qi;break;case 32:a=un;break;case 268435456:a=Ml;break;default:a=un}return l=Of.bind(null,e),a=Ln(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Ut(l),e.callbackPriority=2,e.callbackNode=null,2}function Of(e,t){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Gs()&&e.callbackNode!==a)return null;var l=Ee;return l=De(e,e===Ge?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(df(e,l,t),Af(e,wt()),e.callbackNode!=null&&e.callbackNode===a?Of.bind(null,e):null)}function Rf(e,t){if(Gs())return null;df(e,t,!0)}function Wg(){cp(function(){(Ce&6)!==0?Ln(Xi,Pg):Nf()})}function yo(){if(Pa===0){var e=nl;e===0&&(e=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),Pa=e}return Pa}function Cf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wi(""+e)}function zf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Fg(e,t,a,l,u){if(t==="submit"&&a&&a.stateNode===u){var o=Cf((u[Tt]||null).action),m=l.submitter;m&&(t=(t=m[Tt]||null)?Cf(t.formAction):m.getAttribute("formAction"),t!==null&&(o=t,m=null));var b=new as("action","action",null,l,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pa!==0){var _=m?zf(u,m):new FormData(u);Mu(a,{pending:!0,data:_,method:u.method,action:o},null,_)}}else typeof o=="function"&&(b.preventDefault(),_=m?zf(u,m):new FormData(u),Mu(a,{pending:!0,data:_,method:u.method,action:o},o,_))},currentTarget:u}]})}}for(var bo=0;bo<Fr.length;bo++){var vo=Fr[bo],ep=vo.toLowerCase(),tp=vo[0].toUpperCase()+vo.slice(1);ta(ep,"on"+tp)}ta(od,"onAnimationEnd"),ta(cd,"onAnimationIteration"),ta(dd,"onAnimationStart"),ta("dblclick","onDoubleClick"),ta("focusin","onFocus"),ta("focusout","onBlur"),ta(yg,"onTransitionRun"),ta(bg,"onTransitionStart"),ta(vg,"onTransitionCancel"),ta(hd,"onTransitionEnd"),Kn("onMouseEnter",["mouseout","mouseover"]),Kn("onMouseLeave",["mouseout","mouseover"]),Kn("onPointerEnter",["pointerout","pointerover"]),Kn("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ap=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bi));function Df(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],u=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var m=l.length-1;0<=m;m--){var b=l[m],_=b.instance,R=b.currentTarget;if(b=b.listener,_!==o&&u.isPropagationStopped())break e;o=b,u.currentTarget=R;try{o(u)}catch(M){is(M)}u.currentTarget=null,o=_}else for(m=0;m<l.length;m++){if(b=l[m],_=b.instance,R=b.currentTarget,b=b.listener,_!==o&&u.isPropagationStopped())break e;o=b,u.currentTarget=R;try{o(u)}catch(M){is(M)}u.currentTarget=null,o=_}}}}function je(e,t){var a=t[Rr];a===void 0&&(a=t[Rr]=new Set);var l=e+"__bubble";a.has(l)||(Uf(t,e,2,!1),a.add(l))}function xo(e,t,a){var l=0;t&&(l|=4),Uf(a,e,l,t)}var Vs="_reactListening"+Math.random().toString(36).slice(2);function _o(e){if(!e[Vs]){e[Vs]=!0,Tc.forEach(function(a){a!=="selectionchange"&&(ap.has(a)||xo(a,!1,e),xo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vs]||(t[Vs]=!0,xo("selectionchange",!1,t))}}function Uf(e,t,a,l){switch(c0(t)){case 2:var u=Op;break;case 8:u=Rp;break;default:u=Mo}a=u.bind(null,t,a,e),u=void 0,!Hr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function wo(e,t,a,l,u){var o=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var b=l.stateNode.containerInfo;if(b===u)break;if(m===4)for(m=l.return;m!==null;){var _=m.tag;if((_===3||_===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;b!==null;){if(m=Hn(b),m===null)return;if(_=m.tag,_===5||_===6||_===26||_===27){l=o=m;continue e}b=b.parentNode}}l=l.return}qc(function(){var R=o,M=Br(a),q=[];e:{var C=fd.get(e);if(C!==void 0){var U=as,F=e;switch(e){case"keypress":if(es(a)===0)break e;case"keydown":case"keyup":U=Zm;break;case"focusin":F="focus",U=Yr;break;case"focusout":F="blur",U=Yr;break;case"beforeblur":case"afterblur":U=Yr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Wm;break;case od:case cd:case dd:U=Hm;break;case hd:U=eg;break;case"scroll":case"scrollend":U=Um;break;case"wheel":U=ag;break;case"copy":case"cut":case"paste":U=Gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Yc;break;case"toggle":case"beforetoggle":U=lg}var oe=(t&4)!==0,He=!oe&&(e==="scroll"||e==="scrollend"),T=oe?C!==null?C+"Capture":null:C;oe=[];for(var E=R,A;E!==null;){var B=E;if(A=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||A===null||T===null||(B=Hl(E,T),B!=null&&oe.push(vi(E,B,A))),He)break;E=E.return}0<oe.length&&(C=new U(C,F,null,a,M),q.push({event:C,listeners:oe}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",C&&a!==Lr&&(F=a.relatedTarget||a.fromElement)&&(Hn(F)||F[qn]))break e;if((U||C)&&(C=M.window===M?M:(C=M.ownerDocument)?C.defaultView||C.parentWindow:window,U?(F=a.relatedTarget||a.toElement,U=R,F=F?Hn(F):null,F!==null&&(He=h(F),oe=F.tag,F!==He||oe!==5&&oe!==27&&oe!==6)&&(F=null)):(U=null,F=R),U!==F)){if(oe=Gc,B="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Yc,B="onPointerLeave",T="onPointerEnter",E="pointer"),He=U==null?C:ql(U),A=F==null?C:ql(F),C=new oe(B,E+"leave",U,a,M),C.target=He,C.relatedTarget=A,B=null,Hn(M)===R&&(oe=new oe(T,E+"enter",F,a,M),oe.target=A,oe.relatedTarget=He,B=oe),He=B,U&&F)t:{for(oe=np,T=U,E=F,A=0,B=T;B;B=oe(B))A++;B=0;for(var ie=E;ie;ie=oe(ie))B++;for(;0<A-B;)T=oe(T),A--;for(;0<B-A;)E=oe(E),B--;for(;A--;){if(T===E||E!==null&&T===E.alternate){oe=T;break t}T=oe(T),E=oe(E)}oe=null}else oe=null;U!==null&&Mf(q,C,U,oe,!1),F!==null&&He!==null&&Mf(q,He,F,oe,!0)}}e:{if(C=R?ql(R):window,U=C.nodeName&&C.nodeName.toLowerCase(),U==="select"||U==="input"&&C.type==="file")var Oe=Wc;else if(Ic(C))if(Fc)Oe=mg;else{Oe=hg;var ne=dg}else U=C.nodeName,!U||U.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?R&&Mr(R.elementType)&&(Oe=Wc):Oe=fg;if(Oe&&(Oe=Oe(e,R))){Pc(q,Oe,a,M);break e}ne&&ne(e,C,R),e==="focusout"&&R&&C.type==="number"&&R.memoizedProps.value!=null&&Ur(C,"number",C.value)}switch(ne=R?ql(R):window,e){case"focusin":(Ic(ne)||ne.contentEditable==="true")&&(Zn=ne,Ir=R,Jl=null);break;case"focusout":Jl=Ir=Zn=null;break;case"mousedown":Pr=!0;break;case"contextmenu":case"mouseup":case"dragend":Pr=!1,rd(q,a,M);break;case"selectionchange":if(pg)break;case"keydown":case"keyup":rd(q,a,M)}var xe;if(Xr)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Jn?Jc(e,a)&&(ke="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Vc&&a.locale!=="ko"&&(Jn||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Jn&&(xe=Hc()):(Ua=M,$r="value"in Ua?Ua.value:Ua.textContent,Jn=!0)),ne=Xs(R,ke),0<ne.length&&(ke=new Kc(ke,e,null,a,M),q.push({event:ke,listeners:ne}),xe?ke.data=xe:(xe=Zc(a),xe!==null&&(ke.data=xe)))),(xe=sg?rg(e,a):ug(e,a))&&(ke=Xs(R,"onBeforeInput"),0<ke.length&&(ne=new Kc("onBeforeInput","beforeinput",null,a,M),q.push({event:ne,listeners:ke}),ne.data=xe)),Fg(q,e,R,a,M)}Df(q,t)})}function vi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Xs(e,t){for(var a=t+"Capture",l=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=Hl(e,a),u!=null&&l.unshift(vi(e,u,o)),u=Hl(e,t),u!=null&&l.push(vi(e,u,o))),e.tag===3)return l;e=e.return}return[]}function np(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mf(e,t,a,l,u){for(var o=t._reactName,m=[];a!==null&&a!==l;){var b=a,_=b.alternate,R=b.stateNode;if(b=b.tag,_!==null&&_===l)break;b!==5&&b!==26&&b!==27||R===null||(_=R,u?(R=Hl(a,o),R!=null&&m.unshift(vi(a,R,_))):u||(R=Hl(a,o),R!=null&&m.push(vi(a,R,_)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var lp=/\r\n?/g,ip=/\u0000|\uFFFD/g;function Lf(e){return(typeof e=="string"?e:""+e).replace(lp,`
`).replace(ip,"")}function Bf(e,t){return t=Lf(t),Lf(e)===t}function qe(e,t,a,l,u,o){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Vn(e,""+l);break;case"className":Ii(e,"class",l);break;case"tabIndex":Ii(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ii(e,a,l);break;case"style":Lc(e,l,o);break;case"data":if(t!=="object"){Ii(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Wi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(a==="formAction"?(t!=="input"&&qe(e,t,"name",u.name,u,null),qe(e,t,"formEncType",u.formEncType,u,null),qe(e,t,"formMethod",u.formMethod,u,null),qe(e,t,"formTarget",u.formTarget,u,null)):(qe(e,t,"encType",u.encType,u,null),qe(e,t,"method",u.method,u,null),qe(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Wi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ma);break;case"onScroll":l!=null&&je("scroll",e);break;case"onScrollEnd":l!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Wi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":je("beforetoggle",e),je("toggle",e),Zi(e,"popover",l);break;case"xlinkActuate":fa(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":fa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":fa(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":fa(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":fa(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":fa(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":fa(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":fa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":fa(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Zi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zm.get(a)||a,Zi(e,a,l))}}function So(e,t,a,l,u,o){switch(a){case"style":Lc(e,l,o);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&Vn(e,""+l);break;case"onScroll":l!=null&&je("scroll",e);break;case"onScrollEnd":l!=null&&je("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),o=e[Tt]||null,o=o!=null?o[a]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof l=="function")){typeof o!="function"&&o!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,u);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Zi(e,a,l)}}}function yt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var l=!1,u=!1,o;for(o in a)if(a.hasOwnProperty(o)){var m=a[o];if(m!=null)switch(o){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:qe(e,t,o,m,a,null)}}u&&qe(e,t,"srcSet",a.srcSet,a,null),l&&qe(e,t,"src",a.src,a,null);return;case"input":je("invalid",e);var b=o=m=u=null,_=null,R=null;for(l in a)if(a.hasOwnProperty(l)){var M=a[l];if(M!=null)switch(l){case"name":u=M;break;case"type":m=M;break;case"checked":_=M;break;case"defaultChecked":R=M;break;case"value":o=M;break;case"defaultValue":b=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:qe(e,t,l,M,a,null)}}zc(e,o,b,_,R,m,u,!1);return;case"select":je("invalid",e),l=m=o=null;for(u in a)if(a.hasOwnProperty(u)&&(b=a[u],b!=null))switch(u){case"value":o=b;break;case"defaultValue":m=b;break;case"multiple":l=b;default:qe(e,t,u,b,a,null)}t=o,a=m,e.multiple=!!l,t!=null?Yn(e,!!l,t,!1):a!=null&&Yn(e,!!l,a,!0);return;case"textarea":je("invalid",e),o=u=l=null;for(m in a)if(a.hasOwnProperty(m)&&(b=a[m],b!=null))switch(m){case"value":l=b;break;case"defaultValue":u=b;break;case"children":o=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:qe(e,t,m,b,a,null)}Uc(e,l,u,o);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(l=a[_],l!=null))switch(_){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:qe(e,t,_,l,a,null)}return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(l=0;l<bi.length;l++)je(bi[l],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:qe(e,t,R,l,a,null)}return;default:if(Mr(t)){for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!==void 0&&So(e,t,M,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&qe(e,t,b,l,a,null))}function sp(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,m=null,b=null,_=null,R=null,M=null;for(U in a){var q=a[U];if(a.hasOwnProperty(U)&&q!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":_=q;default:l.hasOwnProperty(U)||qe(e,t,U,null,l,q)}}for(var C in l){var U=l[C];if(q=a[C],l.hasOwnProperty(C)&&(U!=null||q!=null))switch(C){case"type":o=U;break;case"name":u=U;break;case"checked":R=U;break;case"defaultChecked":M=U;break;case"value":m=U;break;case"defaultValue":b=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:U!==q&&qe(e,t,C,U,l,q)}}Dr(e,m,b,_,R,M,o,u);return;case"select":U=m=b=C=null;for(o in a)if(_=a[o],a.hasOwnProperty(o)&&_!=null)switch(o){case"value":break;case"multiple":U=_;default:l.hasOwnProperty(o)||qe(e,t,o,null,l,_)}for(u in l)if(o=l[u],_=a[u],l.hasOwnProperty(u)&&(o!=null||_!=null))switch(u){case"value":C=o;break;case"defaultValue":b=o;break;case"multiple":m=o;default:o!==_&&qe(e,t,u,o,l,_)}t=b,a=m,l=U,C!=null?Yn(e,!!a,C,!1):!!l!=!!a&&(t!=null?Yn(e,!!a,t,!0):Yn(e,!!a,a?[]:"",!1));return;case"textarea":U=C=null;for(b in a)if(u=a[b],a.hasOwnProperty(b)&&u!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:qe(e,t,b,null,l,u)}for(m in l)if(u=l[m],o=a[m],l.hasOwnProperty(m)&&(u!=null||o!=null))switch(m){case"value":C=u;break;case"defaultValue":U=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&qe(e,t,m,u,l,o)}Dc(e,C,U);return;case"option":for(var F in a)if(C=a[F],a.hasOwnProperty(F)&&C!=null&&!l.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:qe(e,t,F,null,l,C)}for(_ in l)if(C=l[_],U=a[_],l.hasOwnProperty(_)&&C!==U&&(C!=null||U!=null))switch(_){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:qe(e,t,_,C,l,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)C=a[oe],a.hasOwnProperty(oe)&&C!=null&&!l.hasOwnProperty(oe)&&qe(e,t,oe,null,l,C);for(R in l)if(C=l[R],U=a[R],l.hasOwnProperty(R)&&C!==U&&(C!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:qe(e,t,R,C,l,U)}return;default:if(Mr(t)){for(var He in a)C=a[He],a.hasOwnProperty(He)&&C!==void 0&&!l.hasOwnProperty(He)&&So(e,t,He,void 0,l,C);for(M in l)C=l[M],U=a[M],!l.hasOwnProperty(M)||C===U||C===void 0&&U===void 0||So(e,t,M,C,l,U);return}}for(var T in a)C=a[T],a.hasOwnProperty(T)&&C!=null&&!l.hasOwnProperty(T)&&qe(e,t,T,null,l,C);for(q in l)C=l[q],U=a[q],!l.hasOwnProperty(q)||C===U||C==null&&U==null||qe(e,t,q,C,l,U)}function qf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var u=a[l],o=u.transferSize,m=u.initiatorType,b=u.duration;if(o&&b&&qf(m)){for(m=0,b=u.responseEnd,l+=1;l<a.length;l++){var _=a[l],R=_.startTime;if(R>b)break;var M=_.transferSize,q=_.initiatorType;M&&qf(q)&&(_=_.responseEnd,m+=M*(_<b?1:(b-R)/(_-R)))}if(--l,t+=8*(o+m)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jo=null,Eo=null;function Qs(e){return e.nodeType===9?e:e.ownerDocument}function Hf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $f(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ko(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var To=null;function up(){var e=window.event;return e&&e.type==="popstate"?e===To?!1:(To=e,!0):(To=null,!1)}var Gf=typeof setTimeout=="function"?setTimeout:void 0,op=typeof clearTimeout=="function"?clearTimeout:void 0,Kf=typeof Promise=="function"?Promise:void 0,cp=typeof queueMicrotask=="function"?queueMicrotask:typeof Kf<"u"?function(e){return Kf.resolve(null).then(e).catch(dp)}:Gf;function dp(e){setTimeout(function(){throw e})}function Wa(e){return e==="head"}function Yf(e,t){var a=t,l=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(u),wl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")xi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,xi(a);for(var o=a.firstChild;o;){var m=o.nextSibling,b=o.nodeName;o[Bl]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&o.rel.toLowerCase()==="stylesheet"||a.removeChild(o),o=m}}else a==="body"&&xi(e.ownerDocument.body);a=u}while(a);wl(t)}function Vf(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function No(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":No(a),Cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function hp(e,t,a,l){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Bl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function fp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ft(e.nextSibling),e===null))return null;return e}function Xf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ft(e.nextSibling),e===null))return null;return e}function Ao(e){return e.data==="$?"||e.data==="$~"}function Oo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ro=null;function Qf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Ft(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Zf(e,t,a){switch(t=Qs(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function xi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Cr(e)}var ea=new Map,If=new Set;function Js(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oa=G.d;G.d={f:gp,r:pp,D:yp,C:bp,L:vp,m:xp,X:wp,S:_p,M:Sp};function gp(){var e=Oa.f(),t=qs();return e||t}function pp(e){var t=$n(e);t!==null&&t.tag===5&&t.type==="form"?hh(t):Oa.r(e)}var vl=typeof document>"u"?null:document;function Pf(e,t,a){var l=vl;if(l&&typeof t=="string"&&t){var u=Xt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),If.has(u)||(If.add(u),e={rel:e,crossOrigin:a,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),yt(t,"link",e),dt(t),l.head.appendChild(t)))}}function yp(e){Oa.D(e),Pf("dns-prefetch",e,null)}function bp(e,t){Oa.C(e,t),Pf("preconnect",e,t)}function vp(e,t,a){Oa.L(e,t,a);var l=vl;if(l&&e&&t){var u='link[rel="preload"][as="'+Xt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Xt(a.imageSizes)+'"]')):u+='[href="'+Xt(e)+'"]';var o=u;switch(t){case"style":o=xl(e);break;case"script":o=_l(e)}ea.has(o)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ea.set(o,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(_i(o))||t==="script"&&l.querySelector(wi(o))||(t=l.createElement("link"),yt(t,"link",e),dt(t),l.head.appendChild(t)))}}function xp(e,t){Oa.m(e,t);var a=vl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Xt(l)+'"][href="'+Xt(e)+'"]',o=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=_l(e)}if(!ea.has(o)&&(e=x({rel:"modulepreload",href:e},t),ea.set(o,e),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wi(o)))return}l=a.createElement("link"),yt(l,"link",e),dt(l),a.head.appendChild(l)}}}function _p(e,t,a){Oa.S(e,t,a);var l=vl;if(l&&e){var u=Gn(l).hoistableStyles,o=xl(e);t=t||"default";var m=u.get(o);if(!m){var b={loading:0,preload:null};if(m=l.querySelector(_i(o)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ea.get(o))&&Co(e,a);var _=m=l.createElement("link");dt(_),yt(_,"link",e),_._p=new Promise(function(R,M){_.onload=R,_.onerror=M}),_.addEventListener("load",function(){b.loading|=1}),_.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Zs(m,t,l)}m={type:"stylesheet",instance:m,count:1,state:b},u.set(o,m)}}}function wp(e,t){Oa.X(e,t);var a=vl;if(a&&e){var l=Gn(a).hoistableScripts,u=_l(e),o=l.get(u);o||(o=a.querySelector(wi(u)),o||(e=x({src:e,async:!0},t),(t=ea.get(u))&&zo(e,t),o=a.createElement("script"),dt(o),yt(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function Sp(e,t){Oa.M(e,t);var a=vl;if(a&&e){var l=Gn(a).hoistableScripts,u=_l(e),o=l.get(u);o||(o=a.querySelector(wi(u)),o||(e=x({src:e,async:!0,type:"module"},t),(t=ea.get(u))&&zo(e,t),o=a.createElement("script"),dt(o),yt(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function Wf(e,t,a,l){var u=(u=ye.current)?Js(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=xl(a.href),a=Gn(u).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=xl(a.href);var o=Gn(u).hoistableStyles,m=o.get(e);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,m),(o=u.querySelector(_i(e)))&&!o._p&&(m.instance=o,m.state.loading=5),ea.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ea.set(e,a),o||jp(u,e,a,m.state))),t&&l===null)throw Error(r(528,""));return m}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_l(a),a=Gn(u).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function xl(e){return'href="'+Xt(e)+'"'}function _i(e){return'link[rel="stylesheet"]['+e+"]"}function Ff(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function jp(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),yt(t,"link",a),dt(t),e.head.appendChild(t))}function _l(e){return'[src="'+Xt(e)+'"]'}function wi(e){return"script[async]"+e}function e0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Xt(a.href)+'"]');if(l)return t.instance=l,dt(l),l;var u=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),dt(l),yt(l,"style",u),Zs(l,a.precedence,e),t.instance=l;case"stylesheet":u=xl(a.href);var o=e.querySelector(_i(u));if(o)return t.state.loading|=4,t.instance=o,dt(o),o;l=Ff(a),(u=ea.get(u))&&Co(l,u),o=(e.ownerDocument||e).createElement("link"),dt(o);var m=o;return m._p=new Promise(function(b,_){m.onload=b,m.onerror=_}),yt(o,"link",l),t.state.loading|=4,Zs(o,a.precedence,e),t.instance=o;case"script":return o=_l(a.src),(u=e.querySelector(wi(o)))?(t.instance=u,dt(u),u):(l=a,(u=ea.get(o))&&(l=x({},a),zo(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),dt(u),yt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Zs(l,a.precedence,e));return t.instance}function Zs(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,o=u,m=0;m<l.length;m++){var b=l[m];if(b.dataset.precedence===t)o=b;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Co(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function zo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Is=null;function t0(e,t,a){if(Is===null){var l=new Map,u=Is=new Map;u.set(a,l)}else u=Is,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var o=a[u];if(!(o[Bl]||o[ft]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var m=o.getAttribute(t)||"";m=e+m;var b=l.get(m);b?b.push(o):l.set(m,[o])}}return l}function a0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ep(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function n0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kp(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=xl(l.href),o=t.querySelector(_i(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ps.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=o,dt(o);return}o=t.ownerDocument||t,l=Ff(l),(u=ea.get(u))&&Co(l,u),o=o.createElement("link"),dt(o);var m=o;m._p=new Promise(function(b,_){m.onload=b,m.onerror=_}),yt(o,"link",l),a.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ps.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Do=0;function Tp(e,t){return e.stylesheets&&e.count===0&&Fs(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Fs(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&Do===0&&(Do=62500*rp());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fs(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>Do?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function Ps(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ws=null;function Fs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ws=new Map,t.forEach(Np,e),Ws=null,Ps.call(e))}function Np(e,t){if(!(t.state.loading&4)){var a=Ws.get(e);if(a)var l=a.get(null);else{a=new Map,Ws.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var m=u[o];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),l=m)}l&&a.set(null,l)}u=t.instance,m=u.getAttribute("data-precedence"),o=a.get(m)||l,o===l&&a.set(null,u),a.set(m,u),this.count++,l=Ps.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Si={$$typeof:K,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function Ap(e,t,a,l,u,o,m,b,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function l0(e,t,a,l,u,o,m,b,_,R,M,q){return e=new Ap(e,t,a,m,_,R,M,q,b),t=1,o===!0&&(t|=24),o=Lt(3,null,null,t),e.current=o,o.stateNode=e,t=hu(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:l,isDehydrated:a,cache:t},pu(o),e}function i0(e){return e?(e=Wn,e):Wn}function s0(e,t,a,l,u,o){u=i0(u),l.context===null?l.context=u:l.pendingContext=u,l=$a(t),l.payload={element:a},o=o===void 0?null:o,o!==null&&(l.callback=o),a=Ga(e,l,t),a!==null&&(zt(a,e,t),ti(a,e,t))}function r0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Uo(e,t){r0(e,t),(e=e.alternate)&&r0(e,t)}function u0(e){if(e.tag===13||e.tag===31){var t=mn(e,67108864);t!==null&&zt(t,e,67108864),Uo(e,67108864)}}function o0(e){if(e.tag===13||e.tag===31){var t=Gt();t=Ar(t);var a=mn(e,t);a!==null&&zt(a,e,t),Uo(e,t)}}var er=!0;function Op(e,t,a,l){var u=D.T;D.T=null;var o=G.p;try{G.p=2,Mo(e,t,a,l)}finally{G.p=o,D.T=u}}function Rp(e,t,a,l){var u=D.T;D.T=null;var o=G.p;try{G.p=8,Mo(e,t,a,l)}finally{G.p=o,D.T=u}}function Mo(e,t,a,l){if(er){var u=Lo(l);if(u===null)wo(e,t,l,tr,a),d0(e,l);else if(zp(u,e,t,a,l))l.stopPropagation();else if(d0(e,l),t&4&&-1<Cp.indexOf(e)){for(;u!==null;){var o=$n(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var m=Qe(o.pendingLanes);if(m!==0){var b=o;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var _=1<<31-Ye(m);b.entanglements[1]|=_,m&=~_}da(o),(Ce&6)===0&&(Ls=wt()+500,yi(0))}}break;case 31:case 13:b=mn(o,2),b!==null&&zt(b,o,2),qs(),Uo(o,2)}if(o=Lo(l),o===null&&wo(e,t,l,tr,a),o===u)break;u=o}u!==null&&l.stopPropagation()}else wo(e,t,l,null,a)}}function Lo(e){return e=Br(e),Bo(e)}var tr=null;function Bo(e){if(tr=null,e=Hn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return tr=e,null}function c0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case Xi:return 2;case Qi:return 8;case un:case kr:return 32;case Ml:return 268435456;default:return 32}default:return 32}}var qo=!1,Fa=null,en=null,tn=null,ji=new Map,Ei=new Map,an=[],Cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d0(e,t){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(t.pointerId)}}function ki(e,t,a,l,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:o,targetContainers:[u]},t!==null&&(t=$n(t),t!==null&&u0(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function zp(e,t,a,l,u){switch(t){case"focusin":return Fa=ki(Fa,e,t,a,l,u),!0;case"dragenter":return en=ki(en,e,t,a,l,u),!0;case"mouseover":return tn=ki(tn,e,t,a,l,u),!0;case"pointerover":var o=u.pointerId;return ji.set(o,ki(ji.get(o)||null,e,t,a,l,u)),!0;case"gotpointercapture":return o=u.pointerId,Ei.set(o,ki(Ei.get(o)||null,e,t,a,l,u)),!0}return!1}function h0(e){var t=Hn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Ec(e.priority,function(){o0(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,Ec(e.priority,function(){o0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ar(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Lo(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Lr=l,a.target.dispatchEvent(l),Lr=null}else return t=$n(a),t!==null&&u0(t),e.blockedOn=a,!1;t.shift()}return!0}function f0(e,t,a){ar(e)&&a.delete(t)}function Dp(){qo=!1,Fa!==null&&ar(Fa)&&(Fa=null),en!==null&&ar(en)&&(en=null),tn!==null&&ar(tn)&&(tn=null),ji.forEach(f0),Ei.forEach(f0)}function nr(e,t){e.blockedOn===t&&(e.blockedOn=null,qo||(qo=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Dp)))}var lr=null;function m0(e){lr!==e&&(lr=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){lr===e&&(lr=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Bo(l||a)===null)continue;break}var o=$n(a);o!==null&&(e.splice(t,3),t-=3,Mu(o,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function wl(e){function t(_){return nr(_,e)}Fa!==null&&nr(Fa,e),en!==null&&nr(en,e),tn!==null&&nr(tn,e),ji.forEach(t),Ei.forEach(t);for(var a=0;a<an.length;a++){var l=an[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<an.length&&(a=an[0],a.blockedOn===null);)h0(a),a.blockedOn===null&&an.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],o=a[l+1],m=u[Tt]||null;if(typeof o=="function")m||m0(a);else if(m){var b=null;if(o&&o.hasAttribute("formAction")){if(u=o,m=o[Tt]||null)b=m.formAction;else if(Bo(u)!==null)continue}else b=m.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),m0(a)}}}function g0(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(m){return u=m})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Ho(e){this._internalRoot=e}ir.prototype.render=Ho.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,l=Gt();s0(a,l,e,t,null,null)},ir.prototype.unmount=Ho.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;s0(e.current,2,null,e,null,null),qs(),t[qn]=null}};function ir(e){this._internalRoot=e}ir.prototype.unstable_scheduleHydration=function(e){if(e){var t=jc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<an.length&&t!==0&&t<an[a].priority;a++);an.splice(a,0,e),a===0&&h0(e)}};var p0=n.version;if(p0!=="19.2.4")throw Error(r(527,p0,"19.2.4"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Up={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sr.isDisabled&&sr.supportsFiber)try{ge=sr.inject(Up),he=sr}catch{}}return Ni.createRoot=function(e,t){if(!d(e))throw Error(r(299));var a=!1,l="",u=wh,o=Sh,m=jh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=l0(e,1,!1,null,null,a,l,null,u,o,m,g0),e[qn]=t.current,_o(e),new Ho(t)},Ni.hydrateRoot=function(e,t,a){if(!d(e))throw Error(r(299));var l=!1,u="",o=wh,m=Sh,b=jh,_=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=l0(e,1,!0,t,a??null,l,u,_,o,m,b,g0),t.context=i0(null),a=t.current,l=Gt(),l=Ar(l),u=$a(l),u.callback=null,Ga(a,u,l),a=l,t.current.lanes=a,Ll(t,a),da(t),e[qn]=t.current,_o(e),new ir(t)},Ni.version="19.2.4",Ni}var k0;function Vp(){if(k0)return Ko.exports;k0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Ko.exports=Yp(),Ko.exports}var Xp=Vp();const Qp=tm(Xp);function vr(i,n){var s={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(s[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,r=Object.getOwnPropertySymbols(i);d<r.length;d++)n.indexOf(r[d])<0&&Object.prototype.propertyIsEnumerable.call(i,r[d])&&(s[r[d]]=i[r[d]]);return s}function Jp(i,n,s,r){function d(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function p(v){try{g(r.next(v))}catch(x){f(x)}}function y(v){try{g(r.throw(v))}catch(x){f(x)}}function g(v){v.done?h(v.value):d(v.value).then(p,y)}g((r=r.apply(i,n||[])).next())})}const Zp=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class yc extends Error{constructor(n,s="FunctionsError",r){super(n),this.name=s,this.context=r}}class Ip extends yc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class T0 extends yc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class N0 extends yc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var lc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(lc||(lc={}));class Pp{constructor(n,{headers:s={},customFetch:r,region:d=lc.Any}={}){this.url=n,this.headers=s,this.region=d,this.fetch=Zp(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Jp(this,arguments,void 0,function*(s,r={}){var d;let h,f;try{const{headers:p,method:y,body:g,signal:v,timeout:x}=r;let k={},{region:N}=r;N||(N=this.region);const S=new URL(`${this.url}/${s}`);N&&N!=="any"&&(k["x-region"]=N,S.searchParams.set("forceFunctionRegion",N));let z;g&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",z=g):typeof g=="string"?(k["Content-Type"]="text/plain",z=g):typeof FormData<"u"&&g instanceof FormData?z=g:(k["Content-Type"]="application/json",z=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?z=JSON.stringify(g):z=g;let H=v;x&&(f=new AbortController,h=setTimeout(()=>f.abort(),x),v?(H=f.signal,v.addEventListener("abort",()=>f.abort())):H=f.signal);const V=yield this.fetch(S.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),p),body:z,signal:H}).catch(ce=>{throw new Ip(ce)}),I=V.headers.get("x-relay-error");if(I&&I==="true")throw new T0(V);if(!V.ok)throw new N0(V);let K=((d=V.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),Z;return K==="application/json"?Z=yield V.json():K==="application/octet-stream"||K==="application/pdf"?Z=yield V.blob():K==="text/event-stream"?Z=V:K==="multipart/form-data"?Z=yield V.formData():Z=yield V.text(),{data:Z,error:null,response:V}}catch(p){return{data:null,error:p,response:p instanceof N0||p instanceof T0?p.context:void 0}}finally{h&&clearTimeout(h)}})}}var Wp=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},Fp=class{constructor(i){var n,s,r;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(r=i.urlLengthLimit)!==null&&r!==void 0?r:8e3,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let d=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,p=null,y=null,g=h.status,v=h.statusText;if(h.ok){var x,k;if(s.method!=="HEAD"){var N;const V=await h.text();V===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((N=s.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?p=V:p=JSON.parse(V))}const z=(x=s.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),H=(k=h.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");z&&H&&H.length>1&&(y=parseInt(H[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,y=null,g=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var S;const z=await h.text();try{f=JSON.parse(z),Array.isArray(f)&&h.status===404&&(p=[],f=null,g=200,v="OK")}catch{h.status===404&&z===""?(g=204,v="No Content"):f={message:z}}if(f&&s.isMaybeSingle&&(!(f==null||(S=f.details)===null||S===void 0)&&S.includes("0 rows"))&&(f=null,g=200,v="OK"),f&&s.shouldThrowOnError)throw new Wp(f)}return{error:f,data:p,count:y,status:g,statusText:v}});return this.shouldThrowOnError||(d=d.catch(h=>{var f;let p="",y="",g="";const v=h==null?void 0:h.cause;if(v){var x,k,N,S;const V=(x=v==null?void 0:v.message)!==null&&x!==void 0?x:"",I=(k=v==null?void 0:v.code)!==null&&k!==void 0?k:"";p=`${(N=h==null?void 0:h.name)!==null&&N!==void 0?N:"FetchError"}: ${h==null?void 0:h.message}`,p+=`

Caused by: ${(S=v==null?void 0:v.name)!==null&&S!==void 0?S:"Error"}: ${V}`,I&&(p+=` (${I})`),v!=null&&v.stack&&(p+=`
${v.stack}`)}else{var z;p=(z=h==null?void 0:h.stack)!==null&&z!==void 0?z:""}const H=this.url.toString().length;return(h==null?void 0:h.name)==="AbortError"||(h==null?void 0:h.code)==="ABORT_ERR"?(g="",y="Request was aborted (timeout or manual cancellation)",H>this.urlLengthLimit&&(y+=`. Note: Your request URL is ${H} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((v==null?void 0:v.name)==="HeadersOverflowError"||(v==null?void 0:v.code)==="UND_ERR_HEADERS_OVERFLOW")&&(g="",y="HTTP headers exceeded server limits (typically 16KB)",H>this.urlLengthLimit&&(y+=`. Your request URL is ${H} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=h==null?void 0:h.name)!==null&&f!==void 0?f:"FetchError"}: ${h==null?void 0:h.message}`,details:p,hint:y,code:g},data:null,count:null,status:0,statusText:""}})),d.then(i,n)}returns(){return this}overrideTypes(){return this}},ey=class extends Fp{select(i){let n=!1;const s=(i??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:d=r}={}){const h=d?`${d}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,n,{foreignTable:s,referencedTable:r=s}={}){const d=typeof r>"u"?"offset":`${r}.offset`,h=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(h,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:d=!1,format:h="text"}={}){var f;const p=[i?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const A0=new RegExp("[,()]");var Al=class extends ey{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&A0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}notIn(i,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&A0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`not.in.(${s})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:s,type:r}={}){let d="";r==="plain"?d="pl":r==="phrase"?d="ph":r==="websearch"&&(d="w");const h=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${d}fts${h}.${n}`),this}match(i){return Object.entries(i).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(i,n,s){return this.url.searchParams.append(i,`not.${n}.${s}`),this}or(i,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${i})`),this}filter(i,n,s){return this.url.searchParams.append(i,`${n}.${s}`),this}},ty=class{constructor(i,{headers:n={},schema:s,fetch:r,urlLengthLimit:d=8e3}){this.url=i,this.headers=new Headers(n),this.schema=s,this.fetch=r,this.urlLengthLimit=d}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,n){const{head:s=!1,count:r}=n??{},d=s?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join(""),{url:p,headers:y}=this.cloneRequestState();return p.searchParams.set("select",f),r&&y.append("Prefer",`count=${r}`),new Al({method:d,url:p,headers:y,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(i,{count:n,defaultToNull:s=!0}={}){var r;const d="POST",{url:h,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),s||f.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(p.length>0){const y=[...new Set(p)].map(g=>`"${g}"`);h.searchParams.set("columns",y.join(","))}}return new Al({method:d,url:h,headers:f,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(i,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:d=!0}={}){var h;const f="POST",{url:p,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&p.searchParams.set("on_conflict",n),r&&y.append("Prefer",`count=${r}`),d||y.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(g.length>0){const v=[...new Set(g)].map(x=>`"${x}"`);p.searchParams.set("columns",v.join(","))}}return new Al({method:f,url:p,headers:y,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}update(i,{count:n}={}){var s;const r="PATCH",{url:d,headers:h}=this.cloneRequestState();return n&&h.append("Prefer",`count=${n}`),new Al({method:r,url:d,headers:h,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:i}={}){var n;const s="DELETE",{url:r,headers:d}=this.cloneRequestState();return i&&d.append("Prefer",`count=${i}`),new Al({method:s,url:r,headers:d,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ui(i){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ui(i)}function ay(i,n){if(Ui(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,n);if(Ui(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function ny(i){var n=ay(i,"string");return Ui(n)=="symbol"?n:n+""}function ly(i,n,s){return(n=ny(n))in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}function O0(i,n){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),s.push.apply(s,r)}return s}function rr(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?O0(Object(s),!0).forEach(function(r){ly(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):O0(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}var iy=class am{constructor(n,{headers:s={},schema:r,fetch:d,timeout:h,urlLengthLimit:f=8e3}={}){this.url=n,this.headers=new Headers(s),this.schemaName=r,this.urlLengthLimit=f;const p=d??globalThis.fetch;h!==void 0&&h>0?this.fetch=(y,g)=>{const v=new AbortController,x=setTimeout(()=>v.abort(),h),k=g==null?void 0:g.signal;if(k){if(k.aborted)return clearTimeout(x),p(y,g);const N=()=>{clearTimeout(x),v.abort()};return k.addEventListener("abort",N,{once:!0}),p(y,rr(rr({},g),{},{signal:v.signal})).finally(()=>{clearTimeout(x),k.removeEventListener("abort",N)})}return p(y,rr(rr({},g),{},{signal:v.signal})).finally(()=>clearTimeout(x))}:this.fetch=p}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ty(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new am(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,s={},{head:r=!1,get:d=!1,count:h}={}){var f;let p;const y=new URL(`${this.url}/rpc/${n}`);let g;const v=N=>N!==null&&typeof N=="object"&&(!Array.isArray(N)||N.some(v)),x=r&&Object.values(s).some(v);x?(p="POST",g=s):r||d?(p=r?"HEAD":"GET",Object.entries(s).filter(([N,S])=>S!==void 0).map(([N,S])=>[N,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([N,S])=>{y.searchParams.append(N,S)})):(p="POST",g=s);const k=new Headers(this.headers);return x?k.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&k.set("Prefer",`count=${h}`),new Al({method:p,url:y,headers:k,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class sy{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const r=s.versions;if(r&&r.node){const d=r.node,h=parseInt(d.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const r=this.getWebSocketConstructor();return new r(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const ry="2.95.3",uy=`realtime-js/${ry}`,oy="1.0.0",nm="2.0.0",R0=nm,ic=1e4,cy=1e3,dy=100;var ln;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(ln||(ln={}));var ct;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ct||(ct={}));var sa;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(sa||(sa={}));var sc;(function(i){i.websocket="websocket"})(sc||(sc={}));var Rn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Rn||(Rn={}));class hy{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,r;const d=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(n){var s,r;const d=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,s,r){var d,h;const f=n.topic,p=(d=n.ref)!==null&&d!==void 0?d:"",y=(h=n.join_ref)!==null&&h!==void 0?h:"",g=n.payload.event,v=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},x=Object.keys(v).length===0?"":JSON.stringify(v);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+p.length+f.length+g.length+x.length,N=new ArrayBuffer(this.HEADER_LENGTH+k);let S=new DataView(N),z=0;S.setUint8(z++,this.KINDS.userBroadcastPush),S.setUint8(z++,y.length),S.setUint8(z++,p.length),S.setUint8(z++,f.length),S.setUint8(z++,g.length),S.setUint8(z++,x.length),S.setUint8(z++,s),Array.from(y,V=>S.setUint8(z++,V.charCodeAt(0))),Array.from(p,V=>S.setUint8(z++,V.charCodeAt(0))),Array.from(f,V=>S.setUint8(z++,V.charCodeAt(0))),Array.from(g,V=>S.setUint8(z++,V.charCodeAt(0))),Array.from(x,V=>S.setUint8(z++,V.charCodeAt(0)));var H=new Uint8Array(N.byteLength+r.byteLength);return H.set(new Uint8Array(N),0),H.set(new Uint8Array(r),N.byteLength),H.buffer}decode(n,s){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return s(r)}if(typeof n=="string"){const r=JSON.parse(n),[d,h,f,p,y]=r;return s({join_ref:d,ref:h,topic:f,event:p,payload:y})}return s({})}_binaryDecode(n){const s=new DataView(n),r=s.getUint8(0),d=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,d)}}_decodeUserBroadcast(n,s,r){const d=s.getUint8(1),h=s.getUint8(2),f=s.getUint8(3),p=s.getUint8(4);let y=this.HEADER_LENGTH+4;const g=r.decode(n.slice(y,y+d));y=y+d;const v=r.decode(n.slice(y,y+h));y=y+h;const x=r.decode(n.slice(y,y+f));y=y+f;const k=n.slice(y,n.byteLength),N=p===this.JSON_ENCODING?JSON.parse(r.decode(k)):k,S={type:this.BROADCAST_EVENT,event:v,payload:N};return f>0&&(S.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>s.includes(r)))}}class lm{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ke||(Ke={}));const C0=(i,n,s={})=>{var r;const d=(r=s.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((h,f)=>(h[f]=fy(f,i,n,d),h),{}):{}},fy=(i,n,s,r)=>{const d=n.find(p=>p.name===i),h=d==null?void 0:d.type,f=s[i];return h&&!r.includes(h)?im(h,f):rc(f)},im=(i,n)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return yy(n,s)}switch(i){case Ke.bool:return my(n);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return gy(n);case Ke.json:case Ke.jsonb:return py(n);case Ke.timestamp:return by(n);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return rc(n);default:return rc(n)}},rc=i=>i,my=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},gy=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},py=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},yy=(i,n)=>{if(typeof i!="string")return i;const s=i.length-1,r=i[s];if(i[0]==="{"&&r==="}"){let h;const f=i.slice(1,s);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(p=>im(n,p))}return i},by=i=>typeof i=="string"?i.replace(" ","T"):i,sm=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Qo{constructor(n,s,r={},d=ic){this.channel=n,this.event=s,this.payload=r,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var r;return this._hasReceived(n)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var z0;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(z0||(z0={}));class Ri{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},d=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ri.syncState(this.state,d,h,f),this.pendingDiffs.forEach(y=>{this.state=Ri.syncDiff(this.state,y,h,f)}),this.pendingDiffs=[],p()}),this.channel._on(r.diff,{},d=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Ri.syncDiff(this.state,d,h,f),p())}),this.onJoin((d,h,f)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:h,newPresences:f})}),this.onLeave((d,h,f)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,r,d){const h=this.cloneDeep(n),f=this.transformState(s),p={},y={};return this.map(h,(g,v)=>{f[g]||(y[g]=v)}),this.map(f,(g,v)=>{const x=h[g];if(x){const k=v.map(H=>H.presence_ref),N=x.map(H=>H.presence_ref),S=v.filter(H=>N.indexOf(H.presence_ref)<0),z=x.filter(H=>k.indexOf(H.presence_ref)<0);S.length>0&&(p[g]=S),z.length>0&&(y[g]=z)}else p[g]=v}),this.syncDiff(h,{joins:p,leaves:y},r,d)}static syncDiff(n,s,r,d){const{joins:h,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),d||(d=()=>{}),this.map(h,(p,y)=>{var g;const v=(g=n[p])!==null&&g!==void 0?g:[];if(n[p]=this.cloneDeep(y),v.length>0){const x=n[p].map(N=>N.presence_ref),k=v.filter(N=>x.indexOf(N.presence_ref)<0);n[p].unshift(...k)}r(p,v,y)}),this.map(f,(p,y)=>{let g=n[p];if(!g)return;const v=y.map(x=>x.presence_ref);g=g.filter(x=>v.indexOf(x.presence_ref)<0),n[p]=g,d(p,g,y),g.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(r=>s(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,r)=>{const d=n[r];return"metas"in d?s[r]=d.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):s[r]=d,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var D0;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(D0||(D0={}));var Ci;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ci||(Ci={}));var Ra;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Ra||(Ra={}));class Cl{constructor(n,s={config:{}},r){var d,h;if(this.topic=n,this.params=s,this.socket=r,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Qo(this,sa.join,this.params,this.timeout),this.rejoinTimer=new lm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sa.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new Ri(this),this.broadcastEndpointURL=sm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var r,d,h;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:f,presence:p,private:y}}=this.params,g=(d=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(N=>N.filter))!==null&&d!==void 0?d:[],v=!!this.bindings[Ci.PRESENCE]&&this.bindings[Ci.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,x={},k={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:g,private:y};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(N=>n==null?void 0:n(Ra.CHANNEL_ERROR,N)),this._onClose(()=>n==null?void 0:n(Ra.CLOSED)),this.updateJoinPayload(Object.assign({config:k},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:N})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){n==null||n(Ra.SUBSCRIBED);return}else{const z=this.bindings.postgres_changes,H=(S=z==null?void 0:z.length)!==null&&S!==void 0?S:0,V=[];for(let I=0;I<H;I++){const K=z[I],{filter:{event:Z,schema:ce,table:W,filter:Q}}=K,L=N&&N[I];if(L&&L.event===Z&&Cl.isFilterValueEqual(L.schema,ce)&&Cl.isFilterValueEqual(L.table,W)&&Cl.isFilterValueEqual(L.filter,Q))V.push(Object.assign(Object.assign({},K),{id:L.id}));else{this.unsubscribe(),this.state=ct.errored,n==null||n(Ra.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,n&&n(Ra.SUBSCRIBED);return}}).receive("error",N=>{this.state=ct.errored,n==null||n(Ra.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Ra.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,r){return this.state===ct.joined&&n===Ci.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,r)}async httpSend(n,s,r={}){var d;if(s==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(d=r.timeout)!==null&&d!==void 0?d:this.timeout);if(p.status===202)return{success:!0};let y=p.statusText;try{const g=await p.json();y=g.error||g.message||y}catch{}return Promise.reject(new Error(y))}async send(n,s={}){var r,d;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=n,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((d=g.body)===null||d===void 0?void 0:d.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,p,y;const g=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((y=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),g.receive("ok",()=>h("ok")),g.receive("error",()=>h("error")),g.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ct.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(d=>{r=new Qo(this,sa.leave,{},n),r.receive("ok",()=>{s(),d("ok")}).receive("timeout",()=>{s(),d("timed out")}).receive("error",()=>{d("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(n,s,r){const d=new AbortController,h=setTimeout(()=>d.abort(),r),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:d.signal}));return clearTimeout(h),f}_push(n,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Qo(this,n,s,r);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>dy){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,r){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,r){var d,h;const f=n.toLocaleLowerCase(),{close:p,error:y,leave:g,join:v}=sa;if(r&&[p,y,g,v].indexOf(f)>=0&&r!==this._joinRef())return;let k=this._onMessage(f,s,r);if(s&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(N=>{var S,z,H;return((S=N.filter)===null||S===void 0?void 0:S.event)==="*"||((H=(z=N.filter)===null||z===void 0?void 0:z.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===f}).map(N=>N.callback(k,r)):(h=this.bindings[f])===null||h===void 0||h.filter(N=>{var S,z,H,V,I,K;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in N){const Z=N.id,ce=(S=N.filter)===null||S===void 0?void 0:S.event;return Z&&((z=s.ids)===null||z===void 0?void 0:z.includes(Z))&&(ce==="*"||(ce==null?void 0:ce.toLocaleLowerCase())===((H=s.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))}else{const Z=(I=(V=N==null?void 0:N.filter)===null||V===void 0?void 0:V.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return Z==="*"||Z===((K=s==null?void 0:s.event)===null||K===void 0?void 0:K.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===f}).map(N=>{if(typeof k=="object"&&"ids"in k){const S=k.data,{schema:z,table:H,commit_timestamp:V,type:I,errors:K}=S;k=Object.assign(Object.assign({},{schema:z,table:H,commit_timestamp:V,eventType:I,new:{},old:{},errors:K}),this._getPayloadRecords(S))}N.callback(k,r)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,r){const d=n.toLocaleLowerCase(),h={type:d,filter:s,callback:r};return this.bindings[d]?this.bindings[d].push(h):this.bindings[d]=[h],this}_off(n,s){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(d=>{var h;return!(((h=d.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===r&&Cl.isEqual(d.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const r in n)if(n[r]!==s[r])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(sa.close,{},n)}_onError(n){this._on(sa.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=C0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=C0(n.columns,n.old_record)),s}}const Jo=()=>{},ur={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vy=[1e3,2e3,5e3,1e4],xy=1e4,_y=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wy{constructor(n,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ic,this.transport=null,this.heartbeatIntervalMs=ur.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jo,this.ref=0,this.reconnectTimer=null,this.vsn=R0,this.logger=Jo,this.conn=null,this.sendBuffer=[],this.serializer=new hy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=d=>d?(...h)=>d(...h):(...h)=>fetch(...h),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${sc.websocket}`,this.httpEndpoint=sm(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sy.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return s==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,r){this.logger(n,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ln.connecting:return Rn.Connecting;case ln.open:return Rn.Open;case ln.closing:return Rn.Closing;default:return Rn.Closed}}isConnected(){return this.connectionState()===Rn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const r=`realtime:${n}`,d=this.getChannels().find(h=>h.topic===r);if(d)return d;{const h=new Cl(`realtime:${n}`,s,this);return this.channels.push(h),h}}push(n){const{topic:s,event:r,payload:d,ref:h}=n,f=()=>{this.encode(n,p=>{var y;(y=this.conn)===null||y===void 0||y.send(p)})};this.log("push",`${s} ${r} (${h})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(cy,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ur.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",g)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:d,payload:h,ref:f}=s,p=f?`(${f})`:"",y=h.status||"";this.log("receive",`${y} ${r} ${d} ${p}`.trim(),h),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(d,h,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ln.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ln.open||this.conn.readyState===ln.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(sa.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const r=n.match(/\?/)?"&":"?",d=new URLSearchParams(s);return`${n}${r}${d}`}_workerObjectUrl(n){let s;if(n)s=n;else{const r=new Blob([_y],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,r=!1;if(n)s=n,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(d=>{const h={access_token:s,version:uy};s&&d.updateJoinPayload(h),d.joinedOnce&&d._isJoined()&&d._push(sa.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(s)}catch(d){this.log("error",`error in ${n} callback`,d)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ur.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,r,d,h,f,p,y,g,v,x,k,N;switch(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(r=n==null?void 0:n.timeout)!==null&&r!==void 0?r:ic,this.heartbeatIntervalMs=(d=n==null?void 0:n.heartbeatIntervalMs)!==null&&d!==void 0?d:ur.HEARTBEAT_INTERVAL,this.worker=(h=n==null?void 0:n.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n==null?void 0:n.heartbeatCallback)!==null&&p!==void 0?p:Jo,this.vsn=(y=n==null?void 0:n.vsn)!==null&&y!==void 0?y:R0,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n==null?void 0:n.reconnectAfterMs)!==null&&g!==void 0?g:(S=>vy[S-1]||xy),this.vsn){case oy:this.encode=(v=n==null?void 0:n.encode)!==null&&v!==void 0?v:((S,z)=>z(JSON.stringify(S))),this.decode=(x=n==null?void 0:n.decode)!==null&&x!==void 0?x:((S,z)=>z(JSON.parse(S)));break;case nm:this.encode=(k=n==null?void 0:n.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(N=n==null?void 0:n.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var Mi=class extends Error{constructor(i,n){var s;super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((s=n.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Sy(i,n,s){const r=new URL(n,i);if(s)for(const[d,h]of Object.entries(s))h!==void 0&&r.searchParams.set(d,h);return r.toString()}async function jy(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Ey(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:d,body:h,headers:f}){const p=Sy(i.baseUrl,r,d),y=await jy(i.auth),g=await n(p,{method:s,headers:{...h?{"Content-Type":"application/json"}:{},...y,...f},body:h?JSON.stringify(h):void 0}),v=await g.text(),x=(g.headers.get("content-type")||"").includes("application/json"),k=x&&v?JSON.parse(v):v;if(!g.ok){const N=x?k:void 0,S=N==null?void 0:N.error;throw new Mi((S==null?void 0:S.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:N})}return{status:g.status,headers:g.headers,data:k}}}}function or(i){return i.join("")}var ky=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:or(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(i,n){const s={namespace:i.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${or(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${or(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${or(i.namespace)}`}),!0}catch(n){if(n instanceof Mi&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(s){if(s instanceof Mi&&s.status===409)return;throw s}}};function Sl(i){return i.join("")}var Ty=class{constructor(i,n="",s){this.client=i,this.prefix=n,this.accessDelegation=s}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sl(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Sl(i.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(i,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Sl(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sl(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sl(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sl(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(s){if(s instanceof Mi&&s.status===404)return!1;throw s}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(s){if(s instanceof Mi&&s.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw s}}},Ny=class{constructor(i){var r;let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const s=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Ey({baseUrl:s,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(r=i.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new ky(this.client,n),this.tableOps=new Ty(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},xr=class extends Error{constructor(i,n="storage",s,r){super(i),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=r}};function _r(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var cr=class extends xr{constructor(i,n,s,r="storage"){super(i,r,n,s),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rm=class extends xr{constructor(i,n,s="storage"){super(i,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const Ay=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Oy=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},uc=i=>{if(Array.isArray(i))return i.map(s=>uc(s));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([s,r])=>{const d=s.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[d]=uc(r)}),n},Ry=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Li(i){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Li(i)}function Cy(i,n){if(Li(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,n);if(Li(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function zy(i){var n=Cy(i,"string");return Li(n)=="symbol"?n:n+""}function Dy(i,n,s){return(n=zy(n))in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}function U0(i,n){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),s.push.apply(s,r)}return s}function fe(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?U0(Object(s),!0).forEach(function(r){Dy(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):U0(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}const M0=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},Uy=async(i,n,s,r)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(s!=null&&s.noResolveJson)){const d=i,h=d.status||500;if(typeof d.json=="function")d.json().then(f=>{const p=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||h+"";n(new cr(M0(f),h,p,r))}).catch(()=>{if(r==="vectors"){const f=h+"";n(new cr(d.statusText||`HTTP ${h} error`,h,f,r))}else{const f=h+"";n(new cr(d.statusText||`HTTP ${h} error`,h,f,r))}});else{const f=h+"";n(new cr(d.statusText||`HTTP ${h} error`,h,f,r))}}else n(new rm(M0(i),i,r))},My=(i,n,s,r)=>{const d={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"||i==="HEAD"||!r?fe(fe({},d),s):(Oy(r)?(d.headers=fe({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(r)):d.body=r,n!=null&&n.duplex&&(d.duplex=n.duplex),fe(fe({},d),s))};async function Ai(i,n,s,r,d,h,f){return new Promise((p,y)=>{i(s,My(n,r,d,h)).then(g=>{if(!g.ok)throw g;if(r!=null&&r.noResolveJson)return g;if(f==="vectors"){const v=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!v||!v.includes("application/json"))return{}}return g.json()}).then(g=>p(g)).catch(g=>Uy(g,y,r,f))})}function um(i="storage"){return{get:async(n,s,r,d)=>Ai(n,"GET",s,r,d,void 0,i),post:async(n,s,r,d,h)=>Ai(n,"POST",s,d,h,r,i),put:async(n,s,r,d,h)=>Ai(n,"PUT",s,d,h,r,i),head:async(n,s,r,d)=>Ai(n,"HEAD",s,fe(fe({},r),{},{noResolveJson:!0}),d,void 0,i),remove:async(n,s,r,d,h)=>Ai(n,"DELETE",s,d,h,r,i)}}const Ly=um("storage"),{get:Bi,post:ia,put:oc,head:By,remove:bc}=Ly,Yt=um("vectors");var Dl=class{constructor(i,n={},s,r="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.fetch=Ay(s),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var n=this;try{return{data:await i(),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}}},qy=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}};let om;om=Symbol.toStringTag;var Hy=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[om]="BlobDownloadBuilder",this.promise=null}asStream(){return new qy(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}};const $y={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},L0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Gy=class extends Dl{constructor(i,n={},s,r){super(i,n,r,"storage"),this.bucketId=s}async uploadOrUpdate(i,n,s,r){var d=this;return d.handleOperation(async()=>{let h;const f=fe(fe({},L0),r);let p=fe(fe({},d.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),y&&h.append("metadata",d.encodeMetadata(y)),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),y&&!h.has("metadata")&&h.append("metadata",d.encodeMetadata(y))):(h=s,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,y&&(p["x-metadata"]=d.toBase64(d.encodeMetadata(y))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),r!=null&&r.headers&&(p=fe(fe({},p),r.headers));const g=d._removeEmptyFolders(n),v=d._getFinalPath(g),x=await(i=="PUT"?oc:ia)(d.fetch,`${d.url}/object/${v}`,h,fe({headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{path:g,id:x.Id,fullPath:x.Key}})}async upload(i,n,s){return this.uploadOrUpdate("POST",i,n,s)}async uploadToSignedUrl(i,n,s,r){var d=this;const h=d._removeEmptyFolders(i),f=d._getFinalPath(h),p=new URL(d.url+`/object/upload/sign/${f}`);return p.searchParams.set("token",n),d.handleOperation(async()=>{let y;const g=fe({upsert:L0.upsert},r),v=fe(fe({},d.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&s instanceof Blob?(y=new FormData,y.append("cacheControl",g.cacheControl),y.append("",s)):typeof FormData<"u"&&s instanceof FormData?(y=s,y.append("cacheControl",g.cacheControl)):(y=s,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType),{path:h,fullPath:(await oc(d.fetch,p.toString(),y,{headers:v})).Key}})}async createSignedUploadUrl(i,n){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(i);const d=fe({},s.headers);n!=null&&n.upsert&&(d["x-upsert"]="true");const h=await ia(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:d}),f=new URL(s.url+h.url),p=f.searchParams.get("token");if(!p)throw new xr("No token returned by API");return{signedUrl:f.toString(),path:i,token:p}})}async update(i,n,s){return this.uploadOrUpdate("PUT",i,n,s)}async move(i,n,s){var r=this;return r.handleOperation(async()=>await ia(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers}))}async copy(i,n,s){var r=this;return r.handleOperation(async()=>({path:(await ia(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(i,n,s){var r=this;return r.handleOperation(async()=>{let d=r._getFinalPath(i),h=await ia(r.fetch,`${r.url}/object/sign/${d}`,fe({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:r.headers});const f=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${r.url}${h.signedURL}${f}`)}})}async createSignedUrls(i,n,s){var r=this;return r.handleOperation(async()=>{const d=await ia(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:i},{headers:r.headers}),h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return d.map(f=>fe(fe({},f),{},{signedUrl:f.signedURL?encodeURI(`${r.url}${f.signedURL}${h}`):null}))})}download(i,n,s){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),h=d?`?${d}`:"",f=this._getFinalPath(i),p=()=>Bi(this.fetch,`${this.url}/${r}/${f}${h}`,{headers:this.headers,noResolveJson:!0},s);return new Hy(p,this.shouldThrowOnError)}async info(i){var n=this;const s=n._getFinalPath(i);return n.handleOperation(async()=>uc(await Bi(n.fetch,`${n.url}/object/info/${s}`,{headers:n.headers})))}async exists(i){var n=this;const s=n._getFinalPath(i);try{return await By(n.fetch,`${n.url}/object/${s}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(_r(r)&&r instanceof rm){const d=r.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:r}}throw r}}getPublicUrl(i,n){const s=this._getFinalPath(i),r=[],d=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";d!==""&&r.push(d);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&r.push(f);let p=r.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${p}`)}}}async remove(i){var n=this;return n.handleOperation(async()=>await bc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}))}async list(i,n,s){var r=this;return r.handleOperation(async()=>{const d=fe(fe(fe({},$y),n),{},{prefix:i||""});return await ia(r.fetch,`${r.url}/object/list/${r.bucketId}`,d,{headers:r.headers},s)})}async listV2(i,n){var s=this;return s.handleOperation(async()=>{const r=fe({},i);return await ia(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},n)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const Ky="2.95.3",Gi={"X-Client-Info":`storage-js/${Ky}`};var Yy=class extends Dl{constructor(i,n={},s,r){const d=new URL(i);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase."));const h=d.href.replace(/\/$/,""),f=fe(fe({},Gi),n);super(h,f,s,"storage")}async listBuckets(i){var n=this;return n.handleOperation(async()=>{const s=n.listBucketOptionsToQueryString(i);return await Bi(n.fetch,`${n.url}/bucket${s}`,{headers:n.headers})})}async getBucket(i){var n=this;return n.handleOperation(async()=>await Bi(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}))}async createBucket(i,n={public:!1}){var s=this;return s.handleOperation(async()=>await ia(s.fetch,`${s.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}))}async updateBucket(i,n){var s=this;return s.handleOperation(async()=>await oc(s.fetch,`${s.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(i){var n=this;return n.handleOperation(async()=>await ia(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}))}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await bc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Vy=class extends Dl{constructor(i,n={},s){const r=i.replace(/\/$/,""),d=fe(fe({},Gi),n);super(r,d,s,"storage")}async createBucket(i){var n=this;return n.handleOperation(async()=>await ia(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}))}async listBuckets(i){var n=this;return n.handleOperation(async()=>{const s=new URLSearchParams;(i==null?void 0:i.limit)!==void 0&&s.set("limit",i.limit.toString()),(i==null?void 0:i.offset)!==void 0&&s.set("offset",i.offset.toString()),i!=null&&i.sortColumn&&s.set("sortColumn",i.sortColumn),i!=null&&i.sortOrder&&s.set("sortOrder",i.sortOrder),i!=null&&i.search&&s.set("search",i.search);const r=s.toString(),d=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return await Bi(n.fetch,d,{headers:n.headers})})}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await bc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}))}from(i){var n=this;if(!Ry(i))throw new xr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Ny({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(d,h){const f=d[h];return typeof f!="function"?f:async(...p)=>{try{return{data:await f.apply(d,p),error:null}}catch(y){if(r)throw y;return{data:null,error:y}}}}})}},Xy=class extends Dl{constructor(i,n={},s){const r=i.replace(/\/$/,""),d=fe(fe({},Gi),{},{"Content-Type":"application/json"},n);super(r,d,s,"vectors")}async createIndex(i){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{})}async getIndex(i,n){var s=this;return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:s.headers}))}async listIndexes(i){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}))}async deleteIndex(i,n){var s=this;return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:s.headers})||{})}},Qy=class extends Dl{constructor(i,n={},s){const r=i.replace(/\/$/,""),d=fe(fe({},Gi),{},{"Content-Type":"application/json"},n);super(r,d,s,"vectors")}async putVectors(i){var n=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{})}async getVectors(i){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}))}async listVectors(i){var n=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}))}async queryVectors(i){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}))}async deleteVectors(i){var n=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{})}},Jy=class extends Dl{constructor(i,n={},s){const r=i.replace(/\/$/,""),d=fe(fe({},Gi),{},{"Content-Type":"application/json"},n);super(r,d,s,"vectors")}async createBucket(i){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{})}async getBucket(i){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}))}async listBuckets(i={}){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}))}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await Yt.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{})}},Zy=class extends Jy{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new Iy(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,s=this;return n().call(s,i)}async getBucket(i){var n=()=>super.getBucket,s=this;return n().call(s,i)}async listBuckets(i={}){var n=()=>super.listBuckets,s=this;return n().call(s,i)}async deleteBucket(i){var n=()=>super.deleteBucket,s=this;return n().call(s,i)}},Iy=class extends Xy{constructor(i,n,s,r){super(i,n,r),this.vectorBucketName=s}async createIndex(i){var n=()=>super.createIndex,s=this;return n().call(s,fe(fe({},i),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,s=this;return n().call(s,fe(fe({},i),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,s=this;return n().call(s,s.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,s=this;return n().call(s,s.vectorBucketName,i)}index(i){return new Py(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},Py=class extends Qy{constructor(i,n,s,r,d){super(i,n,d),this.vectorBucketName=s,this.indexName=r}async putVectors(i){var n=()=>super.putVectors,s=this;return n().call(s,fe(fe({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(i){var n=()=>super.getVectors,s=this;return n().call(s,fe(fe({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,s=this;return n().call(s,fe(fe({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,s=this;return n().call(s,fe(fe({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,s=this;return n().call(s,fe(fe({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Wy=class extends Yy{constructor(i,n={},s,r){super(i,n,s,r)}from(i){return new Gy(this.url,this.headers,i,this.fetch)}get vectors(){return new Zy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Vy(this.url+"/iceberg",this.headers,this.fetch)}};const cm="2.95.3",Ol=30*1e3,cc=3,Zo=cc*Ol,Fy="http://localhost:9999",eb="supabase.auth.token",tb={"X-Client-Info":`gotrue-js/${cm}`},dc="X-Supabase-Api-Version",dm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ab=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nb=600*1e3;class qi extends Error{constructor(n,s,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function le(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class lb extends qi{constructor(n,s,r){super(n,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function ib(i){return le(i)&&i.name==="AuthApiError"}class Cn extends qi{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class Ca extends qi{constructor(n,s,r,d){super(n,r,d),this.name=s,this.status=r}}class Kt extends Ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Io(i){return le(i)&&i.name==="AuthSessionMissingError"}class jl extends Ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dr extends Ca{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class hr extends Ca{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sb(i){return le(i)&&i.name==="AuthImplicitGrantRedirectError"}class B0 extends Ca{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rb extends Ca{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class hc extends Ca{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Po(i){return le(i)&&i.name==="AuthRetryableFetchError"}class q0 extends Ca{constructor(n,s,r){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class fc extends Ca{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),H0=` 	
\r=`.split(""),ub=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<H0.length;n+=1)i[H0[n].charCodeAt(0)]=-2;for(let n=0;n<gr.length;n+=1)i[gr[n].charCodeAt(0)]=n;return i})();function $0(i,n,s){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(gr[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(gr[r]),n.queuedBits-=6}}function hm(i,n,s){const r=ub[i];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function G0(i){const n=[],s=f=>{n.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},h=f=>{db(f,r,s)};for(let f=0;f<i.length;f+=1)hm(i.charCodeAt(f),d,h);return n.join("")}function ob(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function cb(i,n){for(let s=0;s<i.length;s+=1){let r=i.charCodeAt(s);if(r>55295&&r<=56319){const d=(r-55296)*1024&65535;r=(i.charCodeAt(s+1)-56320&65535|d)+65536,s+=1}ob(r,n)}}function db(i,n,s){if(n.utf8seq===0){if(i<=127){s(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function zl(i){const n=[],s={queue:0,queuedBits:0},r=d=>{n.push(d)};for(let d=0;d<i.length;d+=1)hm(i.charCodeAt(d),s,r);return new Uint8Array(n)}function hb(i){const n=[];return cb(i,s=>n.push(s)),new Uint8Array(n)}function Dn(i){const n=[],s={queue:0,queuedBits:0},r=d=>{n.push(d)};return i.forEach(d=>$0(d,s,r)),$0(null,s,r),n.join("")}function fb(i){return Math.round(Date.now()/1e3)+i}function mb(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",Tn={tested:!1,writable:!1},fm=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tn.tested)return Tn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Tn.tested=!0,Tn.writable=!0}catch{Tn.tested=!0,Tn.writable=!1}return Tn.writable};function gb(i){const n={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((d,h)=>{n[h]=d})}catch{}return s.searchParams.forEach((r,d)=>{n[d]=r}),n}const mm=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),pb=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Rl=async(i,n,s)=>{await i.setItem(n,JSON.stringify(s))},Nn=async(i,n)=>{const s=await i.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},bt=async(i,n)=>{await i.removeItem(n)};class wr{constructor(){this.promise=new wr.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}wr.promiseConstructor=Promise;function fr(i){const n=i.split(".");if(n.length!==3)throw new fc("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!ab.test(n[r]))throw new fc("JWT not in base64url format");return{header:JSON.parse(G0(n[0])),payload:JSON.parse(G0(n[1])),signature:zl(n[2]),raw:{header:n[0],payload:n[1]}}}async function yb(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function bb(i,n){return new Promise((r,d)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await i(h);if(!n(h,null,f)){r(f);return}}catch(f){if(!n(h,f)){d(f);return}}})()})}function vb(i){return("0"+i.toString(16)).substr(-2)}function xb(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let d="";for(let h=0;h<56;h++)d+=s.charAt(Math.floor(Math.random()*r));return d}return crypto.getRandomValues(n),Array.from(n,vb).join("")}async function _b(i){const s=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",s),d=new Uint8Array(r);return Array.from(d).map(h=>String.fromCharCode(h)).join("")}async function wb(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await _b(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function El(i,n,s=!1){const r=xb();let d=r;s&&(d+="/PASSWORD_RECOVERY"),await Rl(i,`${n}-code-verifier`,d);const h=await wb(r);return[h,r===h?"plain":"s256"]}const Sb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jb(i){const n=i.headers.get(dc);if(!n||!n.match(Sb))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Eb(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function kb(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Tb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kl(i){if(!Tb.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wo(){const i={};return new Proxy(i,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nb(i,n){return new Proxy(i,{get:(s,r,d)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const h=r.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,d)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,r,d)}})}function K0(i){return JSON.parse(JSON.stringify(i))}const On=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Ab=[502,503,504];async function Y0(i){var n;if(!pb(i))throw new hc(On(i),0);if(Ab.includes(i.status))throw new hc(On(i),i.status);let s;try{s=await i.json()}catch(h){throw new Cn(On(h),h)}let r;const d=jb(i);if(d&&d.getTime()>=dm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new q0(On(s),i.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Kt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new q0(On(s),i.status,s.weak_password.reasons);throw new lb(On(s),i.status||500,r)}const Ob=(i,n,s,r)=>{const d={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),d.body=JSON.stringify(r),Object.assign(Object.assign({},d),s))};async function de(i,n,s,r){var d;const h=Object.assign({},r==null?void 0:r.headers);h[dc]||(h[dc]=dm["2024-01-01"].name),r!=null&&r.jwt&&(h.Authorization=`Bearer ${r.jwt}`);const f=(d=r==null?void 0:r.query)!==null&&d!==void 0?d:{};r!=null&&r.redirectTo&&(f.redirect_to=r.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await Rb(i,n,s+p,{headers:h,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(y):{data:Object.assign({},y),error:null}}async function Rb(i,n,s,r,d,h){const f=Ob(n,r,d,h);let p;try{p=await i(s,Object.assign({},f))}catch(y){throw console.error(y),new hc(On(y),0)}if(p.ok||await Y0(p),r!=null&&r.noResolveJson)return p;try{return await p.json()}catch(y){await Y0(y)}}function la(i){var n;let s=null;Db(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=fb(i.expires_in)));const r=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:s,user:r},error:null}}function V0(i){const n=la(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(n.data.weak_password=i.weak_password),n}function sn(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function Cb(i){return{data:i,error:null}}function zb(i){const{action_link:n,email_otp:s,hashed_token:r,redirect_to:d,verification_type:h}=i,f=vr(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:r,redirect_to:d,verification_type:h},y=Object.assign({},f);return{data:{properties:p,user:y},error:null}}function X0(i){return i}function Db(i){return i.access_token&&i.refresh_token&&i.expires_in}const Fo=["global","local","others"];class Ub{constructor({url:n="",headers:s={},fetch:r}){this.url=n,this.headers=s,this.fetch=mm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=Fo[0]){if(Fo.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fo.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,s={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:sn})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:s}=n,r=vr(n,["options"]),d=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(d.new_email=r==null?void 0:r.newEmail,delete d.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:zb,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(le(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:sn})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,r,d,h,f,p,y;try{const g={nextPage:null,lastPage:0,total:0},v=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(h=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:X0});if(v.error)throw v.error;const x=await v.json(),k=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(y=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return N.length>0&&(N.forEach(S=>{const z=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(S.split(";")[1].split("=")[1]);g[`${H}Page`]=z}),g.total=parseInt(k)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(le(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){kl(n);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:sn})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){kl(n);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:sn})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,s=!1){kl(n);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:sn})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){kl(n.userId);try{const{data:s,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:s,error:r}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _deleteFactor(n){kl(n.userId),kl(n.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,r,d,h,f,p,y;try{const g={nextPage:null,lastPage:0,total:0},v=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(h=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:X0});if(v.error)throw v.error;const x=await v.json(),k=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(y=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return N.length>0&&(N.forEach(S=>{const z=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(S.split(";")[1].split("=")[1]);g[`${H}Page`]=z}),g.total=parseInt(k)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(le(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}}function Q0(i={}){return{getItem:n=>i[n]||null,setItem:(n,s)=>{i[n]=s},removeItem:n=>{delete i[n]}}}const Tl={debug:!!(globalThis&&fm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Mb extends gm{}async function Lb(i,n,s){Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async d=>{if(d){Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,d.name);try{return await s()}finally{Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,d.name)}}else{if(n===0)throw Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Mb(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Tl.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Bb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pm(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function qb(i){return parseInt(i,16)}function Hb(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function $b(i){var n;const{chainId:s,domain:r,expirationTime:d,issuedAt:h=new Date,nonce:f,notBefore:p,requestId:y,resources:g,scheme:v,uri:x,version:k}=i;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const N=pm(i.address),S=v?`${v}://${r}`:r,z=i.statement?`${i.statement}
`:"",H=`${S} wants you to sign in with your Ethereum account:
${N}

${z}`;let V=`URI: ${x}
Version: ${k}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(d&&(V+=`
Expiration Time: ${d.toISOString()}`),p&&(V+=`
Not Before: ${p.toISOString()}`),y&&(V+=`
Request ID: ${y}`),g){let I=`
Resources:`;for(const K of g){if(!K||typeof K!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${K}`);I+=`
- ${K}`}V+=I}return`${H}
${V}`}class ut extends Error{constructor({message:n,code:s,cause:r,name:d}){var h;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(h=d??(r instanceof Error?r.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=s}}class pr extends ut{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function Gb({error:i,options:n}){var s,r,d;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((s=h.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((r=h.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((d=h.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new ut({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return h.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(ym(f)){if(h.rp.id!==f)return new ut({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Kb({error:i,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new ut({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(ym(r)){if(s.rpId!==r)return new ut({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class Yb{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Vb=new Yb;function Xb(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:s,excludeCredentials:r}=i,d=vr(i,["challenge","user","excludeCredentials"]),h=zl(n).buffer,f=Object.assign(Object.assign({},s),{id:zl(s.id).buffer}),p=Object.assign(Object.assign({},d),{challenge:h,user:f});if(r&&r.length>0){p.excludeCredentials=new Array(r.length);for(let y=0;y<r.length;y++){const g=r[y];p.excludeCredentials[y]=Object.assign(Object.assign({},g),{id:zl(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function Qb(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:s}=i,r=vr(i,["challenge","allowCredentials"]),d=zl(n).buffer,h=Object.assign(Object.assign({},r),{challenge:d});if(s&&s.length>0){h.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];h.allowCredentials[f]=Object.assign(Object.assign({},p),{id:zl(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function Jb(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i;return{id:i.id,rawId:i.id,response:{attestationObject:Dn(new Uint8Array(i.response.attestationObject)),clientDataJSON:Dn(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Zb(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i,r=i.getClientExtensionResults(),d=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Dn(new Uint8Array(d.authenticatorData)),clientDataJSON:Dn(new Uint8Array(d.clientDataJSON)),signature:Dn(new Uint8Array(d.signature)),userHandle:d.userHandle?Dn(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function ym(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function J0(){var i,n;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Ib(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new pr("Browser returned unexpected credential type",n)}:{data:null,error:new pr("Empty credential response",n)}}catch(n){return{data:null,error:Gb({error:n,options:i})}}}async function Pb(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new pr("Browser returned unexpected credential type",n)}:{data:null,error:new pr("Empty credential response",n)}}catch(n){return{data:null,error:Kb({error:n,options:i})}}}const Wb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Fb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yr(...i){const n=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),s=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),r={};for(const d of i)if(d)for(const h in d){const f=d[h];if(f!==void 0)if(Array.isArray(f))r[h]=f;else if(s(f))r[h]=f;else if(n(f)){const p=r[h];n(p)?r[h]=yr(p,f):r[h]=yr(f)}else r[h]=f}return r}function ev(i,n){return yr(Wb,i,n||{})}function tv(i,n){return yr(Fb,i,n||{})}class av{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:r,signal:d},h){var f;try{const{data:p,error:y}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!p)return{data:null,error:y};const g=d??Vb.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:v}=p.webauthn.credential_options.publicKey;if(!v.name){const x=r;if(x)v.name=`${v.id}:${x}`;else{const N=(await this.client.getUser()).data.user,S=((f=N==null?void 0:N.user_metadata)===null||f===void 0?void 0:f.name)||(N==null?void 0:N.email)||(N==null?void 0:N.id)||"User";v.name=`${v.id}:${S}`}}v.displayName||(v.displayName=v.name)}switch(p.webauthn.type){case"create":{const v=ev(p.webauthn.credential_options.publicKey,h==null?void 0:h.create),{data:x,error:k}=await Ib({publicKey:v,signal:g});return x?{data:{factorId:n,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:x}},error:null}:{data:null,error:k}}case"request":{const v=tv(p.webauthn.credential_options.publicKey,h==null?void 0:h.request),{data:x,error:k}=await Pb(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:v,signal:g}));return x?{data:{factorId:n,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:x}},error:null}:{data:null,error:k}}}}catch(p){return le(p)?{data:null,error:p}:{data:null,error:new Cn("Unexpected error in challenge",p)}}}async _verify({challengeId:n,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!s)return{data:null,error:new qi("rpId is required for WebAuthn authentication")};try{if(!J0())return{data:null,error:new Cn("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:r},signal:d},{request:h});if(!f)return{data:null,error:p};const{webauthn:y}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:y.type,rpId:s,rpOrigins:r,credential_response:y.credential_response}})}catch(f){return le(f)?{data:null,error:f}:{data:null,error:new Cn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!s)return{data:null,error:new qi("rpId is required for WebAuthn registration")};try{if(!J0())return{data:null,error:new Cn("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(v=>{var x;return(x=v.data)===null||x===void 0?void 0:x.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===n&&k.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:p};const{data:y,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:d},{create:h});return y?this._verify({factorId:f.id,challengeId:y.challengeId,webauthn:{rpId:s,rpOrigins:r,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:g}}catch(f){return le(f)?{data:null,error:f}:{data:null,error:new Cn("Unexpected error in register",f)}}}}Bb();const nv={url:Fy,storageKey:eb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Z0(i,n,s){return await s()}const Nl={};class Hi{get jwks(){var n,s;return(s=(n=Nl[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){Nl[this.storageKey]=Object.assign(Object.assign({},Nl[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=Nl[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Nl[this.storageKey]=Object.assign(Object.assign({},Nl[this.storageKey]),{cachedAt:n})}constructor(n){var s,r,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},nv),n);if(this.storageKey=h.storageKey,this.instanceID=(s=Hi.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Hi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&vt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new Ub({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=mm(h.fetch),this.lock=h.lock||Z0,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&vt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Lb:this.lock=Z0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new av(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:fm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Q0(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Q0(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(p){this._debug("#broadcastChannel","error",p)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},r="none";if(vt()&&(s=gb(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),vt()&&this.detectSessionInUrl&&r!=="none"){const{data:d,error:h}=await this._getSessionFromURL(s,r);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),sb(h)){const y=(n=h.details)===null||n===void 0?void 0:n.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:p}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return le(s)?this._returnResult({error:s}):this._returnResult({error:new Cn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,r,d;try{const h=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(d=n==null?void 0:n.options)===null||d===void 0?void 0:d.captchaToken}},xform:la}),{data:f,error:p}=h;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const y=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(h){if(le(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var s,r,d;try{let h;if("email"in n){const{email:v,password:x,options:k}=n;let N=null,S=null;this.flowType==="pkce"&&([N,S]=await El(this.storage,this.storageKey)),h=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:v,password:x,data:(s=k==null?void 0:k.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:N,code_challenge_method:S},xform:la})}else if("phone"in n){const{phone:v,password:x,options:k}=n;h=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(r=k==null?void 0:k.data)!==null&&r!==void 0?r:{},channel:(d=k==null?void 0:k.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:la})}else throw new dr("You must provide either an email or phone number and a password");const{data:f,error:p}=h;if(p||!f)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const y=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(h){if(await bt(this.storage,`${this.storageKey}-code-verifier`),le(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let s;if("email"in n){const{email:h,password:f,options:p}=n;s=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:V0})}else if("phone"in n){const{phone:h,password:f,options:p}=n;s=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:V0})}else throw new dr("You must provide either an email or phone number and a password");const{data:r,error:d}=s;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!r||!r.session||!r.user){const h=new jl;return this._returnResult({data:{user:null,session:null},error:h})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:d})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,r,d,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(d=n.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,r,d,h,f,p,y,g,v,x,k;let N,S;if("message"in n)N=n.message,S=n.signature;else{const{chain:z,wallet:H,statement:V,options:I}=n;let K;if(vt())if(typeof H=="object")K=H;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")K=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=H}const Z=new URL((s=I==null?void 0:I.url)!==null&&s!==void 0?s:window.location.href),ce=await K.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ce||ce.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=pm(ce[0]);let Q=(r=I==null?void 0:I.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Q){const Y=await K.request({method:"eth_chainId"});Q=qb(Y)}const L={domain:Z.host,address:W,statement:V,uri:Z.href,version:"1",chainId:Q,nonce:(d=I==null?void 0:I.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(f=(h=I==null?void 0:I.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=I==null?void 0:I.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(y=I==null?void 0:I.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(g=I==null?void 0:I.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=I==null?void 0:I.signInWithEthereum)===null||v===void 0?void 0:v.resources};N=$b(L),S=await K.request({method:"personal_sign",params:[Hb(N),W]})}try{const{data:z,error:H}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:S},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(k=n.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:la});if(H)throw H;if(!z||!z.session||!z.user){const V=new jl;return this._returnResult({data:{user:null,session:null},error:V})}return z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),this._returnResult({data:Object.assign({},z),error:H})}catch(z){if(le(z))return this._returnResult({data:{user:null,session:null},error:z});throw z}}async signInWithSolana(n){var s,r,d,h,f,p,y,g,v,x,k,N;let S,z;if("message"in n)S=n.message,z=n.signature;else{const{chain:H,wallet:V,statement:I,options:K}=n;let Z;if(vt())if(typeof V=="object")Z=V;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))Z=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(K!=null&&K.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=V}const ce=new URL((s=K==null?void 0:K.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in Z&&Z.signIn){const W=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},K==null?void 0:K.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),I?{statement:I}:null));let Q;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")Q=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)Q=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)S=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),z=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${ce.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(d=(r=K==null?void 0:K.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((h=K==null?void 0:K.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${K.signInWithSolana.notBefore}`]:[],...!((f=K==null?void 0:K.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${K.signInWithSolana.expirationTime}`]:[],...!((p=K==null?void 0:K.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${K.signInWithSolana.chainId}`]:[],...!((y=K==null?void 0:K.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${K.signInWithSolana.nonce}`]:[],...!((g=K==null?void 0:K.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${K.signInWithSolana.requestId}`]:[],...!((x=(v=K==null?void 0:K.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||x===void 0)&&x.length?["Resources",...K.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const W=await Z.signMessage(new TextEncoder().encode(S),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=W}}try{const{data:H,error:V}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Dn(z)},!((k=n.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:la});if(V)throw V;if(!H||!H.session||!H.user){const I=new jl;return this._returnResult({data:{user:null,session:null},error:I})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:V})}catch(H){if(le(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async _exchangeCodeForSession(n){const s=await Nn(this.storage,`${this.storageKey}-code-verifier`),[r,d]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new rb;const{data:h,error:f}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:la});if(await bt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const p=new jl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:d??null}),error:f})}catch(h){if(await bt(this.storage,`${this.storageKey}-code-verifier`),le(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:s,provider:r,token:d,access_token:h,nonce:f}=n,p=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:d,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:la}),{data:y,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y||!y.session||!y.user){const v=new jl;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:g})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,r,d,h,f;try{if("email"in n){const{email:p,options:y}=n;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await El(this.storage,this.storageKey));const{error:x}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=y==null?void 0:y.data)!==null&&s!==void 0?s:{},create_user:(r=y==null?void 0:y.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:y==null?void 0:y.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in n){const{phone:p,options:y}=n,{data:g,error:v}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(d=y==null?void 0:y.data)!==null&&d!==void 0?d:{},create_user:(h=y==null?void 0:y.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(f=y==null?void 0:y.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:v})}throw new dr("You must provide either an email or phone number.")}catch(p){if(await bt(this.storage,`${this.storageKey}-code-verifier`),le(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var s,r;try{let d,h;"options"in n&&(d=(s=n.options)===null||s===void 0?void 0:s.redirectTo,h=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:p}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:d,xform:la});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,g=f.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(d){if(le(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(n){var s,r,d,h,f;try{let p=null,y=null;this.flowType==="pkce"&&([p,y]=await El(this.storage,this.storageKey));const g=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((d=n==null?void 0:n.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:y}),headers:this.headers,xform:Cb});return!((h=g.data)===null||h===void 0)&&h.url&&vt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(p){if(await bt(this.storage,`${this.storageKey}-code-verifier`),le(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;if(r)throw r;if(!s)throw new Kt;const{error:d}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:r,type:d,options:h}=n,{error:f}=await de(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:r,type:d,options:h}=n,{data:f,error:p}=await de(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p})}throw new dr("You must provide either an email or phone number and a type")}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Zo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const f=await Nn(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=Wo()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Nb(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:d,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:sn}):await this._useSession(async s=>{var r,d,h;const{data:f,error:p}=s;if(p)throw p;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0,xform:sn})})}catch(s){if(le(s))return Io(s)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async r=>{const{data:d,error:h}=r;if(h)throw h;if(!d.session)throw new Kt;const f=d.session;let p=null,y=null;this.flowType==="pkce"&&n.email!=null&&([p,y]=await El(this.storage,this.storageKey));const{data:g,error:v}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:y}),jwt:f.access_token,xform:sn});if(v)throw v;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await bt(this.storage,`${this.storageKey}-code-verifier`),le(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Kt;const s=Date.now()/1e3;let r=s,d=!0,h=null;const{payload:f}=fr(n.access_token);if(f.exp&&(r=f.exp,d=r<=s),d){const{data:p,error:y}=await this._callRefreshToken(n.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p)return{data:{user:null,session:null},error:null};h=p}else{const{data:p,error:y}=await this._getUser(n.access_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});h={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(s){if(le(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var r;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(r=f.session)!==null&&r!==void 0?r:void 0}if(!(n!=null&&n.refresh_token))throw new Kt;const{data:d,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!vt())throw new hr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new hr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new B0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new B0("No code detected.");const{data:I,error:K}=await this._exchangeCodeForSession(n.code);if(K)throw K;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:d,access_token:h,refresh_token:f,expires_in:p,expires_at:y,token_type:g}=n;if(!h||!p||!f||!g)throw new hr("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(p);let k=v+x;y&&(k=parseInt(y));const N=k-v;N*1e3<=Ol&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${x}s`);const S=k-x;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,k,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,k,v);const{data:z,error:H}=await this._getUser(h);if(H)throw H;const V={provider_token:r,provider_refresh_token:d,access_token:h,expires_in:x,expires_at:k,refresh_token:f,token_type:g,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:n.type},error:null})}catch(r){if(le(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Nn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:d,error:h}=s;if(h&&!Io(h))return this._returnResult({error:h});const f=(r=d.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(ib(p)&&(p.status===404||p.status===401||p.status===403)||Io(p)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=mb(),r={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async s=>{var r,d;try{const{data:{session:h},error:f}=s;if(f)throw f;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((d=this.stateChangeEmitters.get(n))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,s={}){let r=null,d=null;this.flowType==="pkce"&&([r,d]=await El(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:d,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(h){if(await bt(this.storage,`${this.storageKey}-code-verifier`),le(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:r,error:d}=await this._useSession(async h=>{var f,p,y,g,v;const{data:x,error:k}=h;if(k)throw k;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(y=n.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",N,{headers:this.headers,jwt:(v=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(d)throw d;return vt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:n.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(le(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var r;try{const{error:d,data:{session:h}}=s;if(d)throw d;const{options:f,provider:p,token:y,access_token:g,nonce:v}=n,x=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=h==null?void 0:h.access_token)!==null&&r!==void 0?r:void 0,body:{provider:p,id_token:y,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:la}),{data:k,error:N}=x;return N?this._returnResult({data:{user:null,session:null},error:N}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new jl}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:N}))}catch(d){if(await bt(this.storage,`${this.storageKey}-code-verifier`),le(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var r,d;const{data:h,error:f}=s;if(f)throw f;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(d=(r=h.session)===null||r===void 0?void 0:r.access_token)!==null&&d!==void 0?d:void 0})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await bb(async d=>(d>0&&await yb(200*Math.pow(2,d-1)),this._debug(s,"refreshing attempt",d),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:la})),(d,h)=>{const f=200*Math.pow(2,d);return h&&Po(h)&&Date.now()+f-r<Ol})}catch(r){if(this._debug(s,"error",r),le(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",r),vt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const d=await Nn(this.storage,this.storageKey);if(d&&this.userStorage){let f=await Nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:d.user},await Rl(this.userStorage,this.storageKey+"-user",f)),d.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:Wo()}else if(d&&!d.user&&!d.user){const f=await Nn(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(d.user=f.user,await bt(this.storage,this.storageKey+"-user"),await Rl(this.storage,this.storageKey,d)):d.user=Wo()}if(this._debug(r,"session from storage",d),!this._isValidSession(d)){this._debug(r,"session is not valid"),d!==null&&await this._removeSession();return}const h=((s=d.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Zo;if(this._debug(r,`session has${h?"":" not"} expired with margin of ${Zo}s`),h){if(this.autoRefreshToken&&d.refresh_token){const{error:f}=await this._callRefreshToken(d.refresh_token);f&&(console.error(f),Po(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(d.access_token);!p&&(f!=null&&f.user)?(d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(r,"error",d),console.error(d);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var s,r;if(!n)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new wr;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new Kt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const p={data:h.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(h){if(this._debug(d,"error",h),le(h)){const f={data:null,error:h};return Po(h)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(h),h}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(n,s,r=!0){const d=`#_notifyAllSubscribers(${n})`;this._debug(d,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:s});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(y){h.push(y)}});if(await Promise.all(f),h.length>0){for(let p=0;p<h.length;p+=1)console.error(h[p]);throw h[0]}}finally{this._debug(d,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Rl(this.userStorage,this.storageKey+"-user",{user:s.user});const d=Object.assign({},s);delete d.user;const h=K0(d);await Rl(this.storage,this.storageKey,h)}else{const d=K0(s);await Rl(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ol);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((r.expires_at*1e3-n)/Ol);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${Ol}ms, refresh threshold is ${cc} ticks`),d<=cc&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof gm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,r){const d=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&d.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&d.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[h,f]=await El(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});d.push(p.toString())}if(r!=null&&r.queryParams){const h=new URLSearchParams(r.queryParams);d.push(h.toString())}return r!=null&&r.skipBrowserRedirect&&d.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${d.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var r;const{data:d,error:h}=s;return h?this._returnResult({data:null,error:h}):await de(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var r,d;const{data:h,error:f}=s;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:y,error:g}=await de(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(r=h==null?void 0:h.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&y.type==="totp"&&(!((d=y==null?void 0:y.totp)===null||d===void 0)&&d.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:d,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Jb(n.webauthn.credential_response):Zb(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:y}=await de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:y}))})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:d,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=await de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Xb(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Qb(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const d={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=s==null?void 0:s.factors)!==null&&n!==void 0?n:[])d.all.push(h),h.status==="verified"&&d[h.factor_type].push(h);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(n){var s,r,d,h;if(n)try{const{payload:N}=fr(n);let S=null;N.aal&&(S=N.aal);let z=S;const{data:{user:H},error:V}=await this.getUser(n);if(V)return this._returnResult({data:null,error:V});((r=(s=H==null?void 0:H.factors)===null||s===void 0?void 0:s.filter(Z=>Z.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(z="aal2");const K=N.amr||[];return{data:{currentLevel:S,nextLevel:z,currentAuthenticationMethods:K},error:null}}catch(N){if(le(N))return this._returnResult({data:null,error:N});throw N}const{data:{session:f},error:p}=await this.getSession();if(p)return this._returnResult({data:null,error:p});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:y}=fr(f.access_token);let g=null;y.aal&&(g=y.aal);let v=g;((h=(d=f.user.factors)===null||d===void 0?void 0:d.filter(N=>N.status==="verified"))!==null&&h!==void 0?h:[]).length>0&&(v="aal2");const k=y.amr||[];return{data:{currentLevel:g,nextLevel:v,currentAuthenticationMethods:k},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:r},error:d}=s;return d?this._returnResult({data:null,error:d}):r?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:d},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Kt});const f=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&vt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:d},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Kt});const f=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&vt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:r},error:d}=s;return d?this._returnResult({data:null,error:d}):r?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Kt})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let r=s.keys.find(p=>p.kid===n);if(r)return r;const d=Date.now();if(r=this.jwks.keys.find(p=>p.kid===n),r&&this.jwks_cached_at+nb>d)return r;const{data:h,error:f}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=d,r=h.keys.find(p=>p.kid===n),!r)?null:r}async getClaims(n,s={}){try{let r=n;if(!r){const{data:N,error:S}=await this.getSession();if(S||!N.session)return this._returnResult({data:null,error:S});r=N.session.access_token}const{header:d,payload:h,signature:f,raw:{header:p,payload:y}}=fr(r);s!=null&&s.allowExpired||Eb(h.exp);const g=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!g){const{error:N}=await this.getUser(r);if(N)throw N;return{data:{claims:h,header:d,signature:f},error:null}}const v=kb(d.alg),x=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,x,f,hb(`${p}.${y}`)))throw new fc("Invalid JWT signature");return{data:{claims:h,header:d,signature:f},error:null}}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}}Hi.nextInstanceID={};const lv=Hi,iv="2.95.3";let Oi="";typeof Deno<"u"?Oi="deno":typeof document<"u"?Oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oi="react-native":Oi="node";const sv={"X-Client-Info":`supabase-js-${Oi}/${iv}`},rv={headers:sv},uv={schema:"public"},ov={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cv={};function $i(i){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$i(i)}function dv(i,n){if($i(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,n);if($i(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function hv(i){var n=dv(i,"string");return $i(n)=="symbol"?n:n+""}function fv(i,n,s){return(n=hv(n))in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}function I0(i,n){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),s.push.apply(s,r)}return s}function et(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?I0(Object(s),!0).forEach(function(r){fv(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):I0(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}const mv=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),gv=()=>Headers,pv=(i,n,s)=>{const r=mv(s),d=gv();return async(h,f)=>{var p;const y=(p=await n())!==null&&p!==void 0?p:i;let g=new d(f==null?void 0:f.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${y}`),r(h,et(et({},f),{},{headers:g}))}};function yv(i){return i.endsWith("/")?i:i+"/"}function bv(i,n){var s,r;const{db:d,auth:h,realtime:f,global:p}=i,{db:y,auth:g,realtime:v,global:x}=n,k={db:et(et({},y),d),auth:et(et({},g),h),realtime:et(et({},v),f),storage:{},global:et(et(et({},x),p),{},{headers:et(et({},(s=x==null?void 0:x.headers)!==null&&s!==void 0?s:{}),(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return i.accessToken?k.accessToken=i.accessToken:delete k.accessToken,k}function vv(i){const n=i==null?void 0:i.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yv(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var xv=class extends lv{constructor(i){super(i)}},_v=class{constructor(i,n,s){var r,d;this.supabaseUrl=i,this.supabaseKey=n;const h=vv(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:uv,realtime:cv,auth:et(et({},ov),{},{storageKey:f}),global:rv},y=bv(s??{},p);if(this.storageKey=(r=y.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(d=y.global.headers)!==null&&d!==void 0?d:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=y.auth)!==null&&g!==void 0?g:{},this.headers,y.global.fetch)}this.fetch=pv(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(et({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new iy(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch,timeout:y.db.timeout,urlLengthLimit:y.db.urlLengthLimit}),this.storage=new Wy(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Pp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,s)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,s;if(i.accessToken)return await i.accessToken();const{data:r}=await i.auth.getSession();return(n=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:d,storageKey:h,flowType:f,lock:p,debug:y,throwOnError:g},v,x){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xv({url:this.authUrl.href,headers:et(et({},k),v),storageKey:h,autoRefreshToken:i,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:d,flowType:f,lock:p,debug:y,throwOnError:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new wy(this.realtimeUrl.href,et(et({},i),{},{params:et(et({},{apikey:this.supabaseKey}),i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(i,n,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const wv=(i,n,s)=>new _v(i,n,s);function Sv(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const n=i.version;if(n==null)return!1;const s=n.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Sv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bm="https://prtogxfwngpkgmyzeirg.supabase.co",jv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBydG9neGZ3bmdwa2dteXplaXJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAxMjk5NTksImV4cCI6MjA4NTcwNTk1OX0.zRDVCETeF1SpZw8BlyLHGziNNgSa-rXnw0jst-Y0fPw",Ae=wv(bm,jv),Ev=bm,vm=X.createContext(void 0),kv=({children:i})=>{const[n,s]=X.useState(null),[r,d]=X.useState(null),[h,f]=X.useState(null),[p,y]=X.useState(!0),g=X.useCallback(async N=>{const{data:S}=await Ae.from("profiles").select("*").eq("id",N).single();S&&d(z=>z&&z.id===S.id&&z.rol===S.rol&&z.ad_soyad===S.ad_soyad&&z.kullanici_adi===S.kullanici_adi&&JSON.stringify(z.atanan_dersler)===JSON.stringify(S.atanan_dersler)?z:S)},[]),v=X.useCallback(async()=>{n&&await g(n.id)},[n,g]);X.useEffect(()=>{Ae.auth.getSession().then(({data:{session:S}})=>{f(S),s((S==null?void 0:S.user)??null),S!=null&&S.user&&g(S.user.id),y(!1)});const{data:{subscription:N}}=Ae.auth.onAuthStateChange((S,z)=>{f(z),s((z==null?void 0:z.user)??null),z!=null&&z.user?g(z.user.id):d(null)});return()=>N.unsubscribe()},[g]);const x=async(N,S)=>{const z=`${N}@tablogorusler.local`,{error:H}=await Ae.auth.signInWithPassword({email:z,password:S});return H?{error:"Kullanc ad veya ifre hatal!"}:{error:null}},k=async()=>{await Ae.auth.signOut(),d(null)};return c.jsx(vm.Provider,{value:{user:n,profile:r,session:h,loading:p,signIn:x,signOut:k,refreshProfile:v},children:i})},vc=()=>{const i=X.useContext(vm);if(!i)throw new Error("useAuth must be used within AuthProvider");return i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=(...i)=>i.filter((n,s,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===s).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,r)=>r?r.toUpperCase():s.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=i=>{const n=Nv(i);return n.charAt(0).toUpperCase()+n.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Av={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=X.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:d="",children:h,iconNode:f,...p},y)=>X.createElement("svg",{ref:y,...Av,width:n,height:n,stroke:i,strokeWidth:r?Number(s)*24/Number(n):s,className:xm("lucide",d),...!h&&!Ov(p)&&{"aria-hidden":"true"},...p},[...f.map(([g,v])=>X.createElement(g,v)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(i,n)=>{const s=X.forwardRef(({className:r,...d},h)=>X.createElement(Rv,{ref:h,iconNode:n,className:xm(`lucide-${Tv(P0(i))}`,`lucide-${i}`,r),...d}));return s.displayName=P0(i),s};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xc=we("book-open",Cv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zn=we("check",zv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_m=we("chevron-down",Dv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Mv=we("chevron-left",Uv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bv=we("chevron-right",Lv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Hv=we("chevron-up",qv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],Gv=we("chevrons-left",$v);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],Yv=we("chevrons-right",Kv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wm=we("circle-alert",Vv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qv=we("circle-check-big",Xv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ec=we("circle-check",Jv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tc=we("circle-x",Zv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zi=we("clock",Iv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Wv=we("database",Pv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ex=we("eye-off",Fv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sm=we("eye",tx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nx=we("file-text",ax);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ix=we("funnel",lx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],br=we("history",sx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ux=we("layout-dashboard",rx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],cx=we("log-in",ox);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hx=we("log-out",dx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],mx=we("message-square",fx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],px=we("panel-left-close",gx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],bx=we("panel-left",yx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ac=we("pen-line",vx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Di=we("pen",xx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mc=we("plus",_x);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Sx=we("rotate-ccw",wx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gc=we("save",jx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kx=we("search",Ex);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nx=we("shield-check",Tx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Ox=we("table",Ax);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Un=we("trash-2",Rx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zx=we("triangle-alert",Cx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],nc=we("undo",Dx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],W0=we("user-plus",Ux);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],F0=we("users",Mx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ha=we("x",Lx),Bx=()=>{const{signIn:i}=vc(),[n,s]=X.useState(""),[r,d]=X.useState(""),[h,f]=X.useState(""),[p,y]=X.useState(!1),g=async v=>{if(v.preventDefault(),!n||!r){f("Ltfen kullanc ad ve ifre giriniz.");return}y(!0),f("");const{error:x}=await i(n,r);x&&f(x),y(!1)};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 flex items-center justify-center p-6",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-600 rounded-3xl shadow-2xl shadow-blue-500/30 mb-6",children:c.jsx(xc,{size:40,className:"text-white"})}),c.jsx("h1",{className:"text-3xl font-black text-white tracking-tight mb-2",children:"E-erik nceleme Sistemi"}),c.jsx("p",{className:"text-blue-300/70 text-sm font-medium",children:"Mfredat Dzenleme ve Onay Platformu"})]}),c.jsxs("form",{onSubmit:g,className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-[2.5rem] p-10 shadow-2xl",children:[h&&c.jsxs("div",{className:"flex items-center gap-3 bg-red-500/20 border border-red-400/30 text-red-200 px-5 py-4 rounded-2xl mb-6 text-sm font-bold",children:[c.jsx(wm,{size:18}),h]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-blue-300/60 uppercase tracking-[0.2em] ml-2 mb-2 block",children:"Kullanc Ad"}),c.jsx("input",{type:"text",autoFocus:!0,className:"w-full bg-white/10 border-2 border-white/10 text-white placeholder-white/30 p-4 rounded-2xl font-bold focus:ring-4 focus:ring-blue-500/30 focus:border-blue-400 outline-none transition-all text-lg",placeholder:"Kullanc adnz giriniz",value:n,onChange:v=>s(v.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-blue-300/60 uppercase tracking-[0.2em] ml-2 mb-2 block",children:"ifre"}),c.jsx("input",{type:"password",className:"w-full bg-white/10 border-2 border-white/10 text-white placeholder-white/30 p-4 rounded-2xl font-bold focus:ring-4 focus:ring-blue-500/30 focus:border-blue-400 outline-none transition-all text-lg",placeholder:"",value:r,onChange:v=>d(v.target.value)})]})]}),c.jsx("button",{type:"submit",disabled:p,className:"w-full mt-8 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white font-black py-5 rounded-2xl transition-all shadow-2xl shadow-blue-500/30 flex items-center justify-center gap-3 uppercase tracking-widest text-sm active:scale-[0.98]",children:p?c.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx(cx,{size:20}),"GR YAP"]})})]}),c.jsx("p",{className:"text-center text-blue-400/40 text-xs mt-8 font-bold",children:"Eitim Materyalleri nceleme Sistemi v2.0"})]})})},qx=({activeTab:i,setActiveTab:n,userRole:s,collapsed:r,onToggle:d})=>{const h=[{id:"dashboard",label:"Dashboard",icon:c.jsx(ux,{size:20})},{id:"table",label:"Veri nceleme & Onay",icon:c.jsx(Ox,{size:20})}];return(s==="admin"||s==="moderator")&&h.push({id:"history",label:"Deiiklik Gemii",icon:c.jsx(br,{size:20})}),s==="admin"&&h.push({id:"admin",label:"Ynetim Paneli",icon:c.jsx(Nx,{size:20})}),c.jsxs("aside",{className:`${r?"w-[72px]":"w-64"} bg-slate-900 text-white flex flex-col shadow-2xl z-20 transition-all duration-300 ease-in-out flex-shrink-0`,children:[c.jsxs("div",{className:`${r?"p-4 justify-center":"p-6"} flex items-center gap-3 border-b border-slate-800/50`,children:[c.jsx("div",{className:"bg-blue-600 p-2 rounded-2xl shadow-lg shadow-blue-500/20 flex-shrink-0",children:c.jsx(xc,{size:20,className:"text-white"})}),!r&&c.jsx("h1",{className:"text-lg font-black tracking-tight uppercase whitespace-nowrap",children:"MEB Panel"})]}),c.jsx("button",{onClick:d,className:"mx-auto mt-3 mb-1 p-2 text-slate-500 hover:text-white hover:bg-slate-800 rounded-xl transition-all",title:r?"Paneli A":"Paneli Kapat",children:r?c.jsx(bx,{size:18}):c.jsx(px,{size:18})}),c.jsx("nav",{className:`flex-1 ${r?"px-2 py-2":"p-4"} space-y-2`,children:h.map(f=>c.jsxs("button",{onClick:()=>n(f.id),title:r?f.label:void 0,className:`w-full flex items-center ${r?"justify-center px-2 py-3":"gap-3 px-4 py-3"} rounded-[1.25rem] transition-all duration-300 ${i===f.id?"bg-blue-600 text-white shadow-xl shadow-blue-500/30":"text-slate-400 hover:bg-slate-800/50 hover:text-white"}`,children:[c.jsx("span",{className:`flex-shrink-0 ${i===f.id?"text-white":"text-slate-500"}`,children:f.icon}),!r&&c.jsx("span",{className:"font-black text-xs uppercase tracking-widest whitespace-nowrap",children:f.label})]},f.id))}),!r&&c.jsx("div",{className:"p-4 mt-auto",children:c.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-4 text-sm text-slate-400 border border-slate-700/50 backdrop-blur-sm",children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500 mb-1",children:"Eitim Materyalleri"}),c.jsx("p",{className:"font-black text-white text-lg tracking-tight",children:"V2.0.0"})]})})]})},Hx={admin:"Sistem Yneticisi",moderator:"Komisyon Bakan",teacher:"retmen"},$x=({profile:i})=>{const{signOut:n}=vc();return c.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 px-6 flex items-center justify-between sticky top-0 z-10",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-gray-500",children:"Ho Geldiniz /"}),c.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Hx[i.rol]||i.rol})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-slate-50 rounded-xl border border-slate-100",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold",children:i.ad_soyad.charAt(0)}),c.jsxs("div",{className:"text-left hidden sm:block",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 leading-tight",children:i.ad_soyad}),c.jsx("p",{className:"text-xs text-gray-500",children:i.brans})]})]}),c.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-xl transition-colors border border-red-100 font-bold",children:[c.jsx(hx,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"k"})]})]})]})},Gx=({profile:i,dataCount:n,pendingCount:s,logs:r,users:d})=>{const h=[{label:"ncelenen Ders Says",value:i.atanan_dersler.length||"Tm",icon:c.jsx(nx,{className:"text-blue-600"}),color:"bg-blue-50"},{label:"Toplam erik Satr",value:n,icon:c.jsx(zi,{className:"text-purple-600"}),color:"bg-purple-50"},{label:"Bekleyen Talepler",value:s,icon:c.jsx(wm,{className:"text-amber-600"}),color:"bg-amber-50"},{label:"Kaytl Kullanc",value:d.length||"-",icon:c.jsx(Qv,{className:"text-emerald-600"}),color:"bg-emerald-50"}];return c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-700 to-blue-900 rounded-3xl p-8 text-white shadow-lg",children:[c.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Ho Geldiniz, ",i.ad_soyad,"!"]}),c.jsx("p",{className:"text-blue-100 opacity-90 max-w-2xl",children:"Mfredat ieriklerini inceleyebilir, e-ierik ekleme/karma nerilerinde bulunabilir ve deiiklik taleplerini ynetebilirsiniz."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((f,p)=>c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-start gap-4",children:[c.jsx("div",{className:`${f.color} p-3 rounded-xl`,children:f.icon}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 font-medium",children:f.label}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.value})]})]},p))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(br,{size:22,className:"text-orange-500"})," Son Aktiviteler"]}),c.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:c.jsx("div",{className:"divide-y divide-gray-50",children:r.length>0?r.map(f=>{var p,y;return c.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-500 text-xs font-bold",children:((y=(p=f.islem_tipi)==null?void 0:p.charAt(0))==null?void 0:y.toUpperCase())||"L"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:f.islem_tipi}),c.jsx("p",{className:"text-xs text-gray-500",children:f.aciklama})]}),c.jsx("div",{className:"text-right",children:c.jsx("p",{className:"text-xs text-gray-400",children:new Date(f.created_at).toLocaleString("tr-TR")})})]},f.id)}):c.jsx("div",{className:"p-8 text-center text-gray-400",children:"Henz bir aktivite kayd bulunmuyor."})})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Tanml Dersler"}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[c.jsx("div",{className:"flex flex-wrap gap-2",children:i.atanan_dersler.length>0?i.atanan_dersler.map(f=>c.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-semibold rounded-full border border-blue-200",children:f},f)):c.jsx("span",{className:"text-sm text-gray-400 italic",children:"Tm derslere eriiminiz var (Admin)"})}),c.jsx("p",{className:"mt-4 text-sm text-gray-500 leading-relaxed",children:i.rol==="admin"?"Admin olarak tm derslere ve tm ilemlere eriiminiz bulunmaktadr.":"Sadece bu derslere ait ieriklerde dzenleme nerisi sunabilir veya moderasyon yapabilirsiniz."})]})]})]})]})},Kx=["Video","Etkileimli erik","Animasyon","Simlasyon","Infografik","E-Kitap","Podcast","Oyun","Artrlm Gereklik","Sanal Gereklik","Dokman","Sunum","Test/Deerlendirme","Konu Anlatm","alma Yapra","Etkinlik"],mr=({value:i,onChange:n,className:s})=>{const[r,d]=X.useState(!1),[h,f]=X.useState(""),p=X.useRef(null),y=X.useRef(null),g=i?i.split("/").map(S=>S.trim()).filter(Boolean):[];X.useEffect(()=>{const S=z=>{p.current&&!p.current.contains(z.target)&&(d(!1),h.trim()&&(v(h.trim()),f("")))};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[h,g]);const v=S=>{if(!S||g.includes(S))return;const z=[...g,S];n(z.join("/")),f("")},x=S=>{const z=g.filter((H,V)=>V!==S);n(z.join("/"))},k=S=>{S.key==="Enter"||S.key===","?(S.preventDefault(),h.trim()&&v(h.trim())):S.key==="Backspace"&&!h&&g.length>0?x(g.length-1):S.key==="Escape"&&d(!1)},N=Kx.filter(S=>!g.includes(S)&&(!h||S.toLowerCase().includes(h.toLowerCase())));return c.jsxs("div",{ref:p,className:`relative ${s||""}`,children:[c.jsxs("div",{className:"w-full border-2 border-blue-300 rounded-xl bg-white flex flex-wrap gap-1 p-1.5 min-h-[38px] cursor-text items-center",onClick:()=>{var S;(S=y.current)==null||S.focus(),d(!0)},children:[g.map((S,z)=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 text-blue-700 text-[10px] font-bold rounded-lg border border-blue-200",children:[S,c.jsx("button",{type:"button",onClick:H=>{H.stopPropagation(),x(z)},className:"hover:text-red-600 transition-colors",children:c.jsx(ha,{size:10})})]},z)),c.jsx("input",{ref:y,type:"text",className:"flex-1 min-w-[80px] outline-none text-xs font-bold px-1 py-0.5 bg-transparent",placeholder:g.length===0?"Tr sein veya yazn...":"Ekle...",value:h,onChange:S=>{f(S.target.value),d(!0)},onFocus:()=>d(!0),onKeyDown:k}),c.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),d(!r)},className:"p-0.5 text-slate-400 hover:text-blue-600 transition-colors flex-shrink-0",children:c.jsx(_m,{size:14,className:`transition-transform ${r?"rotate-180":""}`})})]}),r&&N.length>0&&c.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border-2 border-slate-200 rounded-xl shadow-2xl shadow-slate-200/60 max-h-48 overflow-y-auto",children:N.map(S=>c.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-xs font-bold text-slate-700 hover:bg-blue-50 hover:text-blue-700 transition-colors first:rounded-t-xl last:rounded-b-xl",onClick:()=>{var z;v(S),(z=y.current)==null||z.focus()},children:S},S))})]})},An=({oldStr:i="",newStr:n=""})=>{if(i===n)return c.jsx("span",{children:i});const s=i.split(/\s+/).filter(Boolean),r=n.split(/\s+/).filter(Boolean),d=s.length,h=r.length,f=Array.from({length:d+1},()=>new Array(h+1).fill(0));for(let x=1;x<=d;x++)for(let k=1;k<=h;k++)s[x-1]===r[k-1]?f[x][k]=f[x-1][k-1]+1:f[x][k]=Math.max(f[x-1][k],f[x][k-1]);const p=[];let y=d,g=h;for(;y>0||g>0;)y>0&&g>0&&s[y-1]===r[g-1]?f[y-1][g]<f[y][g]&&f[y][g-1]<f[y][g]?(p.unshift({type:"same",word:s[y-1]}),y--,g--):f[y][g-1]>=f[y-1][g]?(p.unshift({type:"add",word:r[g-1]}),g--):(p.unshift({type:"del",word:s[y-1]}),y--):g>0&&(y===0||f[y][g-1]>=f[y-1][g])?(p.unshift({type:"add",word:r[g-1]}),g--):(p.unshift({type:"del",word:s[y-1]}),y--);const v=[];for(const x of p)v.length>0&&v[v.length-1].type===x.type?v[v.length-1].words.push(x.word):v.push({type:x.type,words:[x.word]});return c.jsx("span",{className:"leading-relaxed",children:v.map((x,k)=>{const N=x.words.join(" "),S=k>0?" ":"";return x.type==="same"?c.jsxs(rn.Fragment,{children:[S,N]},k):x.type==="del"?c.jsxs(rn.Fragment,{children:[S,c.jsx("span",{className:"bg-red-100 text-red-600 line-through decoration-red-400 px-0.5 rounded",children:N})]},k):c.jsxs(rn.Fragment,{children:[S,c.jsx("span",{className:"bg-green-100 text-green-700 font-bold underline decoration-green-400 px-0.5 rounded",children:N})]},k)})})},em=["ders_adi","unite_tema","kazanim","e_icerik_turu","aciklama"],Yx=({data:i,profile:n,proposals:s,newRowProposals:r,deleteProposals:d,onProposeChange:h,onProposeNewRow:f,onProposeDelete:p,onResolve:y,onWithdraw:g,onUpdateProposal:v,users:x})=>{const[k,N]=X.useState(null),[S,z]=X.useState({}),[H,V]=X.useState(!1),[I,K]=X.useState(!1),[Z,ce]=X.useState({}),[W,Q]=X.useState(""),[L,Y]=X.useState("Tm"),[ue,Ze]=X.useState(""),[tt,Pe]=X.useState(1),[te,_e]=X.useState(50),D=[50,100,150,500],[G,P]=X.useState({open:!1,id:null}),[ae,se]=X.useState(""),[w,j]=X.useState({open:!1,type:"",id:null}),[$,J]=X.useState(""),[ee,ye]=X.useState({open:!1,type:"degisiklik",proposal:null}),[me,ze]=X.useState({}),[Ne,Dt]=X.useState(!1),ra=n.rol==="admin"||n.rol==="moderator",Mn=X.useMemo(()=>Array.from(new Set(i.map(O=>O.ders_adi))).sort(),[i]),Ki=X.useMemo(()=>r.filter(O=>{if(O.durum!=="pending")return!1;const re=!W||O.ders_adi===W,ge=L==="Tm"||O.program_turu===L,he=!ue||[O.ders_adi,O.unite_tema,O.kazanim,O.aciklama,O.e_icerik_turu].some($e=>$e&&$e.toLowerCase().includes(ue.toLowerCase()));return re&&ge&&he}),[r,W,L,ue]),jt=X.useMemo(()=>i.filter(O=>{const re=!W||O.ders_adi===W,ge=L==="Tm"||O.program_turu===L,he=!ue||[O.ders_adi,O.unite_tema,O.kazanim,O.aciklama,O.e_icerik_turu].some($e=>$e&&$e.toLowerCase().includes(ue.toLowerCase()));return re&&ge&&he}),[i,W,L,ue]),Et=Math.max(1,Math.ceil(jt.length/te)),_t=Math.min(tt,Et),Sr=X.useMemo(()=>{const O=(_t-1)*te;return jt.slice(O,O+te)},[jt,_t,te]),Yi=O=>s.filter(re=>re.e_icerik_id===O&&re.durum==="pending"),Ul=O=>d.filter(re=>re.e_icerik_id===O&&re.durum==="pending"),Ln=(O,re)=>s.filter(ge=>ge.e_icerik_id===O&&ge.alan===re&&ge.durum==="pending"),Ut=O=>{const re=x.find(ge=>ge.id===O);return re?re.ad_soyad:"Kullanc"},Vi=O=>{N(O.id),V(!1),z({ders_adi:O.ders_adi,unite_tema:O.unite_tema||"",kazanim:O.kazanim||"",e_icerik_turu:O.e_icerik_turu||"",aciklama:O.aciklama||"",program_turu:O.program_turu||""})},jr=O=>{N(O.id),V(!0);const re=s.filter(he=>he.e_icerik_id===O.id&&he.user_id===n.id&&he.durum==="pending"),ge={ders_adi:O.ders_adi,unite_tema:O.unite_tema||"",kazanim:O.kazanim||"",e_icerik_turu:O.e_icerik_turu||"",aciklama:O.aciklama||"",program_turu:O.program_turu||""};for(const he of re)ge[he.alan]=he.yeni_deger;z(ge)},wt=async O=>{const re=H?s.filter(ge=>ge.e_icerik_id===O.id&&ge.user_id===n.id&&ge.durum==="pending"):[];for(const ge of em){const he=O[ge]||"",$e=S[ge]||"",Ye=re.find(za=>za.alan===ge);he!==$e?Ye&&v?Ye.yeni_deger!==$e&&await v("degisiklik",Ye.id,{yeni_deger:$e}):Ye||await h(O.id,ge,he,$e):Ye&&await g("degisiklik",Ye.id)}N(null),z({}),V(!1)},Er=async()=>{if(!Z.ders_adi||!Z.unite_tema||!Z.kazanim){alert("Ltfen zorunlu alanlar (Ders, nite, Kazanm) doldurunuz.");return}await f({ders_adi:Z.ders_adi,unite_tema:Z.unite_tema,kazanim:Z.kazanim,e_icerik_turu:Z.e_icerik_turu||"",aciklama:Z.aciklama||"",program_turu:Z.program_turu||"TYMM"}),K(!1),ce({})},Xi=async()=>{G.id!==null&&(await p(G.id,ae||"Satr silme talebi"),P({open:!1,id:null}),se(""))},Qi=async()=>{w.id!==null&&(await y(w.type,w.id,"rejected",$),j({open:!1,type:"",id:null}),J(""))},un=(O,re)=>{if(O==="degisiklik")ze({yeni_deger:re.yeni_deger});else{const ge=re;ze({ders_adi:ge.ders_adi||"",unite_tema:ge.unite_tema||"",kazanim:ge.kazanim||"",e_icerik_turu:ge.e_icerik_turu||"",aciklama:ge.aciklama||"",program_turu:ge.program_turu||"TYMM"})}ye({open:!0,type:O,proposal:re})},kr=async()=>{!ee.proposal||!v||(await v(ee.type,ee.proposal.id,me),await y(ee.type,ee.proposal.id,"approved"),ye({open:!1,type:"degisiklik",proposal:null}),ze({}))},Ml=()=>{N(null),z({}),V(!1)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[11px] font-bold text-gray-400 uppercase mb-2 block tracking-widest",children:"DERS SEM"}),c.jsxs("select",{className:"w-full border-2 border-slate-100 rounded-xl px-3 py-2.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:W,onChange:O=>{Q(O.target.value),Pe(1)},children:[c.jsx("option",{value:"",children:"Tm Dersler"}),Mn.map(O=>c.jsx("option",{value:O,children:O},O))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[11px] font-bold text-gray-400 uppercase mb-2 block tracking-widest",children:"PROGRAM TR"}),c.jsxs("select",{className:"w-full border-2 border-slate-100 rounded-xl px-3 py-2.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:L,onChange:O=>{Y(O.target.value),Pe(1)},children:[c.jsx("option",{value:"Tm",children:"Tm"}),c.jsx("option",{value:"TYMM",children:"TYMM"}),c.jsx("option",{value:"DER",children:"DER"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{className:"text-[11px] font-bold text-gray-400 uppercase mb-2 block tracking-widest",children:"GENEL ARAMA"}),c.jsx("input",{type:"text",placeholder:"Kazanm, nite ara...",className:"w-full border-2 border-slate-100 rounded-xl pl-3 pr-10 py-2.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:ue,onChange:O=>{Ze(O.target.value),Pe(1)}}),c.jsx(kx,{className:"absolute right-3 top-9 text-slate-400",size:18})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>Dt(!Ne),className:`flex-1 px-4 py-2.5 rounded-xl text-[10px] font-black flex items-center justify-center gap-2 transition-all uppercase tracking-wider ${Ne?"bg-blue-600 text-white shadow-lg shadow-blue-200":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[Ne?c.jsx(ex,{size:14}):c.jsx(Sm,{size:14}),Ne?"GZLE":"DEKLKLER"]}),c.jsxs("button",{onClick:()=>{Ze(""),Q(""),Y("Tm"),Pe(1)},className:"flex-1 bg-slate-100 text-slate-600 px-4 py-2.5 rounded-xl text-[10px] font-black flex items-center justify-center gap-2 hover:bg-slate-200 transition-all uppercase tracking-wider",children:[c.jsx(Sx,{size:14})," TEMZLE"]})]})]}),c.jsx("div",{className:"bg-white rounded-[2rem] shadow-2xl shadow-slate-200/40 border border-slate-100 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left border-collapse min-w-[1400px]",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-[#8c949e] text-white",children:[c.jsx("th",{className:"px-4 py-5 text-[11px] font-bold border-r border-white/20 w-16 text-center uppercase tracking-wider",children:"SIRA"}),c.jsx("th",{className:"px-4 py-5 text-[11px] font-bold border-r border-white/20 uppercase tracking-wider min-w-[160px]",children:"DERS ADI"}),c.jsx("th",{className:"px-4 py-5 text-[11px] font-bold border-r border-white/20 uppercase tracking-wider min-w-[180px]",children:"NTE/TEMA"}),c.jsx("th",{className:"px-4 py-5 text-[11px] font-bold border-r border-white/20 uppercase tracking-wider min-w-[280px]",children:"KAZANIM/IKTI"}),c.jsx("th",{className:"px-4 py-5 text-[11px] font-bold border-r border-white/20 uppercase tracking-wider w-40",children:"E-ERK TR"}),c.jsx("th",{className:"px-4 py-5 text-[11px] font-bold border-r border-white/20 uppercase tracking-wider min-w-[200px]",children:"AIKLAMA"}),c.jsx("th",{className:"px-4 py-5 text-[11px] font-bold text-center uppercase tracking-wider w-[220px]",children:"LEMLER"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[I&&c.jsxs("tr",{className:"bg-blue-50/70 border-l-8 border-blue-500",children:[c.jsx("td",{className:"px-4 py-4 text-sm font-black text-blue-600 text-center italic",children:"YEN"}),c.jsx("td",{className:"px-4 py-4",children:c.jsxs("select",{className:"w-full border-2 border-blue-300 p-2 rounded-xl text-sm font-bold bg-white",value:Z.ders_adi||"",onChange:O=>ce({...Z,ders_adi:O.target.value}),children:[c.jsx("option",{value:"",children:"Ders Se..."}),(n.rol==="admin"?Mn:n.atanan_dersler).map(O=>c.jsx("option",{value:O,children:O},O))]})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("input",{className:"w-full border-2 border-blue-300 p-2 rounded-xl text-sm font-bold bg-white",placeholder:"nite / Tema",value:Z.unite_tema||"",onChange:O=>ce({...Z,unite_tema:O.target.value})})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("textarea",{className:"w-full border-2 border-blue-300 p-2 rounded-xl text-sm font-bold h-20 bg-white resize-none",placeholder:"Kazanm",value:Z.kazanim||"",onChange:O=>ce({...Z,kazanim:O.target.value})})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx(mr,{value:Z.e_icerik_turu||"",onChange:O=>ce({...Z,e_icerik_turu:O})})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("textarea",{className:"w-full border-2 border-blue-300 p-2 rounded-xl text-xs h-20 bg-white resize-none",placeholder:"Aklama",value:Z.aciklama||"",onChange:O=>ce({...Z,aciklama:O.target.value})})}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsxs("div",{className:"flex flex-col gap-2 w-full max-w-[130px] mx-auto",children:[c.jsxs("button",{onClick:Er,className:"w-full flex items-center justify-center gap-1 bg-[#00966d] text-white px-3 py-2 rounded-xl text-[10px] font-black hover:brightness-110 transition-all uppercase tracking-widest",children:[c.jsx(zn,{size:14})," EKLE"]}),c.jsxs("button",{onClick:()=>K(!1),className:"w-full flex items-center justify-center gap-1 bg-[#e5e7eb] text-slate-600 px-3 py-2 rounded-xl text-[10px] font-black hover:bg-slate-300 transition-all uppercase tracking-widest",children:[c.jsx(ha,{size:14})," VAZGE"]})]})})]}),Sr.map(O=>{const re=Yi(O.id),ge=Ul(O.id);O.id;const he=re.length>0,$e=ge.length>0,Ye=(pe,Qe,De)=>{if(Ne){const Ie=s.filter(kt=>kt.e_icerik_id===O.id&&kt.alan===pe);return Ie.length===0?c.jsx("span",{className:De,children:Qe}):c.jsx("div",{className:"space-y-1.5",children:Ie.map(kt=>c.jsxs("div",{className:`border-l-2 pl-2 py-1 rounded-r-lg ${kt.durum==="approved"?"border-emerald-400 bg-emerald-50/50":kt.durum==="rejected"?"border-red-300 bg-red-50/40":"border-amber-300 bg-amber-50/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[kt.durum==="approved"?c.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-emerald-100 text-emerald-700 rounded-full text-[8px] font-black whitespace-nowrap",children:[c.jsx(ec,{size:9})," ONAYLANDI"]}):kt.durum==="rejected"?c.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-red-100 text-red-700 rounded-full text-[8px] font-black whitespace-nowrap",children:[c.jsx(tc,{size:9})," REDDEDLD"]}):c.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded-full text-[8px] font-black whitespace-nowrap",children:[c.jsx(zi,{size:9})," BEKLYOR"]}),c.jsxs("span",{className:"text-[9px] text-slate-400 italic",children:[" ",Ut(kt.user_id)]})]}),c.jsx("div",{className:"text-xs",children:c.jsx(An,{oldStr:kt.eski_deger,newStr:kt.yeni_deger})})]},kt.id))})}const Ue=Ln(O.id,pe);return Ue.length===0?c.jsx("span",{className:De,children:Qe}):Ue.length===1?c.jsxs("div",{children:[c.jsx(An,{oldStr:Ue[0].eski_deger,newStr:Ue[0].yeni_deger}),c.jsxs("p",{className:"text-[9px] text-slate-400 mt-1 italic",children:[" ",Ut(Ue[0].user_id)]})]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("span",{className:`${De} block mb-1`,children:Qe}),Ue.map(Ie=>c.jsxs("div",{className:"border-l-3 border-amber-300 pl-2 py-1 bg-amber-50/50 rounded-r-lg",children:[c.jsxs("p",{className:"text-[9px] font-bold text-amber-700 mb-0.5",children:[" ",Ut(Ie.user_id)]}),c.jsx(An,{oldStr:Ie.eski_deger,newStr:Ie.yeni_deger})]},Ie.id))]})},za={};for(const pe of re)za[pe.alan]||(za[pe.alan]=[]),za[pe.alan].push(pe);const Ji=new Set(re.map(pe=>pe.user_id)).size,Tr=Ne?s.filter(pe=>pe.e_icerik_id===O.id&&pe.durum!=="pending").length:0,Bn=Ne?d.filter(pe=>pe.e_icerik_id===O.id&&pe.durum!=="pending").length:0,on=Tr>0||Bn>0;return c.jsxs("tr",{className:`transition-all duration-300 ${$e?"bg-red-50/70 border-l-8 border-red-500":he?"bg-[#fefce8] border-l-8 border-[#facc15]":Ne&&on?"bg-blue-50/30 border-l-4 border-blue-200":"hover:bg-slate-50/50"}`,children:[c.jsx("td",{className:"px-4 py-4 text-sm font-black text-slate-500 text-center",children:$e?c.jsx("span",{className:"line-through text-red-400",children:O.sira_no}):O.sira_no}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("span",{className:`text-sm font-extrabold ${$e?"line-through text-red-300":"text-slate-800"}`,children:Ye("ders_adi",O.ders_adi,`text-sm font-extrabold ${$e?"line-through text-red-300":"text-slate-800"}`)})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("div",{className:"text-sm font-black text-blue-600 uppercase",children:Ye("unite_tema",O.unite_tema||"","text-sm font-black text-blue-600 uppercase")})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("div",{className:"text-sm font-bold text-slate-700 leading-relaxed",children:Ye("kazanim",O.kazanim||"","text-sm font-bold text-slate-700 leading-relaxed")})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("div",{className:"flex flex-wrap gap-1",children:(()=>{const pe=(O.e_icerik_turu||"").split("/").filter(De=>De.trim()).map((De,Ue)=>c.jsx("span",{className:"px-2 py-0.5 bg-slate-100 border border-slate-200 text-[9px] font-black text-slate-500 rounded-md uppercase",children:De.trim()},Ue));if(Ne){const De=s.filter(Ue=>Ue.e_icerik_id===O.id&&Ue.alan==="e_icerik_turu");return De.length===0?pe:c.jsx("div",{className:"space-y-1.5 w-full",children:De.map(Ue=>c.jsxs("div",{className:`border-l-2 pl-2 py-1 rounded-r-lg ${Ue.durum==="approved"?"border-emerald-400 bg-emerald-50/50":Ue.durum==="rejected"?"border-red-300 bg-red-50/40":"border-amber-300 bg-amber-50/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[Ue.durum==="approved"?c.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-emerald-100 text-emerald-700 rounded-full text-[8px] font-black whitespace-nowrap",children:[c.jsx(ec,{size:9})," ONAYLANDI"]}):Ue.durum==="rejected"?c.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-red-100 text-red-700 rounded-full text-[8px] font-black whitespace-nowrap",children:[c.jsx(tc,{size:9})," REDDEDLD"]}):c.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded-full text-[8px] font-black whitespace-nowrap",children:[c.jsx(zi,{size:9})," BEKLYOR"]}),c.jsxs("span",{className:"text-[9px] text-slate-400 italic",children:[" ",Ut(Ue.user_id)]})]}),c.jsx("div",{className:"text-xs",children:c.jsx(An,{oldStr:Ue.eski_deger,newStr:Ue.yeni_deger})})]},Ue.id))})}const Qe=Ln(O.id,"e_icerik_turu");return Qe.length===0?pe:Qe.length===1?c.jsxs("div",{children:[c.jsx(An,{oldStr:Qe[0].eski_deger,newStr:Qe[0].yeni_deger}),c.jsxs("p",{className:"text-[9px] text-slate-400 mt-1 italic",children:[" ",Ut(Qe[0].user_id)]})]}):c.jsxs("div",{className:"space-y-2 w-full",children:[c.jsx("div",{className:"flex flex-wrap gap-1",children:pe}),Qe.map(De=>c.jsxs("div",{className:"border-l-3 border-amber-300 pl-2 py-1 bg-amber-50/50 rounded-r-lg",children:[c.jsxs("p",{className:"text-[9px] font-bold text-amber-700 mb-0.5",children:[" ",Ut(De.user_id)]}),c.jsx(An,{oldStr:De.eski_deger,newStr:De.yeni_deger})]},De.id))]})})()})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("div",{className:"text-[11px] leading-relaxed italic text-slate-500",children:Ye("aciklama",O.aciklama||"","text-[11px] leading-relaxed italic text-slate-500")})}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[$e?c.jsxs("div",{className:"space-y-2 w-full max-w-[220px]",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-red-100 border border-red-200 rounded-full",children:[c.jsx(Un,{size:12,className:"text-red-600"}),c.jsxs("span",{className:"text-[10px] font-black text-red-700 uppercase",children:[ge.length," SLME TALEB"]})]}),ge.map(pe=>c.jsxs("div",{className:"bg-white border border-red-200 rounded-xl p-2 space-y-1",children:[c.jsxs("p",{className:"text-[9px] font-bold text-red-600",children:["neren: ",Ut(pe.user_id)]}),pe.aciklama&&c.jsx("p",{className:"text-[10px] italic text-red-400",children:pe.aciklama}),ra&&c.jsxs("div",{className:"flex gap-1 justify-center pt-1",children:[c.jsx("button",{onClick:()=>y("silme",pe.id,"approved"),title:"Onayla",className:"p-1.5 bg-emerald-100 text-emerald-700 rounded-lg hover:bg-emerald-600 hover:text-white transition-all border border-emerald-200",children:c.jsx(zn,{size:12})}),c.jsx("button",{onClick:()=>{j({open:!0,type:"silme",id:pe.id}),J("")},title:"Reddet",className:"p-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-600 hover:text-white transition-all border border-red-200",children:c.jsx(ha,{size:12})})]}),pe.user_id===n.id&&c.jsxs("button",{onClick:()=>g("silme",pe.id),className:"w-full flex items-center justify-center gap-1 bg-slate-100 text-slate-600 px-2 py-1 rounded-lg text-[9px] font-black hover:bg-slate-200 transition-all",children:[c.jsx(nc,{size:10})," PTAL"]})]},pe.id))]}):he?c.jsxs("div",{className:"space-y-2 w-full max-w-[220px]",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-amber-50 border border-amber-200 rounded-full",children:[c.jsx(zi,{size:12,className:"text-amber-600 animate-pulse"}),c.jsxs("span",{className:"text-[10px] font-black text-amber-700 uppercase",children:[re.length," neri",Ji>1?`  ${Ji} Kii`:""]})]}),Object.entries(za).map(([pe,Qe])=>c.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-2 space-y-1.5",children:[c.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase border-b border-slate-100 pb-1",children:pe}),Qe.map(De=>c.jsxs("div",{className:`rounded-lg p-1.5 ${Qe.length>1?"bg-slate-50 border border-slate-100":""}`,children:[c.jsx("p",{className:"text-[9px] text-slate-500 font-medium",children:c.jsx("span",{className:"font-bold text-slate-700",children:Ut(De.user_id)})}),ra&&c.jsxs("div",{className:"flex gap-1 justify-center pt-1",children:[c.jsx("button",{onClick:()=>y("degisiklik",De.id,"approved"),title:"Onayla",className:"p-1 bg-emerald-100 text-emerald-700 rounded-md hover:bg-emerald-600 hover:text-white transition-all border border-emerald-200",children:c.jsx(zn,{size:11})}),c.jsx("button",{onClick:()=>un("degisiklik",De),title:"Dzenle & Onayla",className:"p-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-600 hover:text-white transition-all border border-blue-200",children:c.jsx(ac,{size:11})}),c.jsx("button",{onClick:()=>{j({open:!0,type:"degisiklik",id:De.id}),J("")},title:"Reddet",className:"p-1 bg-red-100 text-red-700 rounded-md hover:bg-red-600 hover:text-white transition-all border border-red-200",children:c.jsx(ha,{size:11})})]})]},De.id))]},pe)),!ra&&(re.some(pe=>pe.user_id===n.id)?c.jsxs("div",{className:"flex gap-1 justify-center pt-1",children:[c.jsxs("button",{onClick:()=>jr(O),title:"Satr Dzenle",className:"flex-1 flex items-center justify-center gap-1 p-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all border border-blue-200 text-[9px] font-bold",children:[c.jsx(Di,{size:11})," Dzenle"]}),re.filter(pe=>pe.user_id===n.id).map(pe=>c.jsx("button",{onClick:()=>g("degisiklik",pe.id),title:`${pe.alan} ptal Et`,className:"p-1.5 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-all border border-slate-200",children:c.jsx(nc,{size:11})},pe.id))]}):c.jsxs("div",{className:"flex gap-1 justify-center pt-1 border-t border-slate-100 mt-1",children:[c.jsxs("button",{onClick:()=>Vi(O),title:"Kendi nerinizi Ekleyin",className:"flex-1 flex items-center justify-center gap-1 p-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-600 hover:text-white transition-all border border-blue-100 text-[9px] font-bold",children:[c.jsx(Di,{size:11})," neri Ekle"]}),c.jsx("button",{onClick:()=>{P({open:!0,id:O.id}),se("")},title:"Silme Talebi",className:"p-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-600 hover:text-white transition-all border border-red-100",children:c.jsx(Un,{size:11})})]}))]}):c.jsxs("div",{className:"flex gap-2 justify-center",children:[c.jsx("button",{onClick:()=>Vi(O),className:"p-2 bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white rounded-xl border border-blue-100 shadow-sm transition-all",children:c.jsx(Di,{size:16})}),c.jsx("button",{onClick:()=>{P({open:!0,id:O.id}),se("")},className:"p-2 bg-red-50 text-red-600 hover:bg-red-600 hover:text-white rounded-xl border border-red-100 shadow-sm transition-all",children:c.jsx(Un,{size:16})})]}),Ne&&on&&c.jsx("div",{className:"mt-2 pt-2 border-t border-slate-100 flex flex-wrap gap-1 justify-center",children:(()=>{const pe=s.filter(Ie=>Ie.e_icerik_id===O.id&&Ie.durum!=="pending"),Qe=d.filter(Ie=>Ie.e_icerik_id===O.id&&Ie.durum!=="pending"),De=pe.filter(Ie=>Ie.durum==="approved").length+Qe.filter(Ie=>Ie.durum==="approved").length,Ue=pe.filter(Ie=>Ie.durum==="rejected").length+Qe.filter(Ie=>Ie.durum==="rejected").length;return c.jsxs(c.Fragment,{children:[De>0&&c.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-emerald-50 text-emerald-600 border border-emerald-200 rounded-md text-[8px] font-bold",children:[c.jsx(ec,{size:9})," ",De," onay"]}),Ue>0&&c.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-red-50 text-red-500 border border-red-200 rounded-md text-[8px] font-bold",children:[c.jsx(tc,{size:9})," ",Ue," ret"]})]})})()})]})})]},O.id)}),Ki.map(O=>c.jsxs("tr",{className:"bg-emerald-50/70 border-l-8 border-emerald-500 transition-all duration-300",children:[c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("span",{className:"text-xs font-black text-emerald-600 italic",children:"+"})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("span",{className:"text-sm font-extrabold text-emerald-700",children:O.ders_adi})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("p",{className:"text-sm font-black text-emerald-600 uppercase",children:O.unite_tema})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("p",{className:"text-sm font-bold text-emerald-700 leading-relaxed",children:O.kazanim})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("div",{className:"flex flex-wrap gap-1",children:(O.e_icerik_turu||"").split("/").map((re,ge)=>c.jsx("span",{className:"px-2 py-0.5 bg-emerald-100 border border-emerald-200 text-[9px] font-black text-emerald-600 rounded-md uppercase",children:re.trim()},ge))})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("div",{className:"text-[11px] leading-relaxed italic text-emerald-600",children:O.aciklama})}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-2 w-full max-w-[200px] mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-emerald-100 border border-emerald-200 rounded-full",children:[c.jsx(mc,{size:12,className:"text-emerald-600"}),c.jsx("span",{className:"text-[10px] font-black text-emerald-700 uppercase",children:"Yeni satr nerisi"})]}),c.jsxs("p",{className:"text-[9px] text-slate-400",children:["neren: ",Ut(O.user_id)]}),ra&&c.jsxs("div",{className:"flex gap-1 justify-center",children:[c.jsx("button",{onClick:()=>y("yeni_satir",O.id,"approved"),title:"Onayla",className:"p-2 bg-emerald-100 text-emerald-700 rounded-xl hover:bg-emerald-600 hover:text-white transition-all border border-emerald-200",children:c.jsx(zn,{size:14})}),c.jsx("button",{onClick:()=>un("yeni_satir",O),title:"Dzenle & Onayla",className:"p-2 bg-blue-100 text-blue-700 rounded-xl hover:bg-blue-600 hover:text-white transition-all border border-blue-200",children:c.jsx(ac,{size:14})}),c.jsx("button",{onClick:()=>{j({open:!0,type:"yeni_satir",id:O.id}),J("")},title:"Reddet",className:"p-2 bg-red-100 text-red-700 rounded-xl hover:bg-red-600 hover:text-white transition-all border border-red-200",children:c.jsx(ha,{size:14})})]}),O.user_id===n.id&&!ra&&c.jsxs("button",{onClick:()=>g("yeni_satir",O.id),className:"w-full flex items-center justify-center gap-1 bg-slate-100 text-slate-600 px-3 py-2 rounded-xl text-[10px] font-black hover:bg-slate-200 transition-all",children:[c.jsx(nc,{size:12})," PTAL ET"]})]})})]},`new-${O.id}`))]})]})})}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 px-4 py-3 flex flex-wrap items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[c.jsx("span",{className:"font-bold",children:jt.length>0?`${(_t-1)*te+1}${Math.min(_t*te,jt.length)} / ${jt.length} kayt`:"0 kayt"}),c.jsx("span",{className:"text-slate-300",children:"|"}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"text-slate-400 font-medium",children:"Sayfa bana:"}),D.map(O=>c.jsx("button",{onClick:()=>{_e(O),Pe(1)},className:`px-2 py-1 rounded-lg text-[11px] font-bold transition-all ${te===O?"bg-blue-600 text-white shadow-sm":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:O},O))]})]}),Et>1&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>Pe(1),disabled:_t===1,className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"lk sayfa",children:c.jsx(Gv,{size:16})}),c.jsx("button",{onClick:()=>Pe(O=>Math.max(1,O-1)),disabled:_t===1,className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"nceki",children:c.jsx(Mv,{size:16})}),(()=>{const O=[],re=Math.max(1,_t-2),ge=Math.min(Et,_t+2);re>1&&O.push(1),re>2&&O.push(-1);for(let he=re;he<=ge;he++)O.push(he);return ge<Et-1&&O.push(-2),ge<Et&&O.push(Et),O.map((he,$e)=>he<0?c.jsx("span",{className:"px-1 text-slate-300 text-xs",children:""},`e${$e}`):c.jsx("button",{onClick:()=>Pe(he),className:`min-w-[32px] h-8 rounded-lg text-xs font-bold transition-all ${_t===he?"bg-blue-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-100"}`,children:he},he))})(),c.jsx("button",{onClick:()=>Pe(O=>Math.min(Et,O+1)),disabled:_t===Et,className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"Sonraki",children:c.jsx(Bv,{size:16})}),c.jsx("button",{onClick:()=>Pe(Et),disabled:_t===Et,className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"Son sayfa",children:c.jsx(Yv,{size:16})})]})]}),c.jsx("div",{className:"flex justify-start",children:c.jsxs("button",{onClick:()=>{K(!0),ce({ders_adi:n.atanan_dersler[0]||"",program_turu:"TYMM"})},className:"flex items-center gap-5 bg-[#2563eb] hover:bg-blue-700 text-white px-10 py-5 rounded-[2.5rem] transition-all shadow-2xl shadow-blue-200 font-black text-sm uppercase tracking-widest active:scale-95 group",children:[c.jsx("div",{className:"bg-white/20 p-2 rounded-xl group-hover:rotate-90 transition-transform",children:c.jsx(mc,{size:24})}),"YEN ERK SATIRI EKLE"]})}),k!==null&&(()=>{const O=i.find(re=>re.id===k);return O?c.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-3 bg-slate-900/60 backdrop-blur-md",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[95vh] overflow-y-auto border border-slate-200",children:[c.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-100 px-5 py-3 flex items-center justify-between",children:[c.jsxs("span",{className:"text-sm font-black text-slate-700",children:["#",O.sira_no,"  ",c.jsx("span",{className:"text-blue-600",children:O.ders_adi})]}),c.jsx("button",{onClick:Ml,className:"p-1.5 text-slate-400 hover:text-slate-700 hover:bg-slate-100 rounded-lg transition-all",children:c.jsx(ha,{size:18})})]}),c.jsxs("div",{className:"p-5",children:[c.jsxs("div",{className:"grid grid-cols-12 gap-3 mb-3",children:[c.jsxs("div",{className:"col-span-5",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"DERS ADI"}),c.jsx("input",{className:"w-full border border-slate-200 px-3 py-2 rounded-lg text-sm font-bold focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none",value:S.ders_adi||"",onChange:re=>z({...S,ders_adi:re.target.value})})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"PROGRAM"}),c.jsxs("select",{className:"w-full border border-slate-200 px-3 py-2 rounded-lg text-sm font-bold focus:ring-2 focus:ring-blue-400 outline-none",value:S.program_turu||"TYMM",onChange:re=>z({...S,program_turu:re.target.value}),children:[c.jsx("option",{value:"TYMM",children:"TYMM"}),c.jsx("option",{value:"DER",children:"DER"})]})]}),c.jsxs("div",{className:"col-span-5",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"NTE / TEMA"}),c.jsx("input",{className:"w-full border border-slate-200 px-3 py-2 rounded-lg text-sm font-bold focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none",value:S.unite_tema||"",onChange:re=>z({...S,unite_tema:re.target.value})})]})]}),c.jsxs("div",{className:"grid grid-cols-12 gap-3 mb-3",children:[c.jsxs("div",{className:"col-span-8",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"KAZANIM / IKTI"}),c.jsx("textarea",{className:"w-full border border-slate-200 px-3 py-2 rounded-lg text-sm font-medium leading-relaxed focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none resize-none h-20",value:S.kazanim||"",onChange:re=>z({...S,kazanim:re.target.value})})]}),c.jsxs("div",{className:"col-span-4",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"E-ERK TR"}),c.jsx(mr,{value:S.e_icerik_turu||"",onChange:re=>z({...S,e_icerik_turu:re})})]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"AIKLAMA"}),c.jsx("textarea",{className:"w-full border border-slate-200 px-3 py-2 rounded-lg text-sm font-medium leading-relaxed focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none resize-y min-h-[100px]",value:S.aciklama||"",onChange:re=>z({...S,aciklama:re.target.value})})]}),(()=>{const re={ders_adi:"Ders Ad",unite_tema:"nite/Tema",kazanim:"Kazanm",e_icerik_turu:"E-erik Tr",aciklama:"Aklama",program_turu:"Program Tr"},ge=em.filter(he=>(O[he]||"")!==(S[he]||""));return ge.length===0?null:c.jsxs("div",{className:"mb-3 p-3 bg-amber-50/70 rounded-lg border border-amber-100",children:[c.jsx("p",{className:"text-[10px] font-bold text-amber-600 uppercase mb-1",children:"Deiiklik nizleme"}),ge.map(he=>c.jsxs("div",{className:"mb-1",children:[c.jsxs("span",{className:"text-[9px] font-bold text-slate-500 uppercase mr-1",children:[re[he]||he,":"]}),c.jsx("span",{className:"text-xs",children:c.jsx(An,{oldStr:O[he]||"",newStr:S[he]||""})})]},he))]})})(),c.jsxs("div",{className:"flex gap-3 pt-3 border-t border-slate-100",children:[c.jsxs("button",{onClick:()=>wt(O),className:"flex-1 bg-[#00966d] hover:brightness-110 text-white font-black py-3 rounded-xl transition-all shadow-lg shadow-emerald-200 uppercase tracking-widest text-xs flex items-center justify-center gap-2",children:[c.jsx(gc,{size:14})," NERY GNDER"]}),c.jsx("button",{onClick:Ml,className:"px-8 bg-slate-100 hover:bg-slate-200 text-slate-600 font-black py-3 rounded-xl transition-all uppercase tracking-widest text-xs",children:"VAZGE"})]})]})]})}):null})(),G.open&&c.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:c.jsx("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-md overflow-hidden border-2 border-slate-100",children:c.jsxs("div",{className:"p-10 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-red-100 text-red-600 rounded-[2rem] flex items-center justify-center mx-auto mb-6 shadow-xl shadow-red-100",children:c.jsx(Un,{size:32})}),c.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-4 tracking-tight",children:"Satr Silme Talebi"}),c.jsx("textarea",{className:"w-full border-2 border-slate-100 p-4 rounded-2xl text-sm font-medium mb-6 resize-none h-24",placeholder:"Silme gerekenizi yaznz (istee bal)...",value:ae,onChange:O=>se(O.target.value)}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:Xi,className:"flex-1 bg-[#e63931] hover:brightness-110 text-white font-black py-4 rounded-[1.5rem] transition-all shadow-xl shadow-red-200 uppercase tracking-widest text-xs",children:"TALEB GNDER"}),c.jsx("button",{onClick:()=>P({open:!1,id:null}),className:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-600 font-black py-4 rounded-[1.5rem] transition-all uppercase tracking-widest text-xs",children:"VAZGE"})]})]})})}),w.open&&c.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:c.jsx("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-md overflow-hidden border-2 border-slate-100",children:c.jsxs("div",{className:"p-10 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-amber-100 text-amber-600 rounded-[2rem] flex items-center justify-center mx-auto mb-6 shadow-xl shadow-amber-100",children:c.jsx(mx,{size:32})}),c.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-4 tracking-tight",children:"Talebi Reddet"}),c.jsx("textarea",{className:"w-full border-2 border-slate-100 p-4 rounded-2xl text-sm font-medium mb-6 resize-none h-24",placeholder:"Red gerekenizi yaznz...",value:$,onChange:O=>J(O.target.value)}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:Qi,className:"flex-1 bg-red-600 hover:brightness-110 text-white font-black py-4 rounded-[1.5rem] transition-all shadow-xl shadow-red-200 uppercase tracking-widest text-xs",children:"REDDET"}),c.jsx("button",{onClick:()=>j({open:!1,type:"",id:null}),className:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-600 font-black py-4 rounded-[1.5rem] transition-all uppercase tracking-widest text-xs",children:"VAZGE"})]})]})})}),ee.open&&ee.proposal&&c.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:c.jsx("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-lg overflow-hidden border-2 border-slate-100",children:c.jsxs("div",{className:"p-10",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-[1.5rem] flex items-center justify-center shadow-xl shadow-blue-100",children:c.jsx(ac,{size:28})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"neriyi Dzenle & Onayla"}),c.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Deerleri dzenleyip onaylayabilirsiniz"})]})]}),ee.type==="degisiklik"?c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{children:[c.jsxs("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-2 block",children:["Alan: ",ee.proposal.alan]}),c.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Eski deer: ",c.jsx("span",{className:"font-bold text-red-500",children:ee.proposal.eski_deger})]}),ee.proposal.alan==="e_icerik_turu"?c.jsx(mr,{value:me.yeni_deger||"",onChange:O=>ze({...me,yeni_deger:O})}):c.jsx("textarea",{className:"w-full border-2 border-blue-200 p-4 rounded-2xl text-sm font-medium resize-none h-32 focus:ring-2 focus:ring-blue-400 outline-none",value:me.yeni_deger||"",onChange:O=>ze({...me,yeni_deger:O.target.value})})]})}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-1 block",children:"DERS ADI"}),c.jsx("input",{className:"w-full border-2 border-blue-200 p-3 rounded-xl text-sm font-bold",value:me.ders_adi||"",onChange:O=>ze({...me,ders_adi:O.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-1 block",children:"NTE/TEMA"}),c.jsx("input",{className:"w-full border-2 border-blue-200 p-3 rounded-xl text-sm font-bold",value:me.unite_tema||"",onChange:O=>ze({...me,unite_tema:O.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-1 block",children:"KAZANIM"}),c.jsx("textarea",{className:"w-full border-2 border-blue-200 p-3 rounded-xl text-sm font-bold h-20 resize-none",value:me.kazanim||"",onChange:O=>ze({...me,kazanim:O.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-1 block",children:"E-ERK TR"}),c.jsx(mr,{value:me.e_icerik_turu||"",onChange:O=>ze({...me,e_icerik_turu:O})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-1 block",children:"AIKLAMA"}),c.jsx("textarea",{className:"w-full border-2 border-blue-200 p-3 rounded-xl text-sm h-20 resize-none",value:me.aciklama||"",onChange:O=>ze({...me,aciklama:O.target.value})})]})]}),c.jsxs("div",{className:"flex gap-4 mt-8",children:[c.jsxs("button",{onClick:kr,className:"flex-1 bg-emerald-600 hover:brightness-110 text-white font-black py-4 rounded-[1.5rem] transition-all shadow-xl shadow-emerald-200 uppercase tracking-widest text-xs flex items-center justify-center gap-2",children:[c.jsx(zn,{size:16})," DZENLE & ONAYLA"]}),c.jsx("button",{onClick:()=>ye({open:!1,type:"degisiklik",proposal:null}),className:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-600 font-black py-4 rounded-[1.5rem] transition-all uppercase tracking-widest text-xs",children:"VAZGE"})]})]})})})]})},Vx=({users:i,logs:n,data:s,onRefresh:r,profile:d})=>{const[h,f]=X.useState(!1),[p,y]=X.useState(!1),[g,v]=X.useState(null),[x,k]=X.useState({kullanici_adi:"",sifre:"",ad_soyad:"",brans:"",rol:"teacher",atanan_dersler:""}),[N,S]=X.useState(!1),[z,H]=X.useState(""),[V,I]=X.useState([]),[K,Z]=X.useState([]),[ce,W]=X.useState(null),[Q,L]=X.useState({}),[Y,ue]=X.useState(!1),[Ze,tt]=X.useState(!1);X.useEffect(()=>{Ae.from("e_icerikler").select("ders_adi").then(({data:j})=>{if(j){const $=Array.from(new Set(j.map(J=>J.ders_adi))).sort();I($)}})},[]);const Pe=async j=>{var $,J;if(j.preventDefault(),!x.kullanici_adi||!x.sifre||!x.ad_soyad){H("Ltfen tm zorunlu alanlar doldurun.");return}if(x.sifre.length<6){H("ifre en az 6 karakter olmaldr.");return}S(!0),H("");try{const{data:ee}=await Ae.auth.refreshSession(),ye=($=ee==null?void 0:ee.session)==null?void 0:$.access_token;if(!ye){const{data:{session:Dt}}=await Ae.auth.getSession();if(!(Dt!=null&&Dt.access_token)){H("Oturumunuz sona ermi. Ltfen k yapp tekrar giri yapn."),S(!1);return}}const me=ye||((J=(await Ae.auth.getSession()).data.session)==null?void 0:J.access_token),ze=await fetch(`${Ev}/functions/v1/create-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${me}`},body:JSON.stringify({kullanici_adi:x.kullanici_adi,sifre:x.sifre,ad_soyad:x.ad_soyad,brans:x.brans,rol:x.rol,atanan_dersler:x.atanan_dersler.split(",").map(Dt=>Dt.trim()).filter(Boolean)})}),Ne=await ze.json();ze.ok?(f(!1),k({kullanici_adi:"",sifre:"",ad_soyad:"",brans:"",rol:"teacher",atanan_dersler:""}),await r()):ze.status===401?H("Oturumunuz sona ermi. Ltfen k yapp tekrar giri yapn."):H(Ne.error||"Kullanc oluturulamad.")}catch(ee){H("Balant hatas: "+(ee.message||"Bilinmeyen hata"))}S(!1)},te=j=>{v(j),Z([...j.atanan_dersler]),y(!0)},_e=async()=>{g&&(await Ae.from("profiles").update({atanan_dersler:K}).eq("id",g.id),y(!1),await r())},D=j=>{Z($=>$.includes(j)?$.filter(J=>J!==j):[...$,j])},G=j=>{W(j.id),L({ad_soyad:j.ad_soyad,brans:j.brans,rol:j.rol})},P=async()=>{ce&&(await Ae.from("profiles").update({ad_soyad:Q.ad_soyad,brans:Q.brans,rol:Q.rol}).eq("id",ce),W(null),await r())},ae=async()=>{tt(!0);try{await Promise.all([Ae.from("degisiklik_onerileri").delete().neq("id",0),Ae.from("yeni_satir_onerileri").delete().neq("id",0),Ae.from("silme_talepleri").delete().neq("id",0),Ae.from("degisiklik_loglari").delete().neq("id",0)]),ue(!1),await r()}catch(j){alert("Sfrlama hatas: "+(j.message||"Bilinmeyen hata"))}tt(!1)},se={admin:"ADMN",moderator:"MODERATR",teacher:"RETMEN"},w={admin:"bg-purple-100 text-purple-700",moderator:"bg-amber-100 text-amber-700",teacher:"bg-blue-100 text-blue-700"};return c.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Sistem Ynetimi"}),c.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),c.jsxs("div",{className:"flex gap-6",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 font-bold",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center text-blue-600",children:c.jsx(F0,{size:16})}),c.jsxs("span",{children:[i.length," Kullanc"]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 font-bold",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center text-emerald-600",children:c.jsx(Wv,{size:16})}),c.jsxs("span",{children:[s.length," erik Satr"]})]})]}),c.jsx("div",{className:"ml-auto",children:c.jsxs("button",{onClick:()=>ue(!0),className:"px-4 py-2 bg-red-50 text-red-600 text-xs font-black rounded-xl hover:bg-red-600 hover:text-white transition-all border border-red-100 shadow-sm flex items-center gap-2 uppercase tracking-widest",children:[c.jsx(Un,{size:14})," Tm nerileri Sfrla"]})})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between px-2",children:[c.jsxs("h3",{className:"text-lg font-black text-slate-700 flex items-center gap-3",children:[c.jsx(F0,{size:22,className:"text-blue-600"})," Kullanc Ynetimi"]}),c.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-blue-50 text-blue-600 text-xs font-black rounded-xl hover:bg-blue-600 hover:text-white transition-all border border-blue-100 shadow-sm flex items-center gap-2 uppercase tracking-widest",children:[c.jsx(W0,{size:14})," Yeni Ekle"]})]}),c.jsx("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-xl shadow-slate-200/40 overflow-hidden",children:c.jsxs("table",{className:"w-full text-left border-collapse",children:[c.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Kullanc / Bran"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Rol"}),c.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Dersler"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"lem"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-50",children:i.map(j=>c.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:ce===j.id?c.jsxs("div",{className:"space-y-1",children:[c.jsx("input",{className:"w-full border border-blue-300 p-1 rounded text-sm font-bold",value:Q.ad_soyad||"",onChange:$=>L({...Q,ad_soyad:$.target.value})}),c.jsx("input",{className:"w-full border border-blue-300 p-1 rounded text-xs",value:Q.brans||"",onChange:$=>L({...Q,brans:$.target.value})})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-sm font-extrabold text-slate-800",children:j.ad_soyad}),c.jsxs("p",{className:"text-[11px] text-slate-400 font-bold",children:[j.kullanici_adi,"  ",j.brans]})]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:ce===j.id?c.jsxs("select",{className:"border border-blue-300 p-1 rounded text-xs font-bold",value:Q.rol||"teacher",onChange:$=>L({...Q,rol:$.target.value}),children:[c.jsx("option",{value:"teacher",children:"retmen"}),c.jsx("option",{value:"moderator",children:"Moderatr"}),c.jsx("option",{value:"admin",children:"Admin"})]}):c.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-tighter ${w[j.rol]}`,children:se[j.rol]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.atanan_dersler.length>0?j.atanan_dersler.slice(0,3).map($=>c.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 text-[9px] font-black rounded-md border border-slate-200 uppercase",children:$},$)):c.jsx("span",{className:"text-[10px] text-slate-300 italic",children:""}),j.atanan_dersler.length>3&&c.jsxs("span",{className:"text-[10px] text-blue-500 font-bold",children:["+",j.atanan_dersler.length-3]})]})}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("div",{className:"flex gap-1 justify-center",children:ce===j.id?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:P,className:"p-1.5 bg-emerald-100 text-emerald-700 rounded-lg hover:bg-emerald-600 hover:text-white transition-all",children:c.jsx(gc,{size:14})}),c.jsx("button",{onClick:()=>W(null),className:"p-1.5 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-all",children:c.jsx(ha,{size:14})})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>G(j),className:"p-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-600 hover:text-white transition-all",title:"Dzenle",children:c.jsx(Di,{size:14})}),c.jsx("button",{onClick:()=>te(j),className:"p-1.5 bg-amber-50 text-amber-600 rounded-lg hover:bg-amber-600 hover:text-white transition-all",title:"Ders Ata",children:c.jsx(xc,{size:14})})]})})})]},j.id))})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"text-lg font-black text-slate-700 flex items-center gap-3 px-2",children:[c.jsx(br,{size:22,className:"text-orange-500"})," Sistem Loglar"]}),c.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl shadow-slate-200/40 overflow-hidden h-[500px] flex flex-col",children:c.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1",children:n.length>0?n.map(j=>{var $,J,ee;return c.jsxs("div",{className:"p-4 text-xs flex items-start gap-4 hover:bg-slate-50 rounded-2xl transition-colors group",children:[c.jsx("div",{className:`mt-1 w-2.5 h-2.5 rounded-full flex-shrink-0 shadow-[0_0_8px_rgba(59,130,246,0.5)] ${($=j.islem_tipi)!=null&&$.includes("onay")?"bg-emerald-500":(J=j.islem_tipi)!=null&&J.includes("red")?"bg-red-500":(ee=j.islem_tipi)!=null&&ee.includes("silme")?"bg-red-400":"bg-blue-500"}`}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-black text-slate-800 text-sm mb-1",children:j.islem_tipi}),c.jsx("p",{className:"text-slate-500 leading-relaxed mb-2 font-medium",children:j.aciklama}),c.jsx("span",{className:"text-slate-400 font-bold",children:new Date(j.created_at).toLocaleString("tr-TR")})]})]},j.id)}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 gap-4",children:[c.jsx(br,{size:48,className:"opacity-20"}),c.jsx("p",{className:"font-black uppercase tracking-widest text-xs",children:"Henz kayt bulunmuyor"})]})})})]})]}),h&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:c.jsx("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-lg overflow-hidden",children:c.jsx("form",{onSubmit:Pe,children:c.jsxs("div",{className:"p-10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-blue-200",children:c.jsx(W0,{size:24})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Yeni Kullanc"}),c.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Kullanc Tanmlama"})]})]}),c.jsx("button",{type:"button",onClick:()=>{f(!1),H("")},className:"p-2 hover:bg-slate-100 rounded-xl transition-colors text-slate-400",children:c.jsx(ha,{size:24})})]}),z&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-2xl mb-6 text-sm font-bold",children:z}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] ml-2 mb-2 block",children:"Kullanc Ad *"}),c.jsx("input",{className:"w-full border-2 border-slate-100 p-3 rounded-2xl font-bold focus:ring-4 focus:ring-blue-50 focus:border-blue-500 outline-none transition-all",placeholder:"kullanici_adi",value:x.kullanici_adi,onChange:j=>k({...x,kullanici_adi:j.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] ml-2 mb-2 block",children:"ifre *"}),c.jsx("input",{type:"password",className:"w-full border-2 border-slate-100 p-3 rounded-2xl font-bold focus:ring-4 focus:ring-blue-50 focus:border-blue-500 outline-none transition-all",placeholder:"",value:x.sifre,onChange:j=>k({...x,sifre:j.target.value})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] ml-2 mb-2 block",children:"Ad Soyad *"}),c.jsx("input",{className:"w-full border-2 border-slate-100 p-3 rounded-2xl font-bold focus:ring-4 focus:ring-blue-50 focus:border-blue-500 outline-none transition-all",placeholder:"rn: Mehmet zkan",value:x.ad_soyad,onChange:j=>k({...x,ad_soyad:j.target.value})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] ml-2 mb-2 block",children:"Bran"}),c.jsx("input",{className:"w-full border-2 border-slate-100 p-3 rounded-2xl font-bold focus:ring-4 focus:ring-blue-50 focus:border-blue-500 outline-none transition-all",placeholder:"rn: Matematik",value:x.brans,onChange:j=>k({...x,brans:j.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] ml-2 mb-2 block",children:"Rol *"}),c.jsxs("select",{className:"w-full border-2 border-slate-100 p-3 rounded-2xl font-bold focus:ring-4 focus:ring-blue-50 focus:border-blue-500 outline-none transition-all bg-white",value:x.rol,onChange:j=>k({...x,rol:j.target.value}),children:[c.jsx("option",{value:"teacher",children:"retmen"}),c.jsx("option",{value:"moderator",children:"Moderatr"}),c.jsx("option",{value:"admin",children:"Admin"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] ml-2 mb-2 block",children:"Ders Atamalar (Virglle ayrn)"}),c.jsx("input",{className:"w-full border-2 border-slate-100 p-3 rounded-2xl font-bold focus:ring-4 focus:ring-blue-50 focus:border-blue-500 outline-none transition-all",placeholder:"rn: Hayat Bilgisi 1, Matematik 1",value:x.atanan_dersler,onChange:j=>k({...x,atanan_dersler:j.target.value})})]})]}),c.jsxs("div",{className:"flex gap-4 mt-10",children:[c.jsx("button",{type:"submit",disabled:N,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white font-black py-4 rounded-[1.5rem] transition-all shadow-2xl shadow-blue-200 flex items-center justify-center gap-3 uppercase tracking-widest text-xs",children:N?c.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx(zn,{size:18})," KULLANICIYI KAYDET"]})}),c.jsx("button",{type:"button",onClick:()=>{f(!1),H("")},className:"px-6 bg-slate-100 hover:bg-slate-200 text-slate-600 font-black py-4 rounded-[1.5rem] transition-all uppercase tracking-widest text-xs",children:"PTAL"})]})]})})})}),Y&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:c.jsx("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden",children:c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(zx,{size:32,className:"text-red-600"})}),c.jsx("h3",{className:"text-xl font-black text-slate-900 mb-2",children:"Tm nerileri Sfrla"}),c.jsxs("p",{className:"text-sm text-slate-500 font-medium mb-6 leading-relaxed",children:["Bu ilem tm ",c.jsx("strong",{children:"deiiklik nerilerini"}),", ",c.jsx("strong",{children:"yeni satr nerilerini"}),", ",c.jsx("strong",{children:"silme taleplerini"})," ve ",c.jsx("strong",{children:"sistem loglarn"})," kalc olarak silecektir. Bu ilem geri alnamaz!"]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:ae,disabled:Ze,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:opacity-50 text-white font-black py-3 rounded-xl transition-all shadow-lg shadow-red-200 flex items-center justify-center gap-2 uppercase tracking-widest text-xs",children:Ze?c.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx(Un,{size:14})," EVET, SIFIRLA"]})}),c.jsx("button",{onClick:()=>ue(!1),className:"px-6 bg-slate-100 hover:bg-slate-200 text-slate-600 font-black py-3 rounded-xl transition-all uppercase tracking-widest text-xs",children:"PTAL"})]})]})})}),p&&g&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md",children:c.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-2xl overflow-hidden max-h-[80vh] flex flex-col",children:[c.jsxs("div",{className:"p-8 border-b border-slate-100 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Ders Atama"}),c.jsxs("p",{className:"text-sm text-slate-500 font-bold",children:[g.ad_soyad,"  ",g.kullanici_adi]})]}),c.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors text-slate-400",children:c.jsx(ha,{size:24})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[c.jsxs("p",{className:"text-xs text-slate-400 mb-4 font-bold uppercase tracking-wider",children:[K.length," ders seili"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:V.map(j=>c.jsx("button",{onClick:()=>D(j),className:`px-3 py-1.5 text-xs font-bold rounded-xl border transition-all ${K.includes(j)?"bg-blue-600 text-white border-blue-600 shadow-lg shadow-blue-200":"bg-white text-slate-600 border-slate-200 hover:border-blue-300"}`,children:j},j))})]}),c.jsxs("div",{className:"p-6 border-t border-slate-100 flex gap-4",children:[c.jsxs("button",{onClick:_e,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-black py-4 rounded-2xl transition-all shadow-xl shadow-blue-200 uppercase tracking-widest text-xs flex items-center justify-center gap-2",children:[c.jsx(gc,{size:16})," KAYDET"]}),c.jsx("button",{onClick:()=>y(!1),className:"px-8 bg-slate-100 hover:bg-slate-200 text-slate-600 font-black py-4 rounded-2xl transition-all uppercase tracking-widest text-xs",children:"PTAL"})]})]})})]})},Xx=({oldStr:i="",newStr:n=""})=>{if(i===n)return c.jsx("span",{children:i});if(!i&&n)return c.jsx("span",{className:"bg-green-100 text-green-700 font-bold px-0.5 rounded",children:n});if(i&&!n)return c.jsx("span",{className:"bg-red-100 text-red-600 line-through px-0.5 rounded",children:i});const s=i.split(/\s+/).filter(Boolean),r=n.split(/\s+/).filter(Boolean),d=s.length,h=r.length,f=Array.from({length:d+1},()=>new Array(h+1).fill(0));for(let x=1;x<=d;x++)for(let k=1;k<=h;k++)f[x][k]=s[x-1]===r[k-1]?f[x-1][k-1]+1:Math.max(f[x-1][k],f[x][k-1]);const p=[];let y=d,g=h;for(;y>0||g>0;)y>0&&g>0&&s[y-1]===r[g-1]?f[y-1][g]<f[y][g]&&f[y][g-1]<f[y][g]?(p.unshift({type:"same",word:s[y-1]}),y--,g--):f[y][g-1]>=f[y-1][g]?(p.unshift({type:"add",word:r[g-1]}),g--):(p.unshift({type:"del",word:s[y-1]}),y--):g>0&&(y===0||f[y][g-1]>=f[y-1][g])?(p.unshift({type:"add",word:r[g-1]}),g--):(p.unshift({type:"del",word:s[y-1]}),y--);const v=[];for(const x of p)v.length>0&&v[v.length-1].type===x.type?v[v.length-1].words.push(x.word):v.push({type:x.type,words:[x.word]});return c.jsx("span",{className:"leading-relaxed",children:v.map((x,k)=>{const N=x.words.join(" "),S=k>0?" ":"";return x.type==="same"?c.jsxs(rn.Fragment,{children:[S,N]},k):x.type==="del"?c.jsxs(rn.Fragment,{children:[S,c.jsx("span",{className:"bg-red-100 text-red-600 line-through px-0.5 rounded",children:N})]},k):c.jsxs(rn.Fragment,{children:[S,c.jsx("span",{className:"bg-green-100 text-green-700 font-bold underline px-0.5 rounded",children:N})]},k)})})},Qx={pending:{label:"Bekliyor",bg:"bg-amber-100",text:"text-amber-800",border:"border-amber-200",icon:c.jsx(zi,{size:12})},approved:{label:"Onayland",bg:"bg-emerald-100",text:"text-emerald-800",border:"border-emerald-200",icon:c.jsx(zn,{size:12})},rejected:{label:"Reddedildi",bg:"bg-red-100",text:"text-red-800",border:"border-red-200",icon:c.jsx(ha,{size:12})}},Jx={degisiklik:{label:"Dzenleme",bg:"bg-blue-100",text:"text-blue-800",icon:c.jsx(Di,{size:12})},yeni_satir:{label:"Yeni Satr",bg:"bg-emerald-100",text:"text-emerald-800",icon:c.jsx(mc,{size:12})},silme:{label:"Silme",bg:"bg-red-100",text:"text-red-800",icon:c.jsx(Un,{size:12})}},Zx=({data:i,proposals:n,newRowProposals:s,deleteProposals:r,users:d,profile:h})=>{const[f,p]=X.useState("all"),[y,g]=X.useState("all"),[v,x]=X.useState(""),[k,N]=X.useState(new Set),S=L=>{if(!L)return"";const Y=d.find(ue=>ue.id===L);return Y?Y.ad_soyad:"Bilinmiyor"},z=L=>{if(!L)return"";const Y=d.find(ue=>ue.id===L);return Y?Y.rol==="admin"?"Admin":Y.rol==="moderator"?"Moderatr":"retmen":""},H=L=>L&&i.find(Y=>Y.id===L)||null,V=L=>L?new Date(L).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",I=X.useMemo(()=>{const L=[];for(const Y of n){const ue=H(Y.e_icerik_id);L.push({id:`deg-${Y.id}`,type:"degisiklik",durum:Y.durum,user_id:Y.user_id,onaylayan_id:Y.onaylayan_id,created_at:Y.created_at,onay_tarihi:Y.onay_tarihi,red_nedeni:Y.red_nedeni,ders_adi:(ue==null?void 0:ue.ders_adi)||"(Silinmi satr)",sira_no:(ue==null?void 0:ue.sira_no)||null,alan:Y.alan,eski_deger:Y.eski_deger,yeni_deger:Y.yeni_deger,aciklama:null})}for(const Y of s)L.push({id:`yeni-${Y.id}`,type:"yeni_satir",durum:Y.durum,user_id:Y.user_id,onaylayan_id:Y.onaylayan_id,created_at:Y.created_at,onay_tarihi:Y.onay_tarihi,red_nedeni:Y.red_nedeni,ders_adi:Y.ders_adi,sira_no:null,alan:null,eski_deger:null,yeni_deger:null,aciklama:Y.aciklama,unite_tema:Y.unite_tema,kazanim:Y.kazanim,e_icerik_turu:Y.e_icerik_turu,program_turu:Y.program_turu});for(const Y of r){const ue=H(Y.e_icerik_id);L.push({id:`sil-${Y.id}`,type:"silme",durum:Y.durum,user_id:Y.user_id,onaylayan_id:Y.onaylayan_id,created_at:Y.created_at,onay_tarihi:Y.onay_tarihi,red_nedeni:Y.red_nedeni,ders_adi:(ue==null?void 0:ue.ders_adi)||"(Silinmi satr)",sira_no:(ue==null?void 0:ue.sira_no)||null,alan:null,eski_deger:null,yeni_deger:null,aciklama:Y.aciklama})}return L.sort((Y,ue)=>new Date(ue.created_at).getTime()-new Date(Y.created_at).getTime()),L},[n,s,r,i]),K=X.useMemo(()=>{const L=new Set;return I.forEach(Y=>{Y.ders_adi&&L.add(Y.ders_adi)}),Array.from(L).sort()},[I]),Z=X.useMemo(()=>I.filter(L=>f!=="all"&&L.durum!==f||y!=="all"&&L.type!==y||v&&L.ders_adi!==v?!1:h.rol==="moderator"?h.atanan_dersler.includes(L.ders_adi):!0),[I,f,y,v,h]),ce=X.useMemo(()=>{const L=h.rol==="moderator"?I.filter(Y=>h.atanan_dersler.includes(Y.ders_adi)):I;return{total:L.length,pending:L.filter(Y=>Y.durum==="pending").length,approved:L.filter(Y=>Y.durum==="approved").length,rejected:L.filter(Y=>Y.durum==="rejected").length}},[I,h]),W=L=>{N(Y=>{const ue=new Set(Y);return ue.has(L)?ue.delete(L):ue.add(L),ue})},Q={ders_adi:"Ders Ad",unite_tema:"nite/Tema",kazanim:"Kazanm/kt",e_icerik_turu:"E-erik Tr",aciklama:"Aklama"};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black tracking-tight text-slate-900",children:"Deiiklik Gemii"}),c.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Tm neri, onay ve red ilemlerinin takibi"})]})}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("button",{onClick:()=>p("all"),className:`p-5 rounded-2xl border-2 transition-all ${f==="all"?"border-blue-400 bg-blue-50 shadow-lg shadow-blue-100":"border-slate-100 bg-white hover:border-slate-200"}`,children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"TOPLAM"}),c.jsx("p",{className:"text-3xl font-black text-slate-900",children:ce.total})]}),c.jsxs("button",{onClick:()=>p("pending"),className:`p-5 rounded-2xl border-2 transition-all ${f==="pending"?"border-amber-400 bg-amber-50 shadow-lg shadow-amber-100":"border-slate-100 bg-white hover:border-slate-200"}`,children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-amber-500 mb-1",children:"BEKLYOR"}),c.jsx("p",{className:"text-3xl font-black text-amber-600",children:ce.pending})]}),c.jsxs("button",{onClick:()=>p("approved"),className:`p-5 rounded-2xl border-2 transition-all ${f==="approved"?"border-emerald-400 bg-emerald-50 shadow-lg shadow-emerald-100":"border-slate-100 bg-white hover:border-slate-200"}`,children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-500 mb-1",children:"ONAYLANDI"}),c.jsx("p",{className:"text-3xl font-black text-emerald-600",children:ce.approved})]}),c.jsxs("button",{onClick:()=>p("rejected"),className:`p-5 rounded-2xl border-2 transition-all ${f==="rejected"?"border-red-400 bg-red-50 shadow-lg shadow-red-100":"border-slate-100 bg-white hover:border-slate-200"}`,children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-red-500 mb-1",children:"REDDEDLD"}),c.jsx("p",{className:"text-3xl font-black text-red-600",children:ce.rejected})]})]}),c.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex flex-wrap gap-4 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1.5 block tracking-widest",children:"LEM TR"}),c.jsxs("select",{className:"border-2 border-slate-100 rounded-xl px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:y,onChange:L=>g(L.target.value),children:[c.jsx("option",{value:"all",children:"Tm"}),c.jsx("option",{value:"degisiklik",children:"Dzenleme"}),c.jsx("option",{value:"yeni_satir",children:"Yeni Satr"}),c.jsx("option",{value:"silme",children:"Silme"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1.5 block tracking-widest",children:"DERS"}),c.jsxs("select",{className:"border-2 border-slate-100 rounded-xl px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:v,onChange:L=>x(L.target.value),children:[c.jsx("option",{value:"",children:"Tm Dersler"}),K.map(L=>c.jsx("option",{value:L,children:L},L))]})]}),c.jsxs("button",{onClick:()=>{p("all"),g("all"),x("")},className:"bg-slate-100 text-slate-600 px-4 py-2 rounded-xl text-[10px] font-black hover:bg-slate-200 transition-all uppercase tracking-wider flex items-center gap-1",children:[c.jsx(ix,{size:12})," Sfrla"]}),c.jsxs("div",{className:"ml-auto text-sm text-slate-400 font-bold",children:[Z.length," kayt gsteriliyor"]})]}),c.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px]",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-slate-800 text-white",children:[c.jsx("th",{className:"px-4 py-4 text-[10px] font-bold uppercase tracking-wider w-10"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-bold uppercase tracking-wider",children:"TARH"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-bold uppercase tracking-wider",children:"TR"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-bold uppercase tracking-wider",children:"DURUM"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-bold uppercase tracking-wider",children:"DERS"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-bold uppercase tracking-wider",children:"SIRA"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-bold uppercase tracking-wider",children:"ALAN"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-bold uppercase tracking-wider",children:"NEREN"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-bold uppercase tracking-wider",children:"LEM YAPAN"}),c.jsx("th",{className:"px-4 py-4 text-[10px] font-bold uppercase tracking-wider",children:"LEM TARH"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-50",children:[Z.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:10,className:"px-8 py-16 text-center text-slate-400",children:c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsx(Sm,{size:40,className:"text-slate-300"}),c.jsx("p",{className:"font-bold text-lg",children:"Kayt bulunamad"}),c.jsx("p",{className:"text-sm",children:"Seili filtrelere uygun deiiklik gemii bulunmuyor."})]})})}),Z.map(L=>{const Y=k.has(L.id),ue=Qx[L.durum],Ze=Jx[L.type];return c.jsxs(rn.Fragment,{children:[c.jsxs("tr",{className:`cursor-pointer transition-all hover:bg-slate-50/80 ${L.durum==="approved"?"border-l-4 border-l-emerald-400":L.durum==="rejected"?"border-l-4 border-l-red-400":"border-l-4 border-l-amber-400"}`,onClick:()=>W(L.id),children:[c.jsx("td",{className:"px-4 py-3 text-center",children:Y?c.jsx(Hv,{size:14,className:"text-slate-400"}):c.jsx(_m,{size:14,className:"text-slate-400"})}),c.jsx("td",{className:"px-4 py-3 text-xs text-slate-600 font-medium whitespace-nowrap",children:V(L.created_at)}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-[9px] font-black uppercase ${Ze.bg} ${Ze.text}`,children:[Ze.icon," ",Ze.label]})}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-[9px] font-black uppercase border ${ue.bg} ${ue.text} ${ue.border}`,children:[ue.icon," ",ue.label]})}),c.jsx("td",{className:"px-4 py-3 text-xs font-bold text-slate-800",children:L.ders_adi}),c.jsx("td",{className:"px-4 py-3 text-xs font-bold text-slate-500 text-center",children:L.sira_no??""}),c.jsx("td",{className:"px-4 py-3 text-xs font-bold text-slate-600",children:L.alan?Q[L.alan]||L.alan:L.type==="yeni_satir"?"Tm alanlar":"Tm satr"}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-slate-800",children:S(L.user_id)}),c.jsx("p",{className:"text-[9px] text-slate-400",children:z(L.user_id)})]})}),c.jsx("td",{className:"px-4 py-3",children:L.onaylayan_id?c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-slate-800",children:S(L.onaylayan_id)}),c.jsx("p",{className:"text-[9px] text-slate-400",children:z(L.onaylayan_id)})]}):c.jsx("span",{className:"text-xs text-slate-300",children:""})}),c.jsx("td",{className:"px-4 py-3 text-xs text-slate-500 font-medium whitespace-nowrap",children:V(L.onay_tarihi)})]}),Y&&c.jsx("tr",{className:"bg-slate-50/50",children:c.jsx("td",{colSpan:10,className:"px-8 py-5",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl",children:[L.type==="degisiklik"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"DEKLK KARILATIRMASI"}),c.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 text-sm leading-relaxed",children:c.jsx(Xx,{oldStr:L.eski_deger||"",newStr:L.yeni_deger||""})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-red-400 mb-1",children:"ESK DEER"}),c.jsx("div",{className:"bg-red-50 p-3 rounded-xl border border-red-100 text-xs text-red-700",children:L.eski_deger||"(Bo)"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-400 mb-1",children:"YEN DEER"}),c.jsx("div",{className:"bg-emerald-50 p-3 rounded-xl border border-emerald-100 text-xs text-emerald-700",children:L.yeni_deger||"(Bo)"})]})]})]}),L.type==="yeni_satir"&&c.jsxs("div",{className:"col-span-2 space-y-2",children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"YEN SATIR BLGLER"}),c.jsx("div",{className:"bg-white rounded-xl border border-emerald-200 overflow-hidden",children:c.jsx("table",{className:"w-full text-xs",children:c.jsxs("tbody",{className:"divide-y divide-slate-100",children:[c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 font-bold text-slate-500 bg-slate-50 w-36",children:"Ders Ad"}),c.jsx("td",{className:"px-4 py-2 text-slate-800 font-bold",children:L.ders_adi})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 font-bold text-slate-500 bg-slate-50",children:"nite/Tema"}),c.jsx("td",{className:"px-4 py-2 text-slate-800",children:L.unite_tema})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 font-bold text-slate-500 bg-slate-50",children:"Kazanm"}),c.jsx("td",{className:"px-4 py-2 text-slate-800",children:L.kazanim})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 font-bold text-slate-500 bg-slate-50",children:"E-erik Tr"}),c.jsx("td",{className:"px-4 py-2 text-slate-800",children:L.e_icerik_turu})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 font-bold text-slate-500 bg-slate-50",children:"Aklama"}),c.jsx("td",{className:"px-4 py-2 text-slate-800 italic",children:L.aciklama})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 font-bold text-slate-500 bg-slate-50",children:"Program Tr"}),c.jsx("td",{className:"px-4 py-2 text-slate-800",children:L.program_turu})]})]})})})]}),L.type==="silme"&&c.jsxs("div",{className:"col-span-2 space-y-2",children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"SLME TALEB BLGLER"}),c.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border border-red-200",children:[c.jsxs("p",{className:"text-sm text-red-700 font-bold mb-1",children:["Satr #",L.sira_no,"  ",L.ders_adi]}),L.aciklama&&c.jsxs("p",{className:"text-xs text-red-600 italic mt-2",children:["Gereke: ",L.aciklama]})]})]}),L.durum==="rejected"&&L.red_nedeni&&c.jsxs("div",{className:"col-span-2",children:[c.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-red-400 mb-1",children:"RED NEDEN"}),c.jsx("div",{className:"bg-red-50 p-3 rounded-xl border border-red-200 text-xs text-red-700 italic",children:L.red_nedeni})]})]})})})]},L.id)})]})]})})})]})},Ix=()=>{const{user:i,profile:n,loading:s}=vc(),[r,d]=X.useState([]),[h,f]=X.useState([]),[p,y]=X.useState([]),[g,v]=X.useState([]),[x,k]=X.useState([]),[N,S]=X.useState([]),[z,H]=X.useState("dashboard"),[V,I]=X.useState(!1),[K,Z]=X.useState(!0),ce=X.useCallback(async(te,_e,D,G,P)=>{let se=[],w=0,j=!0;for(;j;){let $=Ae.from(te).select("*").order(_e,{ascending:D}).range(w,w+1e3-1);G&&P&&P.length>0&&($=$.in(G,P));const{data:J}=await $;J&&J.length>0?(se=se.concat(J),w+=1e3,J.length<1e3&&(j=!1)):j=!1}return se},[]),W=X.useCallback(async()=>{if(!n)return;Z(!0);const te=n.rol!=="admin"&&n.atanan_dersler.length>0?"ders_adi":void 0,_e=te?n.atanan_dersler:void 0,[D,G,P,ae,se,w]=await Promise.all([ce("e_icerikler","sira_no",!0,te,_e),Ae.from("degisiklik_onerileri").select("*").order("created_at",{ascending:!1}).limit(5e3).then(j=>j.data),Ae.from("yeni_satir_onerileri").select("*").order("created_at",{ascending:!1}).limit(5e3).then(j=>j.data),Ae.from("silme_talepleri").select("*").order("created_at",{ascending:!1}).limit(5e3).then(j=>j.data),Ae.from("degisiklik_loglari").select("*").order("created_at",{ascending:!1}).limit(100).then(j=>j.data),Ae.from("profiles").select("*").order("created_at",{ascending:!0}).then(j=>j.data)]);D&&d(D),G&&f(G),P&&y(P),ae&&v(ae),se&&k(se),w&&S(w),Z(!1)},[n,ce]);X.useEffect(()=>{n&&W()},[n,W]);const Q=X.useCallback(async(te,_e,D)=>{if(!i)return;const G={user_id:i.id,islem_tipi:te,aciklama:_e,e_icerik_id:D||null},{data:P}=await Ae.from("degisiklik_loglari").insert(G).select().single();P&&k(ae=>[P,...ae])},[i]),L=X.useCallback(async(te,_e,D,G)=>{if(!i)return;const{data:P}=await Ae.from("degisiklik_onerileri").insert({e_icerik_id:te,user_id:i.id,alan:_e,eski_deger:D,yeni_deger:G}).select().single();P&&(f(ae=>[P,...ae]),await Q("degisiklik_onerisi",`${_e} alan iin dzenleme nerisi`,te))},[i,Q]),Y=X.useCallback(async te=>{if(!i)return;const{data:_e}=await Ae.from("yeni_satir_onerileri").insert({user_id:i.id,ders_adi:te.ders_adi,unite_tema:te.unite_tema,kazanim:te.kazanim,e_icerik_turu:te.e_icerik_turu,aciklama:te.aciklama,program_turu:te.program_turu}).select().single();_e&&(y(D=>[_e,...D]),await Q("yeni_satir_onerisi",`${te.ders_adi} iin yeni satr ekleme nerisi`))},[i,Q]),ue=X.useCallback(async(te,_e)=>{if(!i)return;const{data:D}=await Ae.from("silme_talepleri").insert({e_icerik_id:te,user_id:i.id,aciklama:_e}).select().single();D&&(v(G=>[D,...G]),await Q("silme_talebi","Satr silme talebi",te))},[i,Q]),Ze=X.useCallback(async(te,_e,D,G)=>{if(!i)return;const P=te==="degisiklik"?"degisiklik_onerileri":te==="yeni_satir"?"yeni_satir_onerileri":"silme_talepleri";if(await Ae.from(P).update({durum:D,onaylayan_id:i.id,onay_tarihi:new Date().toISOString(),red_nedeni:G||null}).eq("id",_e),D==="approved"){if(te==="degisiklik"){const ae=h.find(se=>se.id===_e);if(ae){await Ae.from("e_icerikler").update({[ae.alan]:ae.yeni_deger,updated_at:new Date().toISOString()}).eq("id",ae.e_icerik_id);const se=h.filter(w=>w.id!==_e&&w.e_icerik_id===ae.e_icerik_id&&w.alan===ae.alan&&w.durum==="pending");for(const w of se)await Ae.from("degisiklik_onerileri").update({durum:"rejected",onaylayan_id:i.id,onay_tarihi:new Date().toISOString(),red_nedeni:"Ayn alan iin baka bir neri onayland"}).eq("id",w.id)}}else if(te==="yeni_satir"){const ae=p.find(se=>se.id===_e);if(ae){const se=r.length>0?Math.max(...r.map(w=>w.sira_no)):0;await Ae.from("e_icerikler").insert({sira_no:se+1,ders_adi:ae.ders_adi,unite_tema:ae.unite_tema,kazanim:ae.kazanim,e_icerik_turu:ae.e_icerik_turu,aciklama:ae.aciklama,program_turu:ae.program_turu})}}else if(te==="silme"){const ae=g.find(se=>se.id===_e);if(ae){await Ae.from("e_icerikler").delete().eq("id",ae.e_icerik_id);const se=g.filter(j=>j.id!==_e&&j.e_icerik_id===ae.e_icerik_id&&j.durum==="pending");for(const j of se)await Ae.from("silme_talepleri").update({durum:"rejected",onaylayan_id:i.id,onay_tarihi:new Date().toISOString(),red_nedeni:"Satr baka bir talep ile silindi"}).eq("id",j.id);const w=h.filter(j=>j.e_icerik_id===ae.e_icerik_id&&j.durum==="pending");for(const j of w)await Ae.from("degisiklik_onerileri").update({durum:"rejected",onaylayan_id:i.id,onay_tarihi:new Date().toISOString(),red_nedeni:"Satr silme talebi onayland iin reddedildi"}).eq("id",j.id)}}}await Q(D==="approved"?"onaylandi":"reddedildi",`${te} talebi ${D==="approved"?"onayland":"reddedildi"}`),await W()},[i,h,p,g,r,Q,W]),tt=X.useCallback(async(te,_e)=>{const D=te==="degisiklik"?"degisiklik_onerileri":te==="yeni_satir"?"yeni_satir_onerileri":"silme_talepleri",{error:G}=await Ae.from(D).delete().eq("id",_e);if(G){console.error("Withdraw error:",G),alert("Talep iptal edilemedi: "+G.message);return}await Q("talep_geri_cekildi",`${te} talebi geri ekildi`),await W()},[Q,W]),Pe=X.useCallback(async(te,_e,D)=>{const G=te==="degisiklik"?"degisiklik_onerileri":"yeni_satir_onerileri",{error:P}=await Ae.from(G).update(D).eq("id",_e);if(P){console.error("Update proposal error:",P),alert("neri gncellenemedi: "+P.message);return}await Q("oneri_duzenlendi",`${te} nerisi dzenlendi`),await W()},[Q,W]);return s?c.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"w-12 h-12 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"})}):!i||!n?c.jsx(Bx,{}):c.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans antialiased text-slate-900",children:[c.jsx(qx,{activeTab:z,setActiveTab:H,userRole:n.rol,collapsed:V,onToggle:()=>I(te=>!te)}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[c.jsx($x,{profile:n}),c.jsx("main",{className:"flex-1 overflow-y-auto p-8 scroll-smooth",children:K?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"w-10 h-10 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"})}):c.jsxs(c.Fragment,{children:[z==="dashboard"&&c.jsx(Gx,{profile:n,dataCount:r.length,pendingCount:h.filter(te=>te.durum==="pending").length+p.filter(te=>te.durum==="pending").length+g.filter(te=>te.durum==="pending").length,logs:x.slice(0,10),users:N}),z==="table"&&c.jsx(Yx,{data:r,profile:n,proposals:h,newRowProposals:p,deleteProposals:g,onProposeChange:L,onProposeNewRow:Y,onProposeDelete:ue,onResolve:Ze,onWithdraw:tt,onUpdateProposal:Pe,users:N}),z==="history"&&(n.rol==="admin"||n.rol==="moderator")&&c.jsx(Zx,{data:r,proposals:h,newRowProposals:p,deleteProposals:g,users:N,profile:n}),z==="admin"&&n.rol==="admin"&&c.jsx(Vx,{users:N,logs:x,data:r,onRefresh:W,profile:n})]})})]})]})},jm=document.getElementById("root");if(!jm)throw new Error("Could not find root element to mount to");const Px=Qp.createRoot(jm);Px.render(c.jsx(rn.StrictMode,{children:c.jsx(kv,{children:c.jsx(Ix,{})})}));
