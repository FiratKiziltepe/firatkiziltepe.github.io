<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>YZ Araçları</title>
  <style>
    :root {
      --bg: #0b0c0f;
      --panel: #111318;
      --panel-2: #151820;
      --text: #e6e8eb;
      --muted: #a7adb3;
      --brand: #5b8def;
      --brand-2: #7ea4f1;
      --accent: #16a34a;
      --danger: #ef4444;
      --border: #232733;
      --chip: #1c2130;
      --shadow: 0 8px 24px rgba(0,0,0,.35);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.45;
    }

    a { color: var(--brand-2); text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Layout */
    .page {
      display: grid;
      grid-template-columns: 300px 1fr;
      gap: 20px;
      align-items: start;
      padding: 24px;
      max-width: 1300px;
      margin: 0 auto;
    }

    .sidebar {
      position: sticky;
      top: 16px;
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      box-shadow: var(--shadow);
      height: calc(100dvh - 32px);
      overflow: auto;
    }

    .sidebar h2 {
      margin: 4px 0 12px;
      font-size: 18px;
      font-weight: 700;
    }

    .filter-group { margin-bottom: 18px; }
    .filter-title {
      font-size: 13px;
      letter-spacing: .04em;
      text-transform: uppercase;
      color: var(--muted);
      margin: 16px 0 8px;
    }

    .filters { display: grid; gap: 6px; }
    .filters label {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 10px;
      background: var(--panel-2);
      border: 1px solid var(--border);
      border-radius: 8px;
      cursor: pointer;
      transition: border-color .15s ease, background .15s ease;
    }
    .filters label:hover { border-color: #2b3140; }
    .filters input { accent-color: var(--brand); }

    .sidebar-actions {
      display: flex;
      gap: 8px;
      margin-top: 10px;
    }
    .btn {
      background: var(--chip);
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 8px 12px;
      font-size: 14px;
      cursor: pointer;
    }
    .btn:hover { border-color: #2b3140; }
    .btn.primary { background: var(--brand); border-color: transparent; color: white; }

    /* Content */
    .content {
      min-height: 100dvh;
    }

    .toolbar {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      justify-content: space-between;
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px;
      margin-bottom: 16px;
      box-shadow: var(--shadow);
    }

    .search {
      flex: 1 1 280px;
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--panel-2);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 8px 10px;
    }
    .search input {
      flex: 1 1 auto;
      background: transparent;
      border: 0;
      color: var(--text);
      outline: none;
      font-size: 14px;
    }

    .results-info { color: var(--muted); font-size: 13px; }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 16px;
    }

    .tool-card {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 14px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      transition: transform .12s ease, border-color .15s ease;
    }
    .tool-card:hover { transform: translateY(-2px); border-color: #2b3140; }
    .tool-title { font-weight: 700; font-size: 16px; }
    .tool-desc { color: var(--muted); font-size: 14px; }

    .chips { display: flex; flex-wrap: wrap; gap: 6px; }
    .chip {
      font-size: 12px;
      padding: 4px 8px;
      border-radius: 999px;
      background: var(--chip);
      border: 1px solid var(--border);
      color: var(--text);
    }
    .chip.type { background: #13213a; border-color: #1f2d4a; color: #bcd1ff; }

    .hidden { display: none !important; }

    /* Mobile */
    @media (max-width: 960px) {
      .page { grid-template-columns: 1fr; }
      .sidebar { position: relative; height: auto; }
    }

    /* Optional: mobile filter drawer */
    .mobile-filters-toggle { display: none; }
    @media (max-width: 960px) {
      .mobile-filters-toggle { display: inline-flex; align-items: center; gap: 8px; }
    }
  </style>
</head>
<body>
  <div class="page">
    <aside class="sidebar" aria-label="Filtreler">
      <h2>Filtreler</h2>

      <div class="filter-group">
        <div class="filter-title">YZ Araç Türleri</div>
        <div id="typeFilters" class="filters" role="group" aria-label="Araç Türleri">
          <!-- JS ile doldurulacak -->
        </div>
      </div>

      <div class="filter-group">
        <div class="filter-title">Etiketler</div>
        <div id="tagFilters" class="filters" role="group" aria-label="Etiketler">
          <!-- JS ile doldurulacak -->
        </div>
      </div>

      <div class="sidebar-actions">
        <button id="clearFilters" class="btn" type="button">Filtreleri Temizle</button>
      </div>
    </aside>

    <main class="content">
      <div class="toolbar">
        <button class="btn mobile-filters-toggle" type="button" onclick="document.querySelector('.sidebar').scrollIntoView({behavior:'smooth'})">Filtreler</button>
        <div class="search" role="search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M21 21l-3.5-3.5M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" stroke="#a7adb3" stroke-width="1.8" stroke-linecap="round"/></svg>
          <input id="searchInput" type="search" placeholder="Araçlarda ara... (isim, açıklama, etiket)" aria-label="Araçlarda ara" />
        </div>
        <div class="results-info" id="resultsInfo">0 araç</div>
      </div>

      <section id="toolsGrid" class="grid" aria-live="polite">
        <!-- ÖRNEK KARTLAR: Kendi içeriğinizde .tool-card kullanın ve data-type / data-tags ekleyin -->
        <article class="tool-card" data-type="Metin Üretimi" data-tags="yazma, içerik, blog">
          <div class="tool-title">Yapay Yazar</div>
          <div class="tool-desc">Blog yazıları ve içerik özetleri üretir. Türkçe dil desteği güçlüdür.</div>
          <div class="chips">
            <span class="chip type">Metin Üretimi</span>
            <span class="chip">yazma</span>
            <span class="chip">içerik</span>
            <span class="chip">blog</span>
          </div>
        </article>

        <article class="tool-card" data-type="Görsel" data-tags="tasarım, görselleştirme, sunum">
          <div class="tool-title">Görsel Sihirbaz</div>
          <div class="tool-desc">Metinden görsel oluşturma, moodboard ve sunum taslakları.</div>
          <div class="chips">
            <span class="chip type">Görsel</span>
            <span class="chip">tasarım</span>
            <span class="chip">görselleştirme</span>
            <span class="chip">sunum</span>
          </div>
        </article>

        <article class="tool-card" data-type="Kodlama" data-tags="kod, otomasyon, veri">
          <div class="tool-title">Kod Asistanı</div>
          <div class="tool-desc">Kod tamamlama, açıklama ve küçük otomasyon betikleri önerir.</div>
          <div class="chips">
            <span class="chip type">Kodlama</span>
            <span class="chip">kod</span>
            <span class="chip">otomasyon</span>
            <span class="chip">veri</span>
          </div>
        </article>

        <!-- DEVAMI: Mevcut içeriklerinizi aynı yapıda ekleyin -->
      </section>
    </main>
  </div>

  <script>
    (function() {
      const grid = document.getElementById('toolsGrid');
      const cards = () => Array.from(grid.querySelectorAll('.tool-card'));
      const tagFilters = document.getElementById('tagFilters');
      const typeFilters = document.getElementById('typeFilters');
      const clearBtn = document.getElementById('clearFilters');
      const searchInput = document.getElementById('searchInput');
      const resultsInfo = document.getElementById('resultsInfo');

      // Derle: type ve tag listelerini kartlardan çıkar
      function collectFacets() {
        const tagSet = new Set();
        const typeSet = new Set();
        cards().forEach(card => {
          const type = (card.getAttribute('data-type') || '').trim();
          if (type) typeSet.add(type);
          const tags = (card.getAttribute('data-tags') || '')
            .split(',')
            .map(t => t.trim())
            .filter(Boolean);
          tags.forEach(t => tagSet.add(t));
        });
        return { tags: Array.from(tagSet).sort((a,b)=>a.localeCompare(b, 'tr')),
                 types: Array.from(typeSet).sort((a,b)=>a.localeCompare(b, 'tr')) };
      }

      function renderFilters() {
        const { tags, types } = collectFacets();
        tagFilters.innerHTML = '';
        typeFilters.innerHTML = '';

        types.forEach(type => {
          const id = 'type-' + slug(type);
          const label = document.createElement('label');
          label.innerHTML = `<input type="checkbox" value="${escapeAttr(type)}" id="${id}"><span>${escapeHtml(type)}</span>`;
          typeFilters.appendChild(label);
        });

        tags.forEach(tag => {
          const id = 'tag-' + slug(tag);
          const label = document.createElement('label');
          label.innerHTML = `<input type="checkbox" value="${escapeAttr(tag)}" id="${id}"><span>${escapeHtml(tag)}</span>`;
          tagFilters.appendChild(label);
        });
      }

      function slug(s) { return s.toLowerCase().replace(/\s+/g,'-').replace(/[^a-z0-9\-çğıöşü]/g,''); }
      function escapeHtml(s) { return s.replace(/[&<>\"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;'}[c])); }
      function escapeAttr(s) { return s.replace(/[\"]/g, c => ({'\"':'&quot;'}[c] || '')); }

      function getSelections() {
        const selectedTypes = Array.from(typeFilters.querySelectorAll('input:checked')).map(i => i.value);
        const selectedTags = Array.from(tagFilters.querySelectorAll('input:checked')).map(i => i.value);
        const q = (searchInput.value || '').trim().toLowerCase();
        return { selectedTypes, selectedTags, q };
      }

      function matches(card, {selectedTypes, selectedTags, q}) {
        const type = (card.getAttribute('data-type') || '').trim();
        const tags = (card.getAttribute('data-tags') || '')
          .split(',').map(t => t.trim()).filter(Boolean);

        // Type filter (AND across groups: type must match if any selected)
        if (selectedTypes.length && !selectedTypes.includes(type)) return false;

        // Tag filter: require that ALL selected tags are contained in card (logical AND). Change to OR if preferred.
        if (selectedTags.length && !selectedTags.every(t => tags.includes(t))) return false;

        if (q) {
          const hay = (card.textContent || '').toLowerCase();
          if (!hay.includes(q)) return false;
        }
        return true;
      }

      function applyFilters() {
        const state = getSelections();
        let visible = 0;
        cards().forEach(card => {
          const ok = matches(card, state);
          card.classList.toggle('hidden', !ok);
          if (ok) visible++;
        });
        resultsInfo.textContent = `${visible} araç`;
        saveState();
      }

      function clearFilters() {
        [...typeFilters.querySelectorAll('input:checked')].forEach(i => i.checked = false);
        [...tagFilters.querySelectorAll('input:checked')].forEach(i => i.checked = false);
        searchInput.value = '';
        applyFilters();
      }

      function saveState() {
        const { selectedTypes, selectedTags, q } = getSelections();
        const payload = { t: selectedTypes, g: selectedTags, q };
        try { localStorage.setItem('yz-filters', JSON.stringify(payload)); } catch {}
      }
      function restoreState() {
        try {
          const raw = localStorage.getItem('yz-filters');
          if (!raw) return;
          const { t = [], g = [], q = '' } = JSON.parse(raw);
          // check boxes matching values
          t.forEach(v => {
            const input = [...typeFilters.querySelectorAll('input')].find(i => i.value === v);
            if (input) input.checked = true;
          });
          g.forEach(v => {
            const input = [...tagFilters.querySelectorAll('input')].find(i => i.value === v);
            if (input) input.checked = true;
          });
          searchInput.value = q || '';
        } catch {}
      }

      function bindEvents() {
        typeFilters.addEventListener('change', applyFilters);
        tagFilters.addEventListener('change', applyFilters);
        searchInput.addEventListener('input', debounce(applyFilters, 120));
        clearBtn.addEventListener('click', clearFilters);
      }

      function debounce(fn, ms) {
        let t; return (...args) => { clearTimeout(t); t = setTimeout(() => fn(...args), ms); };
      }

      // Init
      renderFilters();
      bindEvents();
      restoreState();
      applyFilters();
    })();
  </script>
</body>
</html>
