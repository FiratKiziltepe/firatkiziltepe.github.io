<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="GÄ±da etiketlerini yapay zeka ile analiz edin, saÄŸlÄ±k risklerini Ã¶ÄŸrenin">
    <meta name="keywords" content="gÄ±da, etiket, analiz, saÄŸlÄ±k, yapay zeka, iÃ§erik">
    <title>Dengeli Beslen - GÄ±da Ä°Ã§erik Analiz</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Ana Konteyner -->
    <div class="container">
        <!-- Ana Sayfa -->
        <div id="homePage" class="page active">
            <header class="header">
                <div class="logo">
                    <span class="logo-icon">ğŸ¥—</span>
                    <h1>Dengeli Beslen</h1>
                </div>
                <p class="tagline">GÄ±da Ä°Ã§eriÄŸini Analiz Et, BilinÃ§li SeÃ§</p>
            </header>

            <main class="main-content">
                <div class="intro">
                    <h2>Etiket fotoÄŸrafÄ± Ã§ek, saÄŸlÄ±k risklerini Ã¶ÄŸren</h2>
                    <p>Yapay zeka destekli analiz ile gÄ±da Ã¼rÃ¼nlerindeki iÃ§erikleri anÄ±nda deÄŸerlendirin</p>
                </div>

                <div class="action-buttons">
                    <button id="cameraBtn" class="btn btn-primary">
                        <span class="btn-icon">ğŸ“·</span>
                        <span>FotoÄŸraf Ã‡ek</span>
                    </button>
                    <button id="galleryBtn" class="btn btn-secondary">
                        <span class="btn-icon">ğŸ–¼ï¸</span>
                        <span>Galeriden YÃ¼kle</span>
                    </button>
                    <input type="file" id="fileInput" accept="image/*" style="display: none;">
                    <input type="file" id="cameraInput" accept="image/*" capture="environment" style="display: none;">
                </div>

                <div class="how-it-works">
                    <h3>NasÄ±l Ã‡alÄ±ÅŸÄ±r?</h3>
                    <div class="steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <p>Etiketin "Ä°Ã§indekiler" bÃ¶lÃ¼mÃ¼nÃ¼n fotoÄŸrafÄ±nÄ± Ã§ekin</p>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <p>Yapay zeka iÃ§erikleri okur ve analiz eder</p>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <p>SaÄŸlÄ±k risklerini ve aÃ§Ä±klamalarÄ± gÃ¶rÃ¼n</p>
                        </div>
                    </div>
                </div>

                <div class="api-key-section">
                    <h3>API AyarlarÄ±</h3>
                    <p class="api-info">Gemini API anahtarÄ±nÄ±zÄ± girin ve model seÃ§in (ayarlarÄ±nÄ±z tarayÄ±cÄ±nÄ±zda saklanÄ±r)</p>

                    <div class="model-selection">
                        <label for="modelSelect">Model SeÃ§imi</label>
                        <select id="modelSelect" class="model-select">
                            <option value="gemini-2.0-flash">Gemini 2.0 Flash (Ã–nerilen - 15 BGBG/gÃ¼n)</option>
                            <option value="gemini-2.0-flash-lite">Gemini 2.0 Flash-Lite (30 BGBG/gÃ¼n)</option>
                            <option value="gemini-2.5-flash">Gemini 2.5 Flash (10 BGBG/gÃ¼n)</option>
                            <option value="gemini-2.5-flash-lite">Gemini 2.5 Flash-Lite (15 BGBG/gÃ¼n)</option>
                            <option value="gemini-2.5-pro">Gemini 2.5 Pro (2 BGBG/gÃ¼n)</option>
                        </select>
                        <p class="model-info">
                            <span id="modelDescription">HÄ±zlÄ± ve dengeli performans. Ãœcretsiz kullanÄ±m iÃ§in idealdir.</span>
                        </p>
                    </div>

                    <div class="input-group">
                        <input type="password" id="apiKeyInput" placeholder="Gemini API AnahtarÄ±nÄ±z">
                        <button id="saveApiKeyBtn" class="btn btn-save">Kaydet</button>
                    </div>
                    <p class="api-help">
                        <a href="https://aistudio.google.com/app/apikey" target="_blank">API anahtarÄ± almak iÃ§in tÄ±klayÄ±n</a>
                    </p>
                </div>

                <div class="user-profile-section">
                    <h3>ğŸ‘¤ KullanÄ±cÄ± Profili</h3>
                    <p class="profile-info">Analizleri kiÅŸiselleÅŸtirmek iÃ§in bilgilerinizi girin.</p>

                    <div class="profile-group">
                        <h4>Alerjiler</h4>
                        <div class="checkbox-grid">
                            <label class="checkbox-label">
                                <input type="checkbox" id="allergy-peanuts" value="FÄ±stÄ±k">
                                <span>FÄ±stÄ±k</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="allergy-dairy" value="SÃ¼t ÃœrÃ¼nleri">
                                <span>SÃ¼t ÃœrÃ¼nleri</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="allergy-gluten" value="Gluten">
                                <span>Gluten</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="allergy-soy" value="Soya">
                                <span>Soya</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="allergy-eggs" value="Yumurta">
                                <span>Yumurta</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="allergy-shellfish" value="Kabuklu Deniz ÃœrÃ¼nleri">
                                <span>Kabuklu Deniz ÃœrÃ¼nleri</span>
                            </label>
                        </div>
                    </div>

                    <div class="profile-group">
                        <h4>Diyet Tercihleri</h4>
                        <div class="checkbox-grid">
                            <label class="checkbox-label">
                                <input type="checkbox" id="diet-vegan" value="Vegan">
                                <span>Vegan</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="diet-vegetarian" value="Vejetaryen">
                                <span>Vejetaryen</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="diet-halal" value="Helal">
                                <span>Helal</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="diet-kosher" value="KoÅŸer">
                                <span>KoÅŸer</span>
                            </label>
                        </div>
                    </div>

                    <div class="profile-group">
                        <h4>DiÄŸer SaÄŸlÄ±k DurumlarÄ±</h4>
                        <textarea id="healthConditions" placeholder="Ã–rn: Diyabet, hipertansiyon, kalp hastalÄ±ÄŸÄ± vb." rows="3"></textarea>
                    </div>

                    <button id="saveProfileBtn" class="btn btn-primary">
                        <span>ğŸ’¾ Profili Kaydet</span>
                    </button>
                </div>
            </main>

            <footer class="footer">
                <p class="disclaimer">
                    âš ï¸ Bu uygulama bilgilendirme amaÃ§lÄ±dÄ±r. Verilen bilgiler tÄ±bbi tavsiye yerine geÃ§mez.
                    SaÄŸlÄ±k durumunuzla ilgili kararlar iÃ§in lÃ¼tfen bir saÄŸlÄ±k profesyoneline danÄ±ÅŸÄ±n.
                </p>
            </footer>
        </div>

        <!-- Analiz SayfasÄ± -->
        <div id="analysisPage" class="page">
            <div class="analysis-header">
                <button id="backBtn" class="btn btn-back">â† Geri</button>
                <h2>Analiz</h2>
            </div>

            <div class="preview-section">
                <h3>YÃ¼klenen GÃ¶rsel</h3>
                <div class="image-preview">
                    <img id="previewImage" src="" alt="Preview">
                </div>
                <p class="preview-hint">Ä°Ã§indekiler bÃ¶lÃ¼mÃ¼ net gÃ¶rÃ¼nÃ¼yor mu? DeÄŸilse yeni fotoÄŸraf Ã§ekin.</p>
            </div>

            <div class="analyze-section">
                <button id="analyzeBtn" class="btn btn-primary btn-large">
                    <span class="btn-icon">âœ¨</span>
                    <span>Analiz Et</span>
                </button>
            </div>
        </div>

        <!-- YÃ¼kleniyor SayfasÄ± -->
        <div id="loadingPage" class="page">
            <div class="loading-content">
                <div class="spinner"></div>
                <h2>Analiz Ediliyor...</h2>
                <p id="loadingMessage">Etiket okunuyor...</p>
            </div>
        </div>

        <!-- SonuÃ§ SayfasÄ± -->
        <div id="resultsPage" class="page">
            <div class="results-header">
                <button id="backToHomeBtn" class="btn btn-back">â† Ana Sayfa</button>
                <h2>Analiz Sonucu</h2>
            </div>

            <div class="results-content">
                <!-- Risk Seviyesi Badge -->
                <div id="riskBadge" class="risk-badge">
                    <span class="risk-icon"></span>
                    <span class="risk-text"></span>
                </div>

                <!-- Size Ã–zel Ã–zet -->
                <div id="personalizedSummary" class="personalized-summary" style="display: none;">
                    <h3>ğŸ‘¤ Size Ã–zel Ã–zet</h3>
                    <p id="personalizedText"></p>
                </div>

                <!-- Genel Ã–zet -->
                <div class="summary-card">
                    <h3>Genel DeÄŸerlendirme</h3>
                    <p id="summaryText"></p>
                </div>

                <!-- Ä°Ã§erikler Listesi -->
                <div class="ingredients-section">
                    <h3>Tespit Edilen Ä°Ã§erikler</h3>
                    <div id="ingredientsList" class="ingredients-list">
                        <!-- Dinamik olarak doldurulacak -->
                    </div>
                </div>

                <!-- Aksiyon ButonlarÄ± -->
                <div class="action-buttons">
                    <button id="newAnalysisBtn" class="btn btn-primary">
                        <span>Yeni Analiz Yap</span>
                    </button>
                    <button id="shareBtn" class="btn btn-secondary">
                        <span class="btn-icon">ğŸ“¤</span>
                        <span>PaylaÅŸ</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Hata SayfasÄ± -->
        <div id="errorPage" class="page">
            <div class="error-content">
                <div class="error-icon">âš ï¸</div>
                <h2>Bir Hata OluÅŸtu</h2>
                <p id="errorMessage"></p>
                <button id="retryBtn" class="btn btn-primary">Tekrar Dene</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
