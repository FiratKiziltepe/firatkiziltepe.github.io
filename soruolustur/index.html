<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Soru Olu≈üturucu - Gemini AI</title>

    <!-- Tailwind CSS CDN (For rapid prototyping - Consider local build for production) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- PDF.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

    <!-- SheetJS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <!-- CryptoJS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div class="flex items-center gap-3">
                    <i class="fas fa-file-pdf text-3xl"></i>
                    <div>
                        <h1 class="text-2xl font-bold">PDF Soru Olu≈üturucu</h1>
                        <p class="text-blue-100 text-sm">Gemini AI ile Akƒ±llƒ± Soru √úretimi</p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <div id="apiStatus" class="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg">
                        <i class="fas fa-circle text-xs" id="apiStatusIcon"></i>
                        <span class="text-sm" id="apiStatusText">API Baƒülantƒ±sƒ± Yok</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Tab Navigation -->
        <div class="bg-white rounded-lg shadow-md mb-6">
            <div class="border-b border-gray-200">
                <nav class="flex flex-wrap -mb-px">
                    <button class="tab-button active" data-tab="setup">
                        <i class="fas fa-upload mr-2"></i>Kurulum
                    </button>
                    <button class="tab-button" data-tab="config">
                        <i class="fas fa-cog mr-2"></i>Yapƒ±landƒ±rma
                    </button>
                    <button class="tab-button" data-tab="process">
                        <i class="fas fa-play-circle mr-2"></i>ƒ∞≈üleme
                    </button>
                    <button class="tab-button" data-tab="results">
                        <i class="fas fa-table mr-2"></i>Sonu√ßlar
                    </button>
                </nav>
            </div>

            <!-- Tab Content -->
            <div class="p-6">
                <!-- Setup Tab -->
                <div id="setup-tab" class="tab-content active">
                    <div class="grid md:grid-cols-2 gap-6">
                        <!-- PDF Upload -->
                        <div class="space-y-4">
                            <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-2">
                                <i class="fas fa-file-upload text-blue-600"></i>PDF Y√ºkleme
                            </h2>

                            <div id="dropZone" class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer">
                                <i class="fas fa-cloud-upload-alt text-5xl text-gray-400 mb-4"></i>
                                <p class="text-gray-600 mb-2">PDF dosyasƒ±nƒ± buraya s√ºr√ºkleyin</p>
                                <p class="text-sm text-gray-500 mb-4">veya</p>
                                <label for="pdfInput" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 cursor-pointer inline-block">
                                    Dosya Se√ß
                                </label>
                                <input type="file" id="pdfInput" accept="application/pdf" class="hidden">
                            </div>

                            <div id="pdfInfo" class="hidden bg-blue-50 border border-blue-200 rounded-lg p-4">
                                <h3 class="font-semibold text-blue-900 mb-2">PDF Bilgileri</h3>
                                <div class="space-y-1 text-sm text-blue-800">
                                    <p><strong>Dosya:</strong> <span id="pdfFileName"></span></p>
                                    <p><strong>Sayfa Sayƒ±sƒ±:</strong> <span id="pdfPages"></span></p>
                                    <p><strong>Boyut:</strong> <span id="pdfSize"></span></p>
                                </div>
                            </div>

                            <!-- Page Selection -->
                            <div id="pageSelection" class="hidden space-y-3">
                                <label class="block text-sm font-medium text-gray-700">Sayfa Se√ßimi</label>
                                <div class="flex gap-2">
                                    <button id="selectAllPages" class="btn-secondary flex-1">
                                        <i class="fas fa-check-double mr-2"></i>T√ºm√ºn√º Se√ß
                                    </button>
                                    <button id="customPages" class="btn-secondary flex-1">
                                        <i class="fas fa-edit mr-2"></i>√ñzel Se√ßim
                                    </button>
                                </div>
                                <input type="text" id="pageRange" placeholder="√ñrn: 1-5, 10, 15-20"
                                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent hidden">
                                <p class="text-sm text-gray-600" id="selectedPagesInfo"></p>
                            </div>
                        </div>

                        <!-- API Configuration -->
                        <div class="space-y-4">
                            <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-2">
                                <i class="fas fa-key text-blue-600"></i>API Yapƒ±landƒ±rmasƒ±
                            </h2>

                            <!-- Model Selection -->
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">
                                    Gemini Modeli
                                    <span class="text-xs text-gray-500">(√ñnerilen: 2.0 Flash)</span>
                                </label>
                                <select id="modelSelect" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                    <option value="gemini-2.0-flash-exp" selected>‚ö° Gemini 2.0 Flash (Hƒ±zlƒ± & Dengeli - √ñnerilen)</option>
                                    <option value="gemini-2.0-flash-lite">‚ö°‚ö° Gemini 2.0 Flash-Lite (En Hƒ±zlƒ±)</option>
                                    <option value="gemini-2.5-flash">‚≠ê Gemini 2.5 Flash (Dengeli)</option>
                                    <option value="gemini-2.5-flash-lite">üöÄ Gemini 2.5 Flash-Lite (Hƒ±zlƒ±)</option>
                                    <option value="gemini-2.5-pro">üíé Gemini 2.5 Pro (En ƒ∞yi Kalite)</option>
                                </select>
                                <div id="modelInfo" class="text-xs text-gray-600 bg-gray-50 p-3 rounded"></div>
                            </div>

                            <!-- API Key -->
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">API Anahtarƒ±</label>
                                <div class="relative">
                                    <input type="password" id="apiKey" placeholder="Google Gemini API Anahtarƒ±nƒ±zƒ± girin"
                                           class="w-full px-4 py-2 pr-20 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                    <button id="toggleApiKey" class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                                <div class="flex gap-2">
                                    <button id="testApiKey" class="btn-secondary flex-1">
                                        <i class="fas fa-vial mr-2"></i>Baƒülantƒ±yƒ± Test Et
                                    </button>
                                    <button id="clearApiKey" class="btn-outline flex-1">
                                        <i class="fas fa-trash mr-2"></i>Temizle
                                    </button>
                                </div>
                                <a href="https://makersuite.google.com/app/apikey" target="_blank"
                                   class="text-sm text-blue-600 hover:underline block">
                                    <i class="fas fa-external-link-alt mr-1"></i>API Anahtarƒ± Al
                                </a>
                            </div>

                            <!-- Estimation -->
                            <div id="estimationBox" class="hidden bg-green-50 border border-green-200 rounded-lg p-4">
                                <h3 class="font-semibold text-green-900 mb-2">Tahminler</h3>
                                <div class="space-y-1 text-sm text-green-800">
                                    <p><strong>API ƒ∞stekleri:</strong> <span id="estRequests">0</span></p>
                                    <p><strong>Toplam Soru:</strong> <span id="estQuestions">0</span></p>
                                    <p><strong>Tahmini S√ºre:</strong> <span id="estTime">0</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Configuration Tab -->
                <div id="config-tab" class="tab-content hidden">
                    <div class="grid md:grid-cols-2 gap-6">
                        <!-- Question Types -->
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-2">
                                    <i class="fas fa-question-circle text-blue-600"></i>Soru Tipleri
                                </h2>
                                <div class="flex gap-2">
                                    <button id="selectAllTypes" class="text-sm text-blue-600 hover:underline">
                                        <i class="fas fa-check-square mr-1"></i>T√ºm√ºn√º Se√ß
                                    </button>
                                    <button id="deselectAllTypes" class="text-sm text-gray-600 hover:underline">
                                        <i class="fas fa-square mr-1"></i>T√ºm√ºn√º Kaldƒ±r
                                    </button>
                                </div>
                            </div>

                            <div id="questionTypesList" class="grid sm:grid-cols-2 gap-3 max-h-96 overflow-y-auto p-2">
                                <!-- Question types will be dynamically loaded -->
                            </div>

                            <button id="addCustomType" class="btn-outline w-full">
                                <i class="fas fa-plus mr-2"></i>√ñzel Soru Tipi Ekle
                            </button>
                        </div>

                        <!-- Batch & Questions Configuration -->
                        <div class="space-y-4">
                            <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-2">
                                <i class="fas fa-layer-group text-blue-600"></i>ƒ∞≈üleme Ayarlarƒ±
                            </h2>

                            <!-- Questions per Page/Batch -->
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Sayfa/Grup Ba≈üƒ±na Soru Sayƒ±sƒ±</label>
                                <input type="number" id="questionsPerPage" min="1" max="50" value="5"
                                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                <p class="text-xs text-gray-600">1-50 arasƒ± bir deƒüer girin</p>
                            </div>

                            <!-- Batch Strategy -->
                            <div class="space-y-3">
                                <label class="block text-sm font-medium text-gray-700">ƒ∞≈üleme Stratejisi</label>

                                <label class="flex items-center gap-3 p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                                    <input type="radio" name="batchStrategy" value="page-by-page" checked class="w-4 h-4 text-blue-600">
                                    <div class="flex-1">
                                        <div class="font-medium text-gray-900">Sayfa Sayfa</div>
                                        <div class="text-sm text-gray-600">Her sayfa i√ßin ayrƒ± istek (detaylƒ±)</div>
                                    </div>
                                </label>

                                <label class="flex items-center gap-3 p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                                    <input type="radio" name="batchStrategy" value="batch-by-pages" class="w-4 h-4 text-blue-600">
                                    <div class="flex-1">
                                        <div class="font-medium text-gray-900">Sayfa Gruplarƒ±</div>
                                        <div class="text-sm text-gray-600">Belirli sayƒ±da sayfayƒ± grupla</div>
                                    </div>
                                </label>

                                <div id="batchSizeContainer" class="hidden ml-7 space-y-2">
                                    <label class="block text-sm font-medium text-gray-700">Grup Ba≈üƒ±na Sayfa Sayƒ±sƒ±</label>
                                    <input type="number" id="batchSize" min="2" max="20" value="5"
                                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                </div>
                            </div>

                            <!-- Distribution Preview -->
                            <div id="distributionPreview" class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                <h3 class="font-semibold text-blue-900 mb-2">Daƒüƒ±lƒ±m √ñnizlemesi</h3>
                                <div id="distributionContent" class="text-sm text-blue-800"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Processing Tab -->
                <div id="process-tab" class="tab-content hidden">
                    <div class="max-w-4xl mx-auto space-y-6">
                        <!-- Start Button -->
                        <div class="text-center">
                            <button id="startProcessing" class="btn-primary text-lg px-12 py-4 disabled:opacity-50 disabled:cursor-not-allowed">
                                <i class="fas fa-rocket mr-2"></i>Soru √úretmeye Ba≈üla
                            </button>
                        </div>

                        <!-- Progress Section -->
                        <div id="progressSection" class="hidden space-y-4">
                            <!-- Overall Progress -->
                            <div class="bg-white border border-gray-200 rounded-lg p-6">
                                <div class="flex items-center justify-between mb-2">
                                    <h3 class="font-semibold text-gray-800">Genel ƒ∞lerleme</h3>
                                    <span id="progressPercent" class="text-2xl font-bold text-blue-600">0%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden">
                                    <div id="progressBar" class="bg-gradient-to-r from-blue-500 to-indigo-600 h-full transition-all duration-300" style="width: 0%"></div>
                                </div>
                            </div>

                            <!-- Statistics Grid -->
                            <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
                                <div class="stat-card">
                                    <div class="stat-icon bg-blue-100 text-blue-600">
                                        <i class="fas fa-layer-group"></i>
                                    </div>
                                    <div>
                                        <div class="stat-value" id="currentBatch">0</div>
                                        <div class="stat-label">Mevcut Grup</div>
                                    </div>
                                </div>

                                <div class="stat-card">
                                    <div class="stat-icon bg-green-100 text-green-600">
                                        <i class="fas fa-question"></i>
                                    </div>
                                    <div>
                                        <div class="stat-value" id="questionsGenerated">0</div>
                                        <div class="stat-label">√úretilen Soru</div>
                                    </div>
                                </div>

                                <div class="stat-card">
                                    <div class="stat-icon bg-yellow-100 text-yellow-600">
                                        <i class="fas fa-clock"></i>
                                    </div>
                                    <div>
                                        <div class="stat-value" id="timeRemaining">--:--</div>
                                        <div class="stat-label">Kalan S√ºre</div>
                                    </div>
                                </div>

                                <div class="stat-card">
                                    <div class="stat-icon bg-purple-100 text-purple-600">
                                        <i class="fas fa-tachometer-alt"></i>
                                    </div>
                                    <div>
                                        <div class="stat-value" id="rateLimitStatus">OK</div>
                                        <div class="stat-label">Rate Limit</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Control Buttons -->
                            <div class="flex gap-3 justify-center">
                                <button id="pauseProcessing" class="btn-warning hidden">
                                    <i class="fas fa-pause mr-2"></i>Duraklat
                                </button>
                                <button id="resumeProcessing" class="btn-success hidden">
                                    <i class="fas fa-play mr-2"></i>Devam Et
                                </button>
                                <button id="cancelProcessing" class="btn-danger">
                                    <i class="fas fa-stop mr-2"></i>ƒ∞ptal Et
                                </button>
                            </div>

                            <!-- Activity Log -->
                            <div class="bg-gray-900 text-green-400 rounded-lg p-4 font-mono text-sm max-h-64 overflow-y-auto" id="activityLog">
                                <div class="opacity-75">ƒ∞≈üleme ba≈ülamayƒ± bekliyor...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Results Tab -->
                <div id="results-tab" class="tab-content hidden">
                    <div class="space-y-4">
                        <!-- Results Header -->
                        <div class="flex items-center justify-between flex-wrap gap-4">
                            <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-2">
                                <i class="fas fa-list text-blue-600"></i>√úretilen Sorular
                                <span id="resultsCount" class="text-sm font-normal text-gray-600">(0 soru)</span>
                            </h2>
                            <div class="flex gap-2">
                                <button id="exportExcel" class="btn-success" disabled>
                                    <i class="fas fa-file-excel mr-2"></i>Excel'e Aktar
                                </button>
                                <button id="clearResults" class="btn-danger" disabled>
                                    <i class="fas fa-trash mr-2"></i>Temizle
                                </button>
                            </div>
                        </div>

                        <!-- Filters -->
                        <div class="bg-white border border-gray-200 rounded-lg p-4">
                            <div class="grid md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Soru Tipine G√∂re Filtrele</label>
                                    <select id="filterQuestionType" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                        <option value="">T√ºm√º</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Arama</label>
                                    <input type="text" id="searchResults" placeholder="Soru veya cevap ara..."
                                           class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                </div>
                                <div class="flex items-end">
                                    <button id="resetFilters" class="btn-outline w-full">
                                        <i class="fas fa-redo mr-2"></i>Filtreleri Sƒ±fƒ±rla
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Results Table -->
                        <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                            <div class="overflow-x-auto">
                                <table class="w-full" id="resultsTable">
                                    <thead class="bg-gray-50 border-b border-gray-200">
                                        <tr>
                                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">#</th>
                                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Sayfa</th>
                                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Soru</th>
                                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Cevap</th>
                                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Tip</th>
                                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">ƒ∞≈ülemler</th>
                                        </tr>
                                    </thead>
                                    <tbody id="resultsTableBody" class="divide-y divide-gray-200">
                                        <tr>
                                            <td colspan="6" class="px-4 py-8 text-center text-gray-500">
                                                <i class="fas fa-inbox text-4xl mb-2 opacity-50"></i>
                                                <p>Hen√ºz soru √ºretilmedi</p>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Pagination -->
                            <div id="pagination" class="hidden border-t border-gray-200 px-4 py-3 flex items-center justify-between">
                                <div class="text-sm text-gray-700">
                                    G√∂sterilen: <span id="paginationInfo"></span>
                                </div>
                                <div class="flex gap-2">
                                    <button id="prevPage" class="btn-outline px-3 py-1 text-sm">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <span id="pageNumbers" class="flex gap-1"></span>
                                    <button id="nextPage" class="btn-outline px-3 py-1 text-sm">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Welcome Message (First Time Users) - Simplified -->
        <div id="welcomeMessage" class="bg-blue-50 border-l-4 border-blue-600 rounded-r-lg p-4 mb-6">
            <div class="flex items-center justify-between gap-4">
                <div class="flex items-center gap-3 flex-1">
                    <div class="text-3xl">üöÄ</div>
                    <div>
                        <h3 class="font-semibold text-gray-900">Hemen Ba≈ülayƒ±n!</h3>
                        <p class="text-sm text-gray-700">
                            <span class="font-medium">1.</span> API anahtarƒ± girin ‚Üí
                            <span class="font-medium">2.</span> PDF y√ºkleyin ‚Üí
                            <span class="font-medium">3.</span> Soru √ºretin ‚Üí
                            <span class="font-medium">4.</span> Excel'e aktarƒ±n
                        </p>
                    </div>
                </div>
                <button id="closeWelcome" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 mt-12">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between flex-wrap gap-4 text-sm text-gray-600">
                <div>
                    <strong>PDF Soru Olu≈üturucu</strong> v1.0
                </div>
                <div class="flex gap-4">
                    <a href="https://github.com/FiratKiziltepe/firatkiziltepe.github.io" target="_blank" class="hover:text-blue-600">
                        <i class="fab fa-github mr-1"></i>GitHub
                    </a>
                    <a href="#" id="showHelp" class="hover:text-blue-600">
                        <i class="fas fa-question-circle mr-1"></i>Yardƒ±m
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Custom Type Modal - Multi-Step Form -->
    <div id="customTypeModal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header bg-gradient-to-r from-blue-600 to-indigo-700 text-white">
                <div>
                    <h3 class="text-2xl font-bold">Yeni Soru Tipi Olu≈ütur</h3>
                    <p class="text-sm text-blue-100 mt-1">√ñzel soru tipinizi 2 adƒ±mda tanƒ±mlayƒ±n</p>
                </div>
                <button class="modal-close text-white hover:text-blue-100">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Step Indicator -->
            <div class="step-indicator px-8 pt-6">
                <div class="step active" data-step="1">
                    <div class="step-circle">
                        <i class="fas fa-info-circle"></i>
                    </div>
                    <div class="step-label">Temel Bilgiler</div>
                </div>
                <div class="step-line"></div>
                <div class="step" data-step="2">
                    <div class="step-circle">
                        <i class="fas fa-pencil-alt"></i>
                    </div>
                    <div class="step-label">A√ßƒ±klama & √ñrnek</div>
                </div>
            </div>

            <div class="modal-body">
                <!-- Step 1: Basic Info -->
                <div class="form-step active" data-step="1">
                    <h4 class="text-xl font-semibold mb-6 text-gray-900">Temel Bilgiler</h4>
                    <div class="space-y-6">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">
                                    T√ºrk√ße Adƒ± *
                                </label>
                                <input type="text" id="customTypeName"
                                       placeholder="√ñrn: Kar≈üƒ±la≈ütƒ±rma"
                                       class="w-full px-4 py-3 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <p class="text-xs text-gray-500 mt-1">Soru tipinin T√ºrk√ße adƒ±</p>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">
                                    ƒ∞ngilizce Adƒ± *
                                </label>
                                <input type="text" id="customTypeNameEn"
                                       placeholder="e.g., Comparison"
                                       class="w-full px-4 py-3 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <p class="text-xs text-gray-500 mt-1">English name for the question type</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Description & Example -->
                <div class="form-step" data-step="2">
                    <h4 class="text-xl font-semibold mb-6 text-gray-900">A√ßƒ±klama & √ñrnek</h4>
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">
                                A√ßƒ±klama *
                            </label>
                            <textarea id="customTypeDesc" rows="4"
                                      placeholder="Bu soru tipi ne t√ºr sorular i√ßerir? Hangi durumlarda kullanƒ±lƒ±r?"
                                      class="w-full px-4 py-3 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></textarea>
                            <p class="text-xs text-gray-500 mt-1">Soru tipinin amacƒ±nƒ± ve kullanƒ±m alanƒ±nƒ± a√ßƒ±klayƒ±n</p>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">
                                √ñrnek Soru *
                            </label>
                            <input type="text" id="customTypeExample"
                                   placeholder="√ñrn: X ile Y arasƒ±ndaki temel fark nedir?"
                                   class="w-full px-4 py-3 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <p class="text-xs text-gray-500 mt-1">Bu tipte sorulabilecek √∂rnek bir soru yazƒ±n</p>
                        </div>

                        <!-- Info Box -->
                        <div class="bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-4">
                            <div class="flex gap-3">
                                <i class="fas fa-lightbulb text-blue-600 text-xl mt-1"></i>
                                <div>
                                    <p class="font-semibold text-blue-900 mb-1">ƒ∞pucu</p>
                                    <p class="text-sm text-blue-800">
                                        √ñzel soru tipleri kaydedilir ve sonraki kullanƒ±mlarƒ±nƒ±zda otomatik olarak y√ºklenir.
                                        ƒ∞stediƒüiniz zaman silebilir veya d√ºzenleyebilirsiniz.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="prevStepBtn" class="btn-outline hidden">
                    <i class="fas fa-arrow-left mr-2"></i>Geri
                </button>
                <button id="nextStepBtn" class="btn-primary">
                    ƒ∞leri<i class="fas fa-arrow-right ml-2"></i>
                </button>
                <button id="saveCustomType" class="btn-success hidden">
                    <i class="fas fa-check-circle mr-2"></i>Kaydet
                </button>
                <button class="btn-outline modal-close">
                    <i class="fas fa-times mr-2"></i>ƒ∞ptal
                </button>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="helpModal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content max-w-3xl">
            <div class="modal-header">
                <h3 class="text-lg font-semibold">Kullanƒ±m Kƒ±lavuzu</h3>
                <button class="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="prose prose-sm max-w-none">
                    <h4>Ba≈ülangƒ±√ß</h4>
                    <p>Bu uygulama PDF dosyalarƒ±nƒ±zdan Google Gemini AI kullanarak otomatik soru-cevap √ßiftleri √ºretir.</p>

                    <h4>Adƒ±mlar</h4>
                    <ol>
                        <li><strong>API Anahtarƒ±:</strong> Google AI Studio'dan √ºcretsiz API anahtarƒ± alƒ±n</li>
                        <li><strong>PDF Y√ºkleme:</strong> Soru √ºretmek istediƒüiniz PDF'i y√ºkleyin</li>
                        <li><strong>Yapƒ±landƒ±rma:</strong> Soru tiplerini ve i≈üleme ayarlarƒ±nƒ± belirleyin</li>
                        <li><strong>ƒ∞≈üleme:</strong> Soru √ºretme i≈ülemini ba≈ülatƒ±n ve ilerlemesini takip edin</li>
                        <li><strong>Dƒ±≈üa Aktarma:</strong> Sonu√ßlarƒ± Excel formatƒ±nda indirin</li>
                    </ol>

                    <h4>Soru Tipleri</h4>
                    <p>Uygulama 11 farklƒ± soru tipi sunar: Olgusal, Kavramsal, Baƒülamsal, Nedensel, S√ºre√ßsel, Analitik, Varsayƒ±msal, Yansƒ±tƒ±cƒ±, Spek√ºlatif, Listeleme ve √ñzetleme.</p>

                    <h4>ƒ∞pu√ßlarƒ±</h4>
                    <ul>
                        <li>Daha hƒ±zlƒ± i≈ülem i√ßin batch i≈üleme kullanƒ±n</li>
                        <li>Pro model daha kaliteli ama yava≈ü sonu√ßlar verir</li>
                        <li>Flash modelleri hƒ±zlƒ± ve dengeli performans sunar</li>
                        <li>√ñzel soru tipleri ekleyebilir ve kaydedebilirsiniz</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary modal-close">Anladƒ±m</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/storage.js"></script>
    <script type="module" src="js/question-types.js"></script>
    <script type="module" src="js/pdf-handler.js"></script>
    <script type="module" src="js/rate-limiter.js"></script>
    <script type="module" src="js/api-client.js"></script>
    <script type="module" src="js/batch-processor.js"></script>
    <script type="module" src="js/excel-exporter.js"></script>
    <script type="module" src="js/ui-controller.js"></script>
    <script type="module" src="js/app.js"></script>
</body>
</html>
